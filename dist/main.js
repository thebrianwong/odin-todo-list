(()=>{"use strict";const t=t=>{let e=[];return Object.assign(t,{addTask:t=>(e.push(t),e.length-1),removeTask(t){e[t]=void 0},getChecklistTasks:()=>e,getSpecificChecklistTask:t=>e[t]})},e=(()=>{let s=0;const n=()=>s;let a={getCurrentTabIndex:n,setCurrentTabIndex:t=>{s=null===t?null:Number(t)},getCurrentTabObject:()=>{const t=n();return e.getSpecificChecklistTask(t)}};return Object.assign(a,t(a)),a})(),s=(t,e)=>{let s=e;return Object.assign(t,{getTaskTitle:()=>s,setTaskTitle(t){s=t}})},n=(()=>{const t=t=>{let e=t.target.parentElement;for(;"tab-title"!==e.getAttribute("class");)e=e.parentElement;return e},s=t=>{let e=t.target.parentElement,s=Array.from(e.classList);for(;!s.includes("to-do-task-subcontainer");)e=e.parentElement,s=Array.from(e.classList);return e},n=t=>{let e=t.target,s=Array.from(e.classList);for(;!s.includes("checklist-task");)e=e.parentElement,s=Array.from(e.classList);return e},a=t=>document.querySelector(`[data-task-index='${t}']`),o=t=>e.getSpecificChecklistTask(t),c=(t,e)=>o(t).getSpecificChecklistTask(e);return{checkIfWasCurrentTab:e=>"current-tab"===t(e).getAttribute("id"),checkIfOnlyOneTab:()=>{const t=document.querySelector(".to-do-tab-section");return 1===Array.from(t.querySelectorAll(".tab-title")).length},getTaskIndex:t=>{const e=(t=>{let e=t.target.parentElement,s=Array.from(e.classList);for(;!s.includes("to-do-task");)e=e.parentElement,s=Array.from(e.classList);return e})(t);return e.dataset.taskIndex},getChecklistTaskIndex:t=>n(t).dataset.checklistTaskIndex,getTabIndex:e=>t(e).dataset.tabIndex,getNewValue:t=>t.target.value,getTaskSubcontainerType:t=>{const e=s(t),n=Array.from(e.classList);let a;return n.includes("to-do-title-section")?a="Title":n.includes("to-do-due-date-section")?a="Due Date":n.includes("to-do-description-section")?a="Description":n.includes("to-do-notes-section")&&(a="Notes"),a},getTaskSubcontainerElement:(t,e)=>{const s=a(t);let n;return"Title"===e?n=s.querySelector(".to-do-title-section"):"Due Date"===e?n=s.querySelector(".to-do-due-date-section"):"Description"===e?n=s.querySelector(".to-do-description-section"):"Notes"===e&&(n=s.querySelector(".to-do-notes-section")),n},getTaskElement:a,getChecklistTaskElement:(t,e)=>a(t).querySelector(`[data-checklist-task-index='${e}']`),getTabElement:t=>document.querySelector(`[data-tab-index='${t}']`),checkForExistingInputElement:(e,a)=>{let o;return"Tab"===a?o=t(e).querySelector(".tab-name-input"):"Task"===a?o=s(e).querySelector(".task-input"):"Checklist Task"===a&&(o=n(e).querySelector(".checklist-complete-section").querySelector(".checklist-input")),null!==o},tryingToDoubleClick:t=>{const e=a(t);return!!Array.from(e.classList).includes("mid-animation")},getTabObject:o,getTaskObject:c,getChecklistTaskObject:(t,e,s)=>c(t,e).getSpecificChecklistTask(s),checkIfNoMoreTabs:()=>{const t=document.querySelector(".to-do-tab-section");return 0===Array.from(t.querySelectorAll(".tab-title")).length}}})(),a=(t,e)=>{let s=e;return Object.assign(t,{getTaskDescription:()=>s,setTaskDescription(t){s=t}})},o=(t,e)=>{let s=e;return Object.assign(t,{toggleCompletedState(){s=!s},getCompletedState:()=>s})},c=(n="New Tab")=>{const a=(e=>{let n={};return Object.assign(n,s(n,e),t(n)),n})(n);return e.addTask(a)},i=(t,s)=>{e.getSpecificChecklistTask(t).setTaskTitle(s)},l=t=>{e.setCurrentTabIndex(t)},r=()=>{const t=e.getChecklistTasks();let s;for(const n in t)if(void 0!==t[n])return e.setCurrentTabIndex(n),s=n,s;return e.setCurrentTabIndex(null),null},d=(n,c="New Task Title",i="Task Due Date",l="Task Description",r="Task Notes",d=!1,k=!1)=>{const u=e.getSpecificChecklistTask(n),T=((e,n,c,i,l,r)=>{let d={};return Object.assign(d,s(d,e),a(d,c),((t,e)=>{let s=e;return Object.assign(t,{getTaskDueDate:()=>s,setTaskDueDate(t){s=t}})})(d,n),((t,e)=>{let s=e;return Object.assign(t,{getTaskNotes:()=>s,setTaskNotes(t){s=t}})})(d,i),((t,e)=>{let s=e;return Object.assign(t,{togglePinnedState(){s=!s},getPinnedState:()=>s})})(d,l),o(d,r),t(d)),d})(c,i,l,r,d,k);return u.addTask(T)},k=(t,s,n)=>{const a=e.getCurrentTabObject().getSpecificChecklistTask(t);"Title"===s?a.setTaskTitle(n):"Due Date"===s?a.setTaskDueDate(n):"Description"===s?a.setTaskDescription(n):"Notes"===s&&a.setTaskNotes(n)},u=t=>{e.getCurrentTabObject().getSpecificChecklistTask(t).toggleCompletedState()},T=(t,s,n="Checklist Task Description",c=!1)=>{const i=e.getSpecificChecklistTask(t).getSpecificChecklistTask(s),l=((t,e)=>{let s={};return Object.assign(s,a(s,t),o(s,e)),s})(n,c);return i.addTask(l)},g=(t,s,n)=>{e.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(s).setTaskDescription(n)},b=(t,s)=>{e.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(s).toggleCompletedState()},m=t=>{e.getCurrentTabObject().getSpecificChecklistTask(t).togglePinnedState()},p=()=>{document.querySelector(".add-tab").addEventListener("click",G.addTab)},h=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-tab"));for(const t of e)t.addEventListener("click",G.insertTabInputElement)},C=t=>{t.addEventListener("keydown",G.updateTab)},f=(t=document)=>{const e=Array.from(t.querySelectorAll(".remove-tab"));for(const t of e)t.addEventListener("click",G.removeTab)},S=(t=document)=>{const e=Array.from(t.querySelectorAll(".switch-tab"));for(const t of e)t.addEventListener("click",G.switchTab)},y=()=>{document.querySelector(".new-to-do-task").addEventListener("click",G.addTask)},E=(t=document)=>{const e=Array.from(t.querySelectorAll(".to-do-remove-task"));for(const t of e)t.addEventListener("click",G.removeTask)},I=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-task"));for(const t of e)t.addEventListener("click",G.insertTaskInputElement)},v=t=>{t.addEventListener("keydown",G.updateTask)},D=(t=document)=>{const e=t.querySelectorAll(".to-do-complete-checkbox");for(const t of e)t.addEventListener("click",G.toggleTaskComplete)},L=(t=document)=>{const e=t.querySelectorAll(".add-checklist-task");for(const t of e)t.addEventListener("click",G.addNewChecklistTask)},O=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-checklist-task"));for(const t of e)t.addEventListener("click",G.insertChecklistTaskInputElement)},x=t=>{t.addEventListener("keydown",G.updateChecklistTask)},A=(t=document)=>{const e=t.querySelectorAll(".checklist-complete-checkbox");for(const t of e)t.addEventListener("click",G.toggleChecklistTaskComplete)},q=(t=document)=>{const e=t.querySelectorAll(".remove-checklist-task");for(const t of e)t.addEventListener("click",G.removeChecklistTask)},_=(t=document)=>{const e=t.querySelectorAll(".to-do-pin");for(const t of e)t.addEventListener("click",G.toggleTaskPin)},N=(t=document)=>{const e=t.querySelectorAll(".to-do-task-change-display");for(const t of e)t.addEventListener("click",G.toggleDisplayTaskDetails)},j=(()=>{const t=t=>{const s=e.getCurrentTabObject().getSpecificChecklistTask(t),n=document.querySelector(".to-do-content"),a=document.createElement("div");a.classList.add("to-do-task"),a.dataset.taskIndex=t;const o=s.getTaskTitle(),c=s.getTaskDescription(),i=s.getTaskDueDate(),l=s.getTaskNotes(),r=`to-do-complete-checkbox-${t}`;return a.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-unpinned.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="ID PLACEHOLDER" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="ID PLACEHOLDER">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer animation-target">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer animation-target">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <div action="" class="checklist animation-target">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </div>\n        ',a.querySelector(".to-do-title").textContent=o,a.querySelector(".to-do-due-date").textContent="Due On: "+i,a.querySelector(".to-do-description").textContent="Description: "+c,a.querySelector(".to-do-notes").textContent="Notes: "+l,n.appendChild(a),a.querySelector("label").setAttribute("for",r),a.querySelector(".to-do-complete-checkbox").setAttribute("id",r),a},s=t=>{const s=n.getTaskElement(t),a=s.querySelector(".to-do-complete-checkbox");e.getCurrentTabObject().getSpecificChecklistTask(t).getCompletedState()?(a.checked=!0,s.classList.add("task-completed")):(a.checked=!1,s.classList.remove("task-completed"))},a=(t,s)=>{const a=n.getTaskElement(t).querySelector(".checklist"),o=e.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(s).getTaskDescription(),c=document.createElement("div");return c.classList.add("checklist-task"),c.dataset.checklistTaskIndex=s,c.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${t}-${s}" class="checklist-complete-checkbox">\n                <label for="checklist-${t}-${s}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,c.querySelector(".checklist-task-description").textContent=o,a.appendChild(c),c},o=(t,s)=>{const a=n.getChecklistTaskElement(t,s).querySelector(".checklist-complete-section").querySelector(".checklist-complete-checkbox"),o=e.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(s);a.checked=o.getCompletedState(),o.getCompletedState()?a.classList.add("checklist-task-completed"):a.classList.remove("checklist-task-completed")},c=t=>{const s=e.getCurrentTabObject(),n=t.dataset.taskIndex,a=s.getSpecificChecklistTask(n),o=t.querySelector(".to-do-pin").querySelector("img");a.getPinnedState()?o.setAttribute("src","./assets/pin-pinned.png"):o.setAttribute("src","./assets/pin-unpinned.png")},i=t=>{const s=e.getCurrentTabObject(),n=t.dataset.taskIndex,a=s.getSpecificChecklistTask(n),o=document.querySelector(".to-do-content");if(a.getPinnedState()){const e=Array.from(document.querySelectorAll(".pinned-task"));if(0===e.length)o.insertBefore(t,o.firstElementChild);else{const s=e[e.length-1];for(const a of e){if(n<a.dataset.taskIndex){o.insertBefore(t,a);break}a===s&&s.insertAdjacentElement("afterend",t)}}t.classList.add("pinned-task")}};return{addNewTabToDOM:t=>{const s=document.querySelector(".add-tab"),n=document.querySelector(".to-do-tab-section"),a=document.createElement("div"),o=e.getSpecificChecklistTask(t).getTaskTitle();return a.classList.add("tab-title"),a.dataset.tabIndex=t,a.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',a.querySelector(".tab-name").textContent=o,n.insertBefore(a,s),a},setTabInputElementValue:t=>{const s=n.getTabElement(t).querySelector("input"),a=e.getSpecificChecklistTask(t).getTaskTitle();s.value=a},insertTabInputElement:t=>{const e=n.getTabElement(t),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),e.insertBefore(s,e.firstChild),s.focus(),s},insertTabNameElement:t=>{const s=n.getTabElement(t),a=e.getSpecificChecklistTask(t).getTaskTitle(),o=document.createElement("button");o.classList.add("switch-tab");const c=document.createElement("h2");return c.classList.add("tab-name"),c.textContent=a,o.appendChild(c),s.insertBefore(o,s.firstChild),s},setDefaultCurrentTabDOM:t=>{const e=n.getTabElement(t);null!==e&&e.setAttribute("id","current-tab")},setCurrentTabDOM:t=>{n.getTabElement(t).setAttribute("id","current-tab")},addCurrentTabIndicator:()=>{const t=e.getCurrentTabIndex();console.log(t),null!==t&&n.getTabElement(t).setAttribute("id","current-tab")},addNewTaskToDOM:t,insertTaskInputElement:(t,e)=>{const s=n.getTaskSubcontainerElement(t,e),a=document.createElement("input");return a.classList.add("task-input"),a.setAttribute("type","text"),s.insertBefore(a,s.firstChild),a.focus(),a},setTaskInputElementValue:(t,s)=>{const a=n.getTaskSubcontainerElement(t,s).querySelector("input"),o=e.getCurrentTabObject().getSpecificChecklistTask(t);let c;"Title"===s?c=o.getTaskTitle():"Due Date"===s?c=o.getTaskDueDate():"Description"===s?c=o.getTaskDescription():"Notes"===s&&(c=o.getTaskNotes()),a.value=c},insertTaskSubcontentElement:(t,s)=>{const a=n.getTaskSubcontainerElement(t,s),o=e.getCurrentTabObject().getSpecificChecklistTask(t);let c;if("Title"===s){const t=o.getTaskTitle();c=document.createElement("h3"),c.classList.add("to-do-title"),c.textContent=t}else if("Due Date"===s){const t=o.getTaskDueDate();c=document.createElement("p"),c.classList.add("to-do-due-date"),c.textContent="Due On: "+t}else if("Description"===s){const t=o.getTaskDescription();c=document.createElement("p"),c.classList.add("to-do-description"),c.textContent="Description: "+t}else if("Notes"===s){const t=o.getTaskNotes();c=document.createElement("p"),c.classList.add("to-do-notes"),c.textContent="Notes: "+t}a.insertBefore(c,a.firstChild)},toggleTaskDOMComplete:s,addNewChecklistTaskToDOM:a,insertChecklistTaskInputElement:(t,e)=>{const s=n.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section"),a=document.createElement("input");return a.classList.add("checklist-input"),a.setAttribute("type","text"),s.appendChild(a),a.focus(),a},setChecklistTaskInputElementValue:(t,s)=>{const a=n.getChecklistTaskElement(t,s).querySelector(".checklist-input"),o=e.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(s).getTaskDescription();a.value=o},insertChecklistTaskDescriptionElement:(t,s)=>{const a=n.getChecklistTaskElement(t,s).querySelector(".checklist-complete-section"),o=e.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(s).getTaskDescription(),c=document.createElement("label");c.setAttribute("for",`checklist-${t}-${s}`),c.classList.add("checklist-task-description"),c.textContent=o,a.appendChild(c)},toggleChecklistTaskDOMComplete:o,changePinButtonImage:t=>{const s=n.getTaskElement(t),a=e.getCurrentTabObject().getSpecificChecklistTask(t),o=s.querySelector(".to-do-pin").querySelector("img");a.getPinnedState()?o.setAttribute("src","./assets/pin-pinned.png"):o.setAttribute("src","./assets/pin-unpinned.png")},shiftTaskElementPosition:t=>{const s=n.getTaskElement(t),a=e.getCurrentTabObject().getSpecificChecklistTask(t),o=s.dataset.taskIndex,c=document.querySelector(".to-do-content");if(a.getPinnedState()){const t=Array.from(document.querySelectorAll(".pinned-task"));if(0===t.length)c.insertBefore(s,c.firstElementChild);else{const e=t[t.length-1];for(const n of t){if(o<n.dataset.taskIndex){c.insertBefore(s,n);break}n===e&&e.insertAdjacentElement("afterend",s)}}s.classList.add("pinned-task")}else{const t=Array.from(c.querySelectorAll(".to-do-task:not(.pinned-task)"));if(0===t.length)c.appendChild(s);else{const e=t[t.length-1];for(const n of t){if(o<n.dataset.taskIndex){c.insertBefore(s,n);break}n===e&&c.appendChild(s,e)}}s.classList.remove("pinned-task")}},loadTasksFromNewCurrentTab:()=>{const n=e.getCurrentTabObject().getChecklistTasks();for(const e in n){const l=n[e];if(void 0!==l){const n=t(e);c(n),i(n),s(e),G.addTaskListeners(n);const r=l.getChecklistTasks();for(const t in r)if(void 0!==r[t]){const s=a(e,t);o(e,t),G.addChecklistTaskListeners(s)}}}},toggleDisplayTaskDetails:t=>{const e=n.getTaskElement(t);Array.from(e.querySelectorAll(".animation-target")).forEach((t=>{Array.from(t.classList).includes("hide-to-do-details")?(t.classList.remove("hide-to-do-details"),t.classList.add("display-to-do-details"),t.style.display="flex"):(t.classList.add("hide-to-do-details"),t.classList.remove("display-to-do-details"),setTimeout((()=>{t.style.display="none"}),1e3))})),(t=>{t.classList.add("mid-animation"),setTimeout((()=>{t.classList.remove("mid-animation")}),1e3)})(e)},rotateChevronButton:t=>{const e=n.getTaskElement(t).querySelector(".to-do-task-change-display").querySelector("img"),s=Array.from(e.classList);0===s.length||s.includes("rotate-hide-task-details")?(e.classList.remove("rotate-hide-task-details"),e.classList.add("rotate-display-task-details"),e.classList.add("rotated-chevron")):s.includes("rotate-display-task-details")&&(e.classList.remove("rotate-display-task-details"),e.classList.add("rotate-hide-task-details"),e.classList.remove("rotated-chevron"))},toggleAnimations:(t,e)=>{const s=n.getTaskElement(t),a=s.querySelector(".to-do-task-change-display").querySelector("img"),o=Array.from(s.querySelectorAll(".animation-target"));o.push(a),o.forEach((t=>{"Enable"===e?t.classList.add("no-animations"):"Disable"===e&&t.classList.remove("no-animations")}))}}})(),$=t=>{e.removeTask(t)},w=t=>{e.getCurrentTabObject().removeTask(t)},P=(t,s)=>{e.getCurrentTabObject().getSpecificChecklistTask(t).removeTask(s)},M=t=>{const e=n.getTabElement(t);let s=e.querySelector(".switch-tab");e.removeChild(s),s=null},V=t=>{const e=n.getTabElement(t);let s=e.querySelector("input");e.removeChild(s),s=null},B=t=>{let e=n.getTabElement(t);document.querySelector(".to-do-tab-section").removeChild(e),e=null},H=()=>{const t=document.querySelector("#current-tab");null!==t&&t.removeAttribute("id")},R=t=>{let e=n.getTaskElement(t);document.querySelector(".to-do-content").removeChild(e),e=null},F=(t,e)=>{const s=n.getTaskSubcontainerElement(t,e);let a=s.firstElementChild;s.removeChild(a),a=null},J=(t,e)=>{const s=n.getTaskSubcontainerElement(t,e);let a=s.querySelector("input");s.removeChild(a),a=null},z=(t,e)=>{const s=n.getChecklistTaskElement(t,e),a=s.querySelector(".checklist-complete-section");let o=s.querySelector(".checklist-task-description");a.removeChild(o),o=null},W=(t,e)=>{const s=n.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section");let a=s.querySelector(".checklist-input");s.removeChild(a),a=null},Q=(t,e)=>{const s=n.getTaskElement(t).querySelector(".checklist");let a=n.getChecklistTaskElement(t,e);s.removeChild(a),a=null},U=()=>{document.querySelector(".to-do-content").replaceChildren()},X=(()=>{let t=!1;const s=()=>{const t=localStorage.getItem("to_do_list");return JSON.parse(t)},a=t=>{const e=JSON.stringify(t);localStorage.setItem("to_do_list",e)};return{initializeTodoList:()=>{const t=`{\n            "current_tab": ${e.getCurrentTabIndex()},\n            "tabs": {}\n        }`,s=JSON.parse(t);a(s)},addTab:t=>{const e=n.getTabObject(t),o=s(),c=`{\n            "title": "${e.getTaskTitle()}",\n            "tasks": {}\n        }`,i=JSON.parse(c);o.tabs[`tab_${t}`]=i,a(o)},addTask:(t,e)=>{const o=n.getTaskObject(t,e),c=s(),i=`{\n            "title": "${o.getTaskTitle()}",\n            "due_date": "${o.getTaskDueDate()}",\n            "description": "${o.getTaskDescription()}",\n            "notes": "${o.getTaskNotes()}",\n            "pinned": ${o.getPinnedState()},\n            "completed": ${o.getCompletedState()},\n            "checklist_tasks": {}\n        }`,l=JSON.parse(i);c.tabs[`tab_${t}`].tasks[`task_${e}`]=l,a(c)},addChecklistTask:(t,e,o)=>{const c=n.getChecklistTaskObject(t,e,o),i=s(),l=`{\n            "description": "${c.getTaskDescription()}",\n            "completed": ${c.getCompletedState()}\n        }`,r=JSON.parse(l);i.tabs[`tab_${t}`].tasks[`task_${e}`].checklist_tasks[`checklist_task_${o}`]=r,a(i)},setCurrentTab:t=>{const e=s();e.current_tab=null===t?null:Number(t),a(e)},setTabName:t=>{const e=n.getTabObject(t),o=s();o.tabs[`tab_${t}`].title=e.getTaskTitle(),a(o)},setTaskSubcontainerValue:(t,e,o)=>{const c=n.getTaskObject(t,e),i=s();"Title"===o?i.tabs[`tab_${t}`].tasks[`task_${e}`].title=c.getTaskTitle():"Due Date"===o?i.tabs[`tab_${t}`].tasks[`task_${e}`].due_date=c.getTaskDueDate():"Description"===o?i.tabs[`tab_${t}`].tasks[`task_${e}`].description=c.getTaskDescription():"Notes"===o&&(i.tabs[`tab_${t}`].tasks[`task_${e}`].notes=c.getTaskNotes()),a(i)},toggleTaskCompleted:(t,e)=>{const o=n.getTaskObject(t,e),c=s();c.tabs[`tab_${t}`].tasks[`task_${e}`].completed=o.getCompletedState(),a(c)},toggleTaskPinned:(t,e)=>{const o=n.getTaskObject(t,e),c=s();c.tabs[`tab_${t}`].tasks[`task_${e}`].pinned=o.getPinnedState(),a(c)},setChecklistTaskDescription:(t,e,o)=>{const c=n.getChecklistTaskObject(t,e,o),i=s();i.tabs[`tab_${t}`].tasks[`task_${e}`].checklist_tasks[`checklist_task_${o}`].description=c.getTaskDescription(),a(i)},toggleChecklistTaskCompleted:(t,e,o)=>{const c=n.getChecklistTaskObject(t,e,o),i=s();i.tabs[`tab_${t}`].tasks[`task_${e}`].checklist_tasks[`checklist_task_${o}`].completed=c.getCompletedState(),a(i)},removeTab:t=>{const e=s();e.tabs[`tab_${t}`]=null,a(e)},removeTask:(t,e)=>{const n=s();n.tabs[`tab_${t}`].tasks[`task_${e}`]=null,a(n)},removeChecklistTask:(t,e,n)=>{const o=s();o.tabs[`tab_${t}`].tasks[`task_${e}`].checklist_tasks[`checklist_task_${n}`]=null,a(o)},getCurrentTabIndex:()=>s().current_tab,getTabTitle:t=>s().tabs[t].title,getTaskValues:(t,e)=>{const n=s();let a=[];const o=n.tabs[t].tasks[e].title;a.push(o);const c=n.tabs[t].tasks[e].due_date;a.push(c);const i=n.tabs[t].tasks[e].description;a.push(i);const l=n.tabs[t].tasks[e].notes;a.push(l);const r=n.tabs[t].tasks[e].pinned;a.push(r);const d=n.tabs[t].tasks[e].completed;return a.push(d),a},getChecklistTaskValues:(t,e,n)=>{const a=s();let o=[];const c=a.tabs[t].tasks[e].checklist_tasks[n].description;o.push(c);const i=a.tabs[t].tasks[e].checklist_tasks[n].completed;return o.push(i),o},checkForExistingStorage:()=>!!localStorage.getItem("to_do_list"),getLocalStorageValue:s,getTabObjects:()=>X.getLocalStorageValue().tabs,getTaskObjects:t=>X.getLocalStorageValue().tabs[`tab_${t}`].tasks,getChecklistTaskObjects:(t,e)=>X.getLocalStorageValue().tabs[`tab_${t}`].tasks[`task_${e}`].checklist_tasks,toggleLoading:()=>{t=!t},isLoading:()=>t}})(),G=(()=>{const t=(t,e="New Tab")=>{const a=c(e),o=j.addNewTabToDOM(a);if(s(o),!X.isLoading()&&(X.addTab(a),n.checkIfOnlyOneTab())){const t=r();j.addCurrentTabIndicator(),X.setCurrentTab(t)}return a},s=t=>{h(t),f(t),S(t)},a=(t,s=e.getCurrentTabIndex(),n="New Task Title",a="Task Due Date",c="Task Description",i="Task Notes",l=!1,r=!1)=>{if(null===e.getCurrentTabIndex())return void y();const k=d(s,n,a,c,i,l,r),u=j.addNewTaskToDOM(k);return o(u),X.isLoading()||X.addTask(e.getCurrentTabIndex(),k),k},o=t=>{E(t),I(t),D(t),L(t),_(t),N(t)},p=t=>{O(t),A(t),q(t)},y=()=>{const e=t(event,"Instructions"),s=a(event,e,"Quick Tips! Click the pin button to pin a task to the top of the list.","Tomorrow, next week, or whenever your task is due, you can add it here! Click the arrow button to toggle between showing and hiding task details.","Add a description of your task here! Click the pencil buttons to edit the various parts of your task.","Jot down some notes here! Mark your task as complete when you're done, or remove it from the list by clicking the X button.",!1,!1);j.toggleTaskDOMComplete(s),j.changePinButtonImage(s),j.shiftTaskElementPosition(s),G(e,s,"If your task has multiple steps, try breaking them down into a checklist! Click the plus sign button to add steps as needed.",!1),G(e,s,"Have a new task you want to keep track of? Add it to the list by clicking on the 'New Task' button below!",!1),G(e,s,"Organize the different types of tasks in your life by creating themed tabs. Create a new tab by clicking on the plus sign button at the top of the list. Change tabs by clicking on different tab names.",!1)},G=(t,e,s,n)=>{const a=T(t,e,s,n),o=j.addNewChecklistTaskToDOM(e,a);j.toggleChecklistTaskDOMComplete(e,a),p(o),X.isLoading()||X.addChecklistTask(t,e,a)},K=()=>{X.toggleLoading(),Y(),Z(),X.toggleLoading()},Y=()=>{const t=X.getCurrentTabIndex();e.setCurrentTabIndex(t)},Z=()=>{const s=X.getTabObjects();for(const n in s)if(null===s[n])e.addTask(void 0);else{const e=X.getTabTitle(n),s=t(event,e);tt(s,n)}j.addCurrentTabIndicator()},tt=(t,s)=>{const o=n.getTabObject(t),c=X.getTaskObjects(t);for(const n in c)if(null===c[n])o.addTask(void 0);else{const o=X.getTaskValues(s,n),c=o[0],i=o[1],l=o[2],r=o[3],k=o[4],u=o[5];let T;t===e.getCurrentTabIndex()?(T=a(event,t,c,i,l,r,k,u),j.toggleTaskDOMComplete(T),j.changePinButtonImage(T),j.shiftTaskElementPosition(T)):T=d(t,c,i,l,r,k,u),et(t,s,T,n)}},et=(t,s,a,o)=>{const c=n.getTaskObject(t,a),i=X.getChecklistTaskObjects(t,a);for(const n in i)if(null===i[n])c.addTask(void 0);else{const c=X.getChecklistTaskValues(s,o,n),i=c[0],l=c[1];let r;r=t===e.getCurrentTabIndex()?G(t,a,i,l):T(t,a,i,l)}};return{addTab:t,insertTabInputElement:t=>{if(!n.checkForExistingInputElement(t,"Tab")){const e=n.getTabIndex(t),s=j.insertTabInputElement(e);M(e),j.setTabInputElementValue(e),C(s)}},updateTab:t=>{if("Enter"===t.code){const e=n.getTabIndex(t),s=n.getNewValue(t);i(e,s);const a=j.insertTabNameElement(e);V(e),S(a),X.setTabName(e)}},switchTab:t=>{if(!n.checkIfWasCurrentTab(t)){const e=n.getTabIndex(t);l(e),H(),j.setCurrentTabDOM(e),U(),j.loadTasksFromNewCurrentTab(),X.setCurrentTab(e)}},removeTab:t=>{const e=n.getTabIndex(t);if($(e),B(e),X.removeTab(e),n.checkIfWasCurrentTab(t)){const t=r();j.addCurrentTabIndicator(),U(),X.setCurrentTab(t),n.checkIfNoMoreTabs()||j.loadTasksFromNewCurrentTab()}},addTabListeners:s,addTask:a,insertTaskInputElement:t=>{if(!n.checkForExistingInputElement(t,"Task")){const e=n.getTaskIndex(t),s=n.getTaskSubcontainerType(t);F(e,s);const a=j.insertTaskInputElement(e,s);j.setTaskInputElementValue(e,s),v(a)}},updateTask:t=>{if("Enter"===t.code){const s=n.getTaskIndex(t),a=n.getTaskSubcontainerType(t),o=n.getNewValue(t);k(s,a,o),j.insertTaskSubcontentElement(s,a),J(s,a),X.setTaskSubcontainerValue(e.getCurrentTabIndex(),s,a)}},toggleTaskPin:t=>{const s=n.getTaskIndex(t);j.toggleAnimations(s,"Enable"),m(s),j.changePinButtonImage(s),j.shiftTaskElementPosition(s),X.toggleTaskPinned(e.getCurrentTabIndex(),s)},toggleTaskComplete:t=>{const s=n.getTaskIndex(t);u(s),j.toggleTaskDOMComplete(s),X.toggleTaskCompleted(e.getCurrentTabIndex(),s)},removeTask:t=>{const s=n.getTaskIndex(t);w(s),R(s),X.removeTask(e.getCurrentTabIndex(),s)},addTaskListeners:o,addNewChecklistTask:t=>{const s=e.getCurrentTabIndex(),a=n.getTaskIndex(t),o=T(s,a),c=j.addNewChecklistTaskToDOM(a,o);p(c),X.isLoading()||X.addChecklistTask(e.getCurrentTabIndex(),a,o)},insertChecklistTaskInputElement:t=>{if(!n.checkForExistingInputElement(t,"Checklist Task")){const e=n.getTaskIndex(t),s=n.getChecklistTaskIndex(t);z(e,s);const a=j.insertChecklistTaskInputElement(e,s);j.setChecklistTaskInputElementValue(e,s),x(a)}},updateChecklistTask:t=>{if("Enter"===t.code){const s=n.getTaskIndex(t),a=n.getChecklistTaskIndex(t),o=n.getNewValue(t);g(s,a,o),j.insertChecklistTaskDescriptionElement(s,a),W(s,a),X.setChecklistTaskDescription(e.getCurrentTabIndex(),s,a)}},toggleChecklistTaskComplete:t=>{const s=n.getTaskIndex(t),a=n.getChecklistTaskIndex(t);b(s,a),j.toggleChecklistTaskDOMComplete(s,a),X.toggleChecklistTaskCompleted(e.getCurrentTabIndex(),s,a)},removeChecklistTask:t=>{const s=n.getTaskIndex(t),a=n.getChecklistTaskIndex(t);P(s,a),Q(s,a),X.removeChecklistTask(e.getCurrentTabIndex(),s,a)},addChecklistTaskListeners:p,toggleDisplayTaskDetails:t=>{const e=n.getTaskIndex(t);n.tryingToDoubleClick(e)||(j.toggleAnimations(e,"Disable"),j.toggleDisplayTaskDetails(e),j.rotateChevronButton(e))},loadInInstructionsPage:y,loadInLocalStorage:K,loadInTabObjects:Z,loadInPage:()=>{X.checkForExistingStorage()?K():(X.initializeTodoList(),y())}}})();p(),h(),f(),j.setDefaultCurrentTabDOM(0),S(),y(),E(),I(),D(),L(),O(),A(),q(),_(),N(),console.log(JSON.parse(localStorage.getItem("to_do_list"))),console.log(JSON.parse(localStorage.getItem("to_do_list"))),G.loadInPage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFBMENDLElBQzVDLElBQUlDLEVBQVksR0FJaEIsT0FBT0MsT0FBT0MsT0FBT0gsRUFBUSxDQUN6QkksUUFBUUMsSUFDSkosRUFBVUssS0FBS0QsR0FKWkosRUFBVU0sT0FBUyxHQVExQkMsV0FBV0MsR0FDUFIsRUFBVVEsUUFBU0MsQ0FDdkIsRUFDQUMsa0JBQWlCLElBQ05WLEVBRVhXLHlCQUF5QkgsR0FDZFIsRUFBVVEsSUFFdkIsRUNqQkFJLEVBQVcsTUFDYixJQUFJQyxFQUFhLEVBQ2pCLE1BQU1DLEVBQXFCLElBQ2hCRCxFQWNYLElBQUlkLEVBQVMsQ0FDVGUscUJBQ0FDLG1CQWR3QkMsSUFFcEJILEVBRGtCLE9BQWxCRyxFQUNhLEtBRUFDLE9BQU9ELEVBQ3ZCLEVBVURFLG9CQVJ3QixLQUN4QixNQUFNQyxFQUFrQkwsSUFFeEIsT0FEeUJGLEVBQVNELHlCQUF5QlEsRUFDcEMsR0FVM0IsT0FIQWxCLE9BQU9DLE9BQU9ILEVBQ1ZELEVBQXVDQyxJQUVwQ0EsQ0FDVixFQTFCZ0IsR0NIWHFCLEVBQXlCLENBQUNyQixFQUFRc0IsS0FDcEMsSUFBSUMsRUFBUUQsRUFDWixPQUFPcEIsT0FBT0MsT0FBT0gsRUFBUSxDQUN6QndCLGFBQVksSUFDREQsRUFFWEUsYUFBYUMsR0FDVEgsRUFBUUcsQ0FDWixHQUNGLEVDUEFDLEVBQWtCLE1BQ3BCLE1BQU1DLEVBQTJCQyxJQUM3QixJQUFJQyxFQUFhRCxFQUFNRSxPQUFPQyxjQUM5QixLQUE0QyxjQUFyQ0YsRUFBV0csYUFBYSxVQUMzQkgsRUFBYUEsRUFBV0UsY0FFNUIsT0FBT0YsQ0FBVSxFQStDZkksRUFBd0NMLElBQzFDLElBQUlNLEVBQTBCTixFQUFNRSxPQUFPQyxjQUN2Q0ksRUFBWUMsTUFBTUMsS0FBS0gsRUFBd0JDLFdBQ25ELE1BQVFBLEVBQVVHLFNBQVMsNEJBQ3ZCSixFQUEwQkEsRUFBd0JILGNBQ2xESSxFQUFZQyxNQUFNQyxLQUFLSCxFQUF3QkMsV0FFbkQsT0FBT0QsQ0FBdUIsRUFFNUJLLEVBQXFDWCxJQUN2QyxJQUFJWSxFQUF1QlosRUFBTUUsT0FDN0JLLEVBQVlDLE1BQU1DLEtBQUtHLEVBQXFCTCxXQUNoRCxNQUFRQSxFQUFVRyxTQUFTLG1CQUN2QkUsRUFBdUJBLEVBQXFCVCxjQUM1Q0ksRUFBWUMsTUFBTUMsS0FBS0csRUFBcUJMLFdBRWhELE9BQU9LLENBQW9CLEVBa0R6QkMsRUFBa0JDLEdBQ0FDLFNBQVNDLGNBQWMscUJBQXFCRixPQXFCOURHLEVBQWdCQyxHQUNBbEMsRUFBU0QseUJBQXlCbUMsR0FHbERDLEVBQWdCLENBQUNELEVBQVVKLElBQ1hHLEVBQWFDLEdBQ0ZuQyx5QkFBeUIrQixHQWlCMUQsTUFBTyxDQUFFTSxxQkF6SXFCcEIsR0FFWSxnQkFEbkJELEVBQXdCQyxHQUM1QkksYUFBYSxNQXVJRGlCLGtCQWpJTCxLQUN0QixNQUFNQyxFQUFpQlAsU0FBU0MsY0FBYyxzQkFFOUMsT0FBd0IsSUFEUFIsTUFBTUMsS0FBS2EsRUFBZUMsaUJBQWlCLGVBQy9DN0MsTUFJWixFQTBINkM4QyxhQTdGNUJ4QixJQUNsQixNQUFNeUIsRUE1QnVCLENBQUN6QixJQUM5QixJQUFJeUIsRUFBY3pCLEVBQU1FLE9BQU9DLGNBQzNCSSxFQUFZQyxNQUFNQyxLQUFLZ0IsRUFBWWxCLFdBQ3ZDLE1BQVFBLEVBQVVHLFNBQVMsZUFDdkJlLEVBQWNBLEVBQVl0QixjQUMxQkksRUFBWUMsTUFBTUMsS0FBS2dCLEVBQVlsQixXQUV2QyxPQUFPa0IsQ0FBVyxFQXFCRUMsQ0FBeUIxQixHQUU3QyxPQURrQnlCLEVBQVlFLFFBQVFiLFNBQ3RCLEVBMkZoQmMsc0JBekYyQjVCLEdBQ0VXLEVBQWtDWCxHQUNmMkIsUUFBUUUsbUJBdUZqQ0MsWUFwRk45QixHQUNFRCxFQUF3QkMsR0FDZjJCLFFBQVFULFNBa0ZBYSxZQS9FbkIvQixHQUNBQSxFQUFNRSxPQUFPOEIsTUE4RW1CQyx3QkEzRXBCakMsSUFDN0IsTUFBTU0sRUFBMEJELEVBQXFDTCxHQUMvRGtDLEVBQWlDMUIsTUFBTUMsS0FBS0gsRUFBd0JDLFdBQzFFLElBQUk0QixFQVVKLE9BVElELEVBQStCeEIsU0FBUyx1QkFDeEN5QixFQUF1QixRQUNoQkQsRUFBK0J4QixTQUFTLDBCQUMvQ3lCLEVBQXVCLFdBQ2hCRCxFQUErQnhCLFNBQVMsNkJBQy9DeUIsRUFBdUIsY0FDaEJELEVBQStCeEIsU0FBUyx5QkFDL0N5QixFQUF1QixTQUVwQkEsQ0FBb0IsRUErRDNCQywyQkE3RCtCLENBQUN0QixFQUFXdUIsS0FDM0MsTUFBTVosRUFBY1osRUFBZUMsR0FDbkMsSUFBSVIsRUFVSixNQVRtQixVQUFmK0IsRUFDQS9CLEVBQTBCbUIsRUFBWVQsY0FBYyx3QkFDOUIsYUFBZnFCLEVBQ1AvQixFQUEwQm1CLEVBQVlULGNBQWMsMkJBQzlCLGdCQUFmcUIsRUFDUC9CLEVBQTBCbUIsRUFBWVQsY0FBYyw4QkFDOUIsVUFBZnFCLElBQ1AvQixFQUEwQm1CLEVBQVlULGNBQWMseUJBRWpEVixDQUF1QixFQWlERk8saUJBQWdCeUIsd0JBM0NoQixDQUFDeEIsRUFBV2UsSUFDcEJoQixFQUFlQyxHQUNNRSxjQUFjLCtCQUErQmEsT0EwQ3RGVSxjQXZDbUJyQixHQUNBSCxTQUFTQyxjQUFjLG9CQUFvQkUsT0FzQy9Dc0IsNkJBL0prQixDQUFDeEMsRUFBT3lDLEtBQ3pDLElBQUlDLEVBWUosTUFYb0IsUUFBaEJELEVBRUFDLEVBRG1CM0MsRUFBd0JDLEdBQ2pCZ0IsY0FBYyxtQkFDakIsU0FBaEJ5QixFQUVQQyxFQURnQ3JDLEVBQXFDTCxHQUM5QmdCLGNBQWMsZUFDOUIsbUJBQWhCeUIsSUFHUEMsRUFGNkIvQixFQUFrQ1gsR0FDVGdCLGNBQWMsK0JBQzVCQSxjQUFjLHFCQUVyQyxPQUFqQjBCLENBSUgsRUE4STRDQyxvQkFuQ3BCN0IsSUFDekIsTUFBTVcsRUFBY1osRUFBZUMsR0FFbkMsUUFEb0JOLE1BQU1DLEtBQUtnQixFQUFZbEIsV0FDM0JHLFNBQVMsZ0JBSXhCLEVBNEJpRU8sZUFBY0UsZ0JBQWV5Qix1QkFqQnBFLENBQUMxQixFQUFVSixFQUFXZSxJQUM5QlYsRUFBY0QsRUFBVUosR0FDSi9CLHlCQUF5QjhDLEdBZXVEZ0Isa0JBWmpHLEtBQ3RCLE1BQU12QixFQUFpQlAsU0FBU0MsY0FBYyxzQkFFOUMsT0FBd0IsSUFEUFIsTUFBTUMsS0FBS2EsRUFBZUMsaUJBQWlCLGVBQy9DN0MsTUFJWixFQU1SLEVBeEt1QixHQ0ZsQm9FLEVBQStCLENBQUMzRSxFQUFRNEUsS0FDMUMsSUFBSUMsRUFBY0QsRUFDbEIsT0FBTzFFLE9BQU9DLE9BQU9ILEVBQVEsQ0FDekI4RSxtQkFBa0IsSUFDUEQsRUFFWEUsbUJBQW1CQyxHQUNmSCxFQUFjRyxDQUNsQixHQUNGLEVDT0FDLEVBQTZCLENBQUNqRixFQUFRa0YsS0FDeEMsSUFBSUMsRUFBWUQsRUFDaEIsT0FBT2hGLE9BQU9DLE9BQU9ILEVBQVEsQ0FDekJvRix1QkFFUUQsR0FEQUEsQ0FLUixFQUNBRSxrQkFBaUIsSUFDTkYsR0FFYixFQ3JCQUcsRUFDMkIsQ0FBQ0MsRUFBUSxhQUNsQyxNQUFNQyxFQ05FLENBQUNqRSxJQUNiLElBQUl2QixFQUFTLENBQUMsRUFLZCxPQUpBRSxPQUFPQyxPQUFPSCxFQUNWcUIsRUFBdUJyQixFQUFRdUIsR0FDL0J4QixFQUF1Q0MsSUFFcENBLENBQU0sRURBTXlGLENBQVFGLEdBQ3ZCLE9BQU8xRSxFQUFTVCxRQUFRb0YsRUFBTyxFQUhqQ0YsRUFLa0IsQ0FBQ3ZDLEVBQVUyQyxLQUNUN0UsRUFBU0QseUJBQXlCbUMsR0FDMUN0QixhQUFhaUUsRUFBVyxFQVBwQ0osRUFTd0J2QyxJQUN0QmxDLEVBQVNHLG1CQUFtQitCLEVBQVEsRUFWdEN1QyxFQVk4QixLQUM1QixNQUFNSyxFQUFXOUUsRUFBU0Ysb0JBQzFCLElBQUlpRixFQUNKLElBQUssTUFBTUMsS0FBT0YsRUFDZCxRQUFzQmpGLElBQWxCaUYsRUFBU0UsR0FHVCxPQUZBaEYsRUFBU0csbUJBQW1CNkUsR0FDNUJELEVBQVdDLEVBQ0pELEVBSWYsT0FEQS9FLEVBQVNHLG1CQUFtQixNQUNyQixNQXZCVHNFLEVBeUJzQixDQUFDdkMsRUFBVXhCLEVBQU0saUJBQWtCdUUsRUFBUSxnQkFBaUJqQixFQUFZLG1CQUFvQmtCLEVBQU0sYUFBY0MsR0FBTyxFQUFPYixHQUFVLEtBRTVKLE1BQU1jLEVBQVlwRixFQUFTRCx5QkFBeUJtQyxHQUU5Q21ELEVFNUJHLEVBQUMzRSxFQUFPdUUsRUFBU2pCLEVBQWFrQixFQUFPQyxFQUFRYixLQUMxRCxJQUFJbkYsRUFBUyxDQUFDLEVBV2QsT0FWQUUsT0FBT0MsT0FBT0gsRUFDVnFCLEVBQXVCckIsRUFBUXVCLEdBQy9Cb0QsRUFBNkIzRSxFQUFRNkUsR0NiWixFQUFDN0UsRUFBUW1HLEtBQ3RDLElBQUlMLEVBQVVLLEVBQ2QsT0FBT2pHLE9BQU9DLE9BQU9ILEVBQVEsQ0FDekJvRyxlQUFjLElBQ0hOLEVBRVhPLGVBQWVDLEdBQ1hSLEVBQVVRLENBQ2QsR0FDRixFREtFQyxDQUF5QnZHLEVBQVE4RixHRWRWLEVBQUM5RixFQUFRd0csS0FDcEMsSUFBSVQsRUFBUVMsRUFDWixPQUFPdEcsT0FBT0MsT0FBT0gsRUFBUSxDQUN6QnlHLGFBQVksSUFDRFYsRUFFWFcsYUFBYUMsR0FDVFosRUFBUVksQ0FDWixHQUNGLEVGTUVDLENBQXVCNUcsRUFBUStGLEdHZlAsRUFBQy9GLEVBQVE2RyxLQUNyQyxJQUFJYixFQUFTYSxFQUNiLE9BQU8zRyxPQUFPQyxPQUFPSCxFQUFRLENBQ3pCOEcsb0JBRVFkLEdBREFBLENBS1IsRUFDQWUsZUFBYyxJQUNIZixHQUViLEVISUVnQixDQUF3QmhILEVBQVFnRyxHQUNoQ2YsRUFBMkJqRixFQUFRbUYsR0FDbkNwRixFQUF1Q0MsSUFFcENBLENBQU0sRUZnQk9pSCxDQUFTMUYsRUFBT3VFLEVBQVNqQixFQUFha0IsRUFBT0MsRUFBUWIsR0FHckUsT0FEcUJjLEVBQVU3RixRQUFROEYsRUFDcEIsRUFoQ3JCWixFQWtDeUIsQ0FBQzNDLEVBQVd1QixFQUFZZ0QsS0FDL0MsTUFDTUMsRUFEbUJ0RyxFQUFTTSxzQkFDRVAseUJBQXlCK0IsR0FDMUMsVUFBZnVCLEVBQ0FpRCxFQUFXMUYsYUFBYXlGLEdBQ0YsYUFBZmhELEVBQ1BpRCxFQUFXZCxlQUFlYSxHQUNKLGdCQUFmaEQsRUFDUGlELEVBQVdwQyxtQkFBbUJtQyxHQUNSLFVBQWZoRCxHQUNQaUQsRUFBV1QsYUFBYVEsRUFDM0IsRUE3Q0g1QixFQStDMEIzQyxJQUNDOUIsRUFBU00sc0JBQ0VQLHlCQUF5QitCLEdBQ2xEeUMsc0JBQXNCLEVBbERuQ0UsRUFvRGdDLENBQUN2QyxFQUFVSixFQUFXa0MsRUFBWSw2QkFBOEJNLEdBQVUsS0FHeEcsTUFDTWdDLEVBRFl0RyxFQUFTRCx5QkFBeUJtQyxHQUN2Qm5DLHlCQUF5QitCLEdBQ2hEeUUsRU1sRGMsRUFBQ3ZDLEVBQWFNLEtBQ3RDLElBQUluRixFQUFTLENBQUMsRUFLZCxPQUpBRSxPQUFPQyxPQUFPSCxFQUNWMkUsRUFBNkIzRSxFQUFRNkUsR0FDckNJLEVBQTJCakYsRUFBUW1GLElBRWhDbkYsQ0FBTSxFTjRDZ0JxSCxDQUFvQnhDLEVBQWFNLEdBRTFELE9BRDhCZ0MsRUFBVy9HLFFBQVFnSCxFQUNyQixFQTNEOUI5QixFQTZEbUMsQ0FBQzNDLEVBQVdlLEVBQW9CNEQsS0FDeEN6RyxFQUFTTSxzQkFDRVAseUJBQXlCK0IsR0FDdEIvQix5QkFBeUI4QyxHQUM1Q3FCLG1CQUFtQnVDLEVBQW9CLEVBakU3RGhDLEVBbUVrQyxDQUFDM0MsRUFBV2UsS0FDbkI3QyxFQUFTTSxzQkFDRVAseUJBQXlCK0IsR0FDdEIvQix5QkFBeUI4QyxHQUM1QzBCLHNCQUFzQixFQXZFNUNFLEVBeUVxQjNDLElBQ005QixFQUFTTSxzQkFDRVAseUJBQXlCK0IsR0FDbERtRSxtQkFBbUIsRU8vRWhDUyxFQUN3QixLQUNEM0UsU0FBU0MsY0FBYyxZQUMvQjJFLGlCQUFpQixRQUFTQyxFQUFhQyxPQUFPLEVBSDdESCxFQUsrQixDQUFDSSxFQUFNL0UsWUFDcEMsTUFBTWdGLEVBQWlCdkYsTUFBTUMsS0FBS3FGLEVBQU12RSxpQkFBaUIsY0FDekQsSUFBSyxNQUFNeUUsS0FBVUQsRUFDakJDLEVBQU9MLGlCQUFpQixRQUFTQyxFQUFhSyxzQkFDbEQsRUFURlAsRUFXMkJoRCxJQUN6QkEsRUFBYWlELGlCQUFpQixVQUFXQyxFQUFhTSxVQUFTLEVBWmpFUixFQWNpQyxDQUFDSSxFQUFNL0UsWUFDdEMsTUFBTW9GLEVBQW1CM0YsTUFBTUMsS0FBS3FGLEVBQU12RSxpQkFBaUIsZ0JBQzNELElBQUssTUFBTXlFLEtBQVVHLEVBQ2pCSCxFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYVEsVUFDakQsRUFsQkhWLEVBb0IyQixDQUFDSSxFQUFNL0UsWUFDaEMsTUFBTXNGLEVBQW1CN0YsTUFBTUMsS0FBS3FGLEVBQU12RSxpQkFBaUIsZ0JBQzNELElBQUssTUFBTXlFLEtBQVVLLEVBQ2pCTCxFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYVUsVUFDakQsRUF4QkhaLEVBMEJ5QixLQUNEM0UsU0FBU0MsY0FBYyxtQkFDL0IyRSxpQkFBaUIsUUFBU0MsRUFBYXJILFFBQVEsRUE1Qi9EbUgsRUE4QmtDLENBQUNJLEVBQU0vRSxZQUN2QyxNQUFNd0YsRUFBb0IvRixNQUFNQyxLQUFLcUYsRUFBTXZFLGlCQUFpQix1QkFDNUQsSUFBSyxNQUFNeUUsS0FBVU8sRUFDakJQLEVBQU9MLGlCQUFpQixRQUFTQyxFQUFhakgsV0FDakQsRUFsQ0grRyxFQW9DMkIsQ0FBQ0ksRUFBTS9FLFlBQ2hDLE1BQU15RixFQUFrQmhHLE1BQU1DLEtBQUtxRixFQUFNdkUsaUJBQWlCLGVBQzFELElBQUssTUFBTXlFLEtBQVVRLEVBQ2pCUixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYWEsdUJBQ2pELEVBeENIZixFQTBDNEJoRCxJQUMxQkEsRUFBYWlELGlCQUFpQixVQUFXQyxFQUFhYyxXQUFXLEVBM0NuRWhCLEVBNkNvQyxDQUFDSSxFQUFNL0UsWUFDekMsTUFBTTRGLEVBQXlCYixFQUFNdkUsaUJBQWlCLDRCQUN0RCxJQUFLLE1BQU1xRixLQUFZRCxFQUNuQkMsRUFBU2pCLGlCQUFpQixRQUFTQyxFQUFhaUIsbUJBQ25ELEVBakRIbkIsRUFtRGtDLENBQUNJLEVBQU0vRSxZQUN2QyxNQUFNK0YsRUFBMEJoQixFQUFNdkUsaUJBQWlCLHVCQUN2RCxJQUFLLE1BQU15RSxLQUFVYyxFQUNqQmQsRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWFtQixvQkFDakQsRUF2REhyQixFQXlEb0MsQ0FBQ0ksRUFBTS9FLFlBQ3pDLE1BQU1pRyxFQUF1QnhHLE1BQU1DLEtBQUtxRixFQUFNdkUsaUJBQWlCLHlCQUMvRCxJQUFLLE1BQU15RSxLQUFVZ0IsRUFDakJoQixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYXFCLGdDQUNqRCxFQTdESHZCLEVBK0RxQ2hELElBQ25DQSxFQUFhaUQsaUJBQWlCLFVBQVdDLEVBQWFzQixvQkFBb0IsRUFoRTVFeEIsRUFrRTZDLENBQUNJLEVBQU0vRSxZQUNsRCxNQUFNb0csRUFBOEJyQixFQUFNdkUsaUJBQWlCLGdDQUMzRCxJQUFLLE1BQU1xRixLQUFZTyxFQUNuQlAsRUFBU2pCLGlCQUFpQixRQUFTQyxFQUFhd0IsNEJBQ25ELEVBdEVIMUIsRUF3RXFDLENBQUNJLEVBQU0vRSxZQUMxQyxNQUFNc0csRUFBNkJ2QixFQUFNdkUsaUJBQWlCLDBCQUMxRCxJQUFLLE1BQU15RSxLQUFVcUIsRUFDakJyQixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYTBCLG9CQUNqRCxFQTVFSDVCLEVBOEVnQyxDQUFDSSxFQUFNL0UsWUFDckMsTUFBTXdHLEVBQWlCekIsRUFBTXZFLGlCQUFpQixjQUM5QyxJQUFLLE1BQU15RSxLQUFVdUIsRUFDakJ2QixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYTRCLGNBQ2pELEVBbEZIOUIsRUFvRjJDLENBQUNJLEVBQU0vRSxZQUNoRCxNQUFNMEcsRUFBMkIzQixFQUFNdkUsaUJBQWlCLDhCQUN4RCxJQUFLLE1BQU15RSxLQUFVeUIsRUFDakJ6QixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYThCLHlCQUNsRCxFQ3ZGRkMsRUFBdUIsTUFDekIsTUEwRU1DLEVBQW1CaEosSUFDckIsTUFDTWlKLEVBRG1CN0ksRUFBU00sc0JBQ0tQLHlCQUF5QkgsR0FDMURrSixFQUFjL0csU0FBU0MsY0FBYyxrQkFDckMrRyxFQUFpQmhILFNBQVNpSCxjQUFjLE9BQzlDRCxFQUFleEgsVUFBVTBILElBQUksY0FDN0JGLEVBQWVwRyxRQUFRYixVQUFZbEMsRUFDbkMsTUFBTXNKLEVBQWVMLEVBQWNsSSxlQUM3QndJLEVBQXFCTixFQUFjNUUscUJBQ25DbUYsRUFBaUJQLEVBQWN0RCxpQkFDL0I4RCxFQUFlUixFQUFjakQsZUFDN0IwRCxFQUFvQiwyQkFBMkIxSixJQWlFckQsT0FoRUFtSixFQUFlUSxVQUFZLHF1RkFtRE5SLEVBQWUvRyxjQUFjLGdCQUNyQ3dILFlBQWNOLEVBQ0pILEVBQWUvRyxjQUFjLG1CQUNyQ3dILFlBQWMsV0FBYUosRUFDZkwsRUFBZS9HLGNBQWMsc0JBQ3JDd0gsWUFBYyxnQkFBa0JMLEVBQzlCSixFQUFlL0csY0FBYyxnQkFDckN3SCxZQUFjLFVBQVlILEVBQ3ZDUCxFQUFZVyxZQUFZVixHQUNGQSxFQUFlL0csY0FBYyxTQUNyQzBILGFBQWEsTUFBT0osR0FDVFAsRUFBZS9HLGNBQWMsNEJBQ3JDMEgsYUFBYSxLQUFNSixHQUM3QlAsQ0FBYyxFQXdEbkJZLEVBQXlCN0gsSUFDM0IsTUFBTVcsRUFBYzNCLEVBQWdCZSxlQUFlQyxHQUM3QzhILEVBQW1CbkgsRUFBWVQsY0FBYyw0QkFDekJoQyxFQUFTTSxzQkFDQ1AseUJBQXlCK0IsR0FDdEIwQyxxQkFFbkNvRixFQUFpQkMsU0FBVSxFQUMzQnBILEVBQVlsQixVQUFVMEgsSUFBSSxvQkFFMUJXLEVBQWlCQyxTQUFVLEVBQzNCcEgsRUFBWWxCLFVBQVV1SSxPQUFPLGtCQUNoQyxFQUVDQyxFQUEyQixDQUFDakksRUFBV2tJLEtBQ3pDLE1BQ01DLEVBRGNuSixFQUFnQmUsZUFBZUMsR0FDZEUsY0FBYyxjQUk3Q2tJLEVBSG1CbEssRUFBU00sc0JBQ0VQLHlCQUF5QitCLEdBQ3RCL0IseUJBQXlCaUssR0FDUi9GLHFCQUNsRGtHLEVBQTBCcEksU0FBU2lILGNBQWMsT0FvQnZELE9BbkJBbUIsRUFBd0I1SSxVQUFVMEgsSUFBSSxrQkFDdENrQixFQUF3QnhILFFBQVFFLG1CQUFxQm1ILEVBQ3JERyxFQUF3QlosVUFBWSxnSEFFV3pILEtBQWFrSSxrRkFDNUJsSSxLQUFha0ksNmRBV0xHLEVBQXdCbkksY0FBYywrQkFDOUN3SCxZQUFjVSxFQUM5Q0QsRUFBaUJSLFlBQVlVLEdBQ3RCQSxDQUF1QixFQWtDNUJDLEVBQWlDLENBQUN0SSxFQUFXZSxLQUMvQyxNQUVNd0gsRUFGdUJ2SixFQUFnQndDLHdCQUF3QnhCLEVBQVdlLEdBQzFCYixjQUFjLCtCQUNUQSxjQUFjLGdDQUduRXdFLEVBRm1CeEcsRUFBU00sc0JBQ0VQLHlCQUF5QitCLEdBQ3RCL0IseUJBQXlCOEMsR0FDaEV3SCxFQUEwQlIsUUFBVXJELEVBQW9CaEMsb0JBQ3BEZ0MsRUFBb0JoQyxvQkFDcEI2RixFQUEwQjlJLFVBQVUwSCxJQUFJLDRCQUV4Q29CLEVBQTBCOUksVUFBVXVJLE9BQU8sMkJBQzlDLEVBK0ZDUSxFQUFxQnZCLElBQ3ZCLE1BQU13QixFQUFtQnZLLEVBQVNNLHNCQUM1QmtLLEVBQW1CekIsRUFBZXBHLFFBQVFiLFVBQzFDMkksRUFBb0JGLEVBQWlCeEsseUJBQXlCeUssR0FFOURFLEVBRFkzQixFQUFlL0csY0FBYyxjQUNkQSxjQUFjLE9BQzNDeUksRUFBa0J2RSxpQkFDbEJ3RSxFQUFlaEIsYUFBYSxNQUFPLDJCQUVuQ2dCLEVBQWVoQixhQUFhLE1BQU8sNEJBQ3RDLEVBRUNpQixFQUFnQzVCLElBQ2xDLE1BQU13QixFQUFtQnZLLEVBQVNNLHNCQUM1QmtLLEVBQW1CekIsRUFBZXBHLFFBQVFiLFVBQzFDMkksRUFBb0JGLEVBQWlCeEsseUJBQXlCeUssR0FDOURJLEVBQXFCN0ksU0FBU0MsY0FBYyxrQkFDbEQsR0FBSXlJLEVBQWtCdkUsaUJBQWtCLENBQ3BDLE1BQU0yRSxFQUEyQnJKLE1BQU1DLEtBQUtNLFNBQVNRLGlCQUFpQixpQkFDdEUsR0FBd0MsSUFBcENzSSxFQUF5Qm5MLE9BQ3pCa0wsRUFBbUJFLGFBQWEvQixFQUFnQjZCLEVBQW1CRyx1QkFDaEUsQ0FDSCxNQUNNQyxFQUF3QkgsRUFEUkEsRUFBeUJuTCxPQUFTLEdBRXhELElBQUssTUFBTXVMLEtBQXFCSixFQUEwQixDQUV0RCxHQUFJTCxFQUQyQlMsRUFBa0J0SSxRQUFRYixVQUNWLENBQzNDOEksRUFBbUJFLGFBQWEvQixFQUFnQmtDLEdBQ2hELEtBQ0osQ0FBV0EsSUFBc0JELEdBQzdCQSxFQUFzQkUsc0JBQXNCLFdBQVluQyxFQUVoRSxDQUNKLENBQ0FBLEVBQWV4SCxVQUFVMEgsSUFBSSxjQUNqQyxDQUFDLEVBMENMLE1BQU8sQ0FBRWtDLGVBamRldkwsSUFDcEIsTUFBTXdMLEVBQWVySixTQUFTQyxjQUFjLFlBQ3RDTSxFQUFpQlAsU0FBU0MsY0FBYyxzQkFDeENxSixFQUFnQnRKLFNBQVNpSCxjQUFjLE9BRXZDc0MsRUFEZXRMLEVBQVNELHlCQUF5QkgsR0FDaEJlLGVBaUJ2QyxPQWhCQTBLLEVBQWM5SixVQUFVMEgsSUFBSSxhQUM1Qm9DLEVBQWMxSSxRQUFRVCxTQUFXdEMsRUFDakN5TCxFQUFjOUIsVUFBWSwyWkFXSDhCLEVBQWNySixjQUFjLGFBQ3BDd0gsWUFBYzhCLEVBQzdCaEosRUFBZXdJLGFBQWFPLEVBQWVELEdBQ3BDQyxDQUFhLEVBMmJDRSx3QkF6YlFySixJQUM3QixNQUNNd0IsRUFEYTVDLEVBQWdCeUMsY0FBY3JCLEdBQ2pCRixjQUFjLFNBRXhDMEMsRUFEWTFFLEVBQVNELHlCQUF5Qm1DLEdBQzFCdkIsZUFDMUIrQyxFQUFhVixNQUFRMEIsQ0FBTyxFQXFiNUJ1QyxzQkFuYjJCL0UsSUFDM0IsTUFBTWpCLEVBQWFILEVBQWdCeUMsY0FBY3JCLEdBQzNDd0IsRUFBZTNCLFNBQVNpSCxjQUFjLFNBSzVDLE9BSkF0RixFQUFhbkMsVUFBVTBILElBQUksa0JBQzNCdkYsRUFBYWdHLGFBQWEsT0FBUSxRQUNsQ3pJLEVBQVc2SixhQUFhcEgsRUFBY3pDLEVBQVd1SyxZQUNqRDlILEVBQWErSCxRQUNOL0gsQ0FBWSxFQTRhSWdJLHFCQTFhR3hKLElBQzFCLE1BQU1qQixFQUFhSCxFQUFnQnlDLGNBQWNyQixHQUUzQ3dDLEVBRFkxRSxFQUFTRCx5QkFBeUJtQyxHQUMxQnZCLGVBQ3BCZ0wsRUFBWTVKLFNBQVNpSCxjQUFjLFVBQ3pDMkMsRUFBVXBLLFVBQVUwSCxJQUFJLGNBQ3hCLE1BQU0yQyxFQUFnQjdKLFNBQVNpSCxjQUFjLE1BSzdDLE9BSkE0QyxFQUFjckssVUFBVTBILElBQUksWUFDNUIyQyxFQUFjcEMsWUFBYzlFLEVBQzVCaUgsRUFBVWxDLFlBQVltQyxHQUN0QjNLLEVBQVc2SixhQUFhYSxFQUFXMUssRUFBV3VLLFlBQ3ZDdkssQ0FBVSxFQStaNEI0Syx3QkE3WmhCM0osSUFDN0IsTUFBTWpCLEVBQWFILEVBQWdCeUMsY0FBY3JCLEdBQzlCLE9BQWZqQixHQUdKQSxFQUFXeUksYUFBYSxLQUFNLGNBQWMsRUF5WjVDb0MsaUJBdlpzQjVKLElBQ09wQixFQUFnQnlDLGNBQWNyQixHQUN0Q3dILGFBQWEsS0FBTSxjQUFjLEVBcVpwQ3FDLHVCQW5aUyxLQUMzQixNQUFNeEwsRUFBa0JQLEVBQVNFLHFCQUNqQzhMLFFBQVFDLElBQUkxTCxHQUNZLE9BQXBCQSxHQUdlTyxFQUFnQnlDLGNBQWNoRCxHQUV0Q21KLGFBQWEsS0FBTSxjQUFjLEVBMllGZCxrQkFDMUNuQix1QkE1VDJCLENBQUMzRixFQUFXdUIsS0FDdkMsTUFBTTZJLEVBQW1CcEwsRUFBZ0JzQywyQkFBMkJ0QixFQUFXdUIsR0FDekVLLEVBQWUzQixTQUFTaUgsY0FBYyxTQUs1QyxPQUpBdEYsRUFBYW5DLFVBQVUwSCxJQUFJLGNBQzNCdkYsRUFBYWdHLGFBQWEsT0FBUSxRQUNsQ3dDLEVBQWlCcEIsYUFBYXBILEVBQWN3SSxFQUFpQlYsWUFDN0Q5SCxFQUFhK0gsUUFDTi9ILENBQVksRUFxVEt5SSx5QkFuVEssQ0FBQ3JLLEVBQVd1QixLQUN6QyxNQUNNSyxFQUQwQjVDLEVBQWdCc0MsMkJBQTJCdEIsRUFBV3VCLEdBQ3pDckIsY0FBYyxTQUVyRHNFLEVBRG1CdEcsRUFBU00sc0JBQ0VQLHlCQUF5QitCLEdBQzdELElBQUlzSyxFQUNlLFVBQWYvSSxFQUNBK0ksRUFBa0I5RixFQUFXM0YsZUFDUCxhQUFmMEMsRUFDUCtJLEVBQWtCOUYsRUFBV2YsaUJBQ1AsZ0JBQWZsQyxFQUNQK0ksRUFBa0I5RixFQUFXckMscUJBQ1AsVUFBZlosSUFDUCtJLEVBQWtCOUYsRUFBV1YsZ0JBRWpDbEMsRUFBYVYsTUFBUW9KLENBQWUsRUFvU2NDLDRCQWxTbEIsQ0FBQ3ZLLEVBQVd1QixLQUM1QyxNQUFNL0IsRUFBMEJSLEVBQWdCc0MsMkJBQTJCdEIsRUFBV3VCLEdBRWhGaUQsRUFEbUJ0RyxFQUFTTSxzQkFDRVAseUJBQXlCK0IsR0FDN0QsSUFBSXdLLEVBQ0osR0FBbUIsVUFBZmpKLEVBQXdCLENBQ3hCLE1BQU1rSixFQUFZakcsRUFBVzNGLGVBQzdCMkwsRUFBd0J2SyxTQUFTaUgsY0FBYyxNQUMvQ3NELEVBQXNCL0ssVUFBVTBILElBQUksZUFDcENxRCxFQUFzQjlDLFlBQWMrQyxDQUN4QyxNQUFPLEdBQW1CLGFBQWZsSixFQUEyQixDQUNsQyxNQUFNbUosRUFBY2xHLEVBQVdmLGlCQUMvQitHLEVBQXdCdkssU0FBU2lILGNBQWMsS0FDL0NzRCxFQUFzQi9LLFVBQVUwSCxJQUFJLGtCQUNwQ3FELEVBQXNCOUMsWUFBYyxXQUFhZ0QsQ0FDckQsTUFBTyxHQUFtQixnQkFBZm5KLEVBQThCLENBQ3JDLE1BQU1vSixFQUFrQm5HLEVBQVdyQyxxQkFDbkNxSSxFQUF3QnZLLFNBQVNpSCxjQUFjLEtBQy9Dc0QsRUFBc0IvSyxVQUFVMEgsSUFBSSxxQkFDcENxRCxFQUFzQjlDLFlBQWMsZ0JBQWtCaUQsQ0FDMUQsTUFBTyxHQUFtQixVQUFmcEosRUFBd0IsQ0FDL0IsTUFBTXFKLEVBQVlwRyxFQUFXVixlQUM3QjBHLEVBQXdCdkssU0FBU2lILGNBQWMsS0FDL0NzRCxFQUFzQi9LLFVBQVUwSCxJQUFJLGVBQ3BDcUQsRUFBc0I5QyxZQUFjLFVBQVlrRCxDQUNwRCxDQUNBcEwsRUFBd0J3SixhQUFhd0IsRUFBdUJoTCxFQUF3QmtLLFdBQVcsRUF5US9GN0Isd0JBQXVCSSwyQkFBMEI5QixnQ0E1TmIsQ0FBQ25HLEVBQVdlLEtBQ2hELE1BQ004SixFQUR1QjdMLEVBQWdCd0Msd0JBQXdCeEIsRUFBV2UsR0FDMUJiLGNBQWMsK0JBQzlEMEIsRUFBZTNCLFNBQVNpSCxjQUFjLFNBSzVDLE9BSkF0RixFQUFhbkMsVUFBVTBILElBQUksbUJBQzNCdkYsRUFBYWdHLGFBQWEsT0FBUSxRQUNsQ2lELEVBQXlCbEQsWUFBWS9GLEdBQ3JDQSxFQUFhK0gsUUFDTi9ILENBQVksRUFxTm5Ca0osa0NBbk5zQyxDQUFDOUssRUFBV2UsS0FDbEQsTUFDTWEsRUFEdUI1QyxFQUFnQndDLHdCQUF3QnhCLEVBQVdlLEdBQ3RDYixjQUFjLG9CQUlsRDZLLEVBSG1CN00sRUFBU00sc0JBQ0VQLHlCQUF5QitCLEdBQ3RCL0IseUJBQXlCOEMsR0FDWG9CLHFCQUNyRFAsRUFBYVYsTUFBUTZKLENBQXdCLEVBNE1WQyxzQ0ExTU8sQ0FBQ2hMLEVBQVdlLEtBQ3RELE1BQ004SixFQUR1QjdMLEVBQWdCd0Msd0JBQXdCeEIsRUFBV2UsR0FDMUJiLGNBQWMsK0JBSTlENkssRUFIbUI3TSxFQUFTTSxzQkFDRVAseUJBQXlCK0IsR0FDdEIvQix5QkFBeUI4QyxHQUNYb0IscUJBQy9DOEksRUFBa0NoTCxTQUFTaUgsY0FBYyxTQUMvRCtELEVBQWdDckQsYUFBYSxNQUFPLGFBQWE1SCxLQUFhZSxLQUM5RWtLLEVBQWdDeEwsVUFBVTBILElBQUksOEJBQzlDOEQsRUFBZ0N2RCxZQUFjcUQsRUFDOUNGLEVBQXlCbEQsWUFBWXNELEVBQWdDLEVBZ01yRTNDLGlDQUFnQzRDLHFCQWhMTmxMLElBQzFCLE1BQU1XLEVBQWMzQixFQUFnQmUsZUFBZUMsR0FFN0N3RSxFQURtQnRHLEVBQVNNLHNCQUNFUCx5QkFBeUIrQixHQUV2RDRJLEVBRFlqSSxFQUFZVCxjQUFjLGNBQ1hBLGNBQWMsT0FDM0NzRSxFQUFXSixpQkFDWHdFLEVBQWVoQixhQUFhLE1BQU8sMkJBRW5DZ0IsRUFBZWhCLGFBQWEsTUFBTyw0QkFDdEMsRUFzS3FEdUQseUJBcEt4Qm5MLElBQzlCLE1BQU1XLEVBQWMzQixFQUFnQmUsZUFBZUMsR0FFN0N3RSxFQURtQnRHLEVBQVNNLHNCQUNFUCx5QkFBeUIrQixHQUN2RG9MLEVBQW1CekssRUFBWUUsUUFBUWIsVUFDdkM4SSxFQUFxQjdJLFNBQVNDLGNBQWMsa0JBQ2xELEdBQUlzRSxFQUFXSixpQkFBa0IsQ0FDN0IsTUFBTTJFLEVBQTJCckosTUFBTUMsS0FBS00sU0FBU1EsaUJBQWlCLGlCQUN0RSxHQUF3QyxJQUFwQ3NJLEVBQXlCbkwsT0FDekJrTCxFQUFtQkUsYUFBYXJJLEVBQWFtSSxFQUFtQkcsdUJBQzdELENBQ0gsTUFDTUMsRUFBd0JILEVBRFJBLEVBQXlCbkwsT0FBUyxHQUV4RCxJQUFLLE1BQU11TCxLQUFxQkosRUFBMEIsQ0FFdEQsR0FBSXFDLEVBRDJCakMsRUFBa0J0SSxRQUFRYixVQUNWLENBQzNDOEksRUFBbUJFLGFBQWFySSxFQUFhd0ksR0FDN0MsS0FDSixDQUFXQSxJQUFzQkQsR0FDN0JBLEVBQXNCRSxzQkFBc0IsV0FBWXpJLEVBRWhFLENBQ0osQ0FDQUEsRUFBWWxCLFVBQVUwSCxJQUFJLGNBQzlCLEtBQU8sQ0FDSCxNQUFNa0UsRUFBNkIzTCxNQUFNQyxLQUFLbUosRUFBbUJySSxpQkFBaUIsa0NBQ2xGLEdBQTBDLElBQXRDNEssRUFBMkJ6TixPQUMzQmtMLEVBQW1CbkIsWUFBWWhILE9BQzVCLENBQ0gsTUFDTTJLLEVBQTBCRCxFQURWQSxFQUEyQnpOLE9BQVMsR0FFMUQsSUFBSyxNQUFNMk4sS0FBdUJGLEVBQTRCLENBRTFELEdBQUlELEVBRDZCRyxFQUFvQjFLLFFBQVFiLFVBQ1osQ0FDN0M4SSxFQUFtQkUsYUFBYXJJLEVBQWE0SyxHQUM3QyxLQUNKLENBQVdBLElBQXdCRCxHQUMvQnhDLEVBQW1CbkIsWUFBWWhILEVBQWEySyxFQUVwRCxDQUNKLENBQ0EzSyxFQUFZbEIsVUFBVXVJLE9BQU8sY0FDakMsQ0FBQyxFQTJIRHdELDJCQTNHK0IsS0FDL0IsTUFDTUMsRUFEbUJ2TixFQUFTTSxzQkFDR1Isb0JBQ3JDLElBQUssTUFBTWdDLEtBQWF5TCxFQUFhLENBQ2pDLE1BQU1qSCxFQUFhaUgsRUFBWXpMLEdBQy9CLFFBQW1CakMsSUFBZnlHLEVBQTBCLENBQzFCLE1BQU15QyxFQUFpQkgsRUFBZ0I5RyxHQUN2Q3dJLEVBQWtCdkIsR0FDbEI0QixFQUE2QjVCLEdBQzdCWSxFQUFzQjdILEdBQ3RCOEUsRUFBYTRHLGlCQUFpQnpFLEdBQzlCLE1BQU0wRSxFQUF1Qm5ILEVBQVd4RyxvQkFDeEMsSUFBSyxNQUFNK0MsS0FBc0I0SyxFQUU3QixRQUE0QjVOLElBREE0TixFQUFxQjVLLEdBQ1YsQ0FDbkMsTUFBTXNILEVBQTBCSixFQUF5QmpJLEVBQVdlLEdBQ3BFdUgsRUFBK0J0SSxFQUFXZSxHQUMxQytELEVBQWE4RywwQkFBMEJ2RCxFQUMzQyxDQUVSLENBQ0osQ0FBQyxFQXNGMkJ6Qix5QkEvQ0U1RyxJQUM5QixNQUFNVyxFQUFjM0IsRUFBZ0JlLGVBQWVDLEdBQzFCTixNQUFNQyxLQUFLZ0IsRUFBWUYsaUJBQWlCLHNCQUNoRG9MLFNBQVNDLElBQ0NwTSxNQUFNQyxLQUFLbU0sRUFBUXJNLFdBQ3ZCRyxTQUFTLHVCQUN4QmtNLEVBQVFyTSxVQUFVdUksT0FBTyxzQkFDekI4RCxFQUFRck0sVUFBVTBILElBQUkseUJBQ3RCMkUsRUFBUUMsTUFBTUMsUUFBVSxTQUV4QkYsRUFBUXJNLFVBQVUwSCxJQUFJLHNCQUN0QjJFLEVBQVFyTSxVQUFVdUksT0FBTyx5QkFDekJpRSxZQUFXLEtBQ1BILEVBQVFDLE1BQU1DLFFBQVUsTUFBTSxHQUMvQixLQUNOLElBSWtCLENBQUNyTCxJQUN4QkEsRUFBWWxCLFVBQVUwSCxJQUFJLGlCQUMxQjhFLFlBQVcsS0FDUHRMLEVBQVlsQixVQUFVdUksT0FBTyxnQkFBZ0IsR0FDOUMsSUFBSyxFQU5Sa0UsQ0FBbUJ2TCxFQUFZLEVBOEJ1QndMLG9CQXRCN0JuTSxJQUN6QixNQUVNb00sRUFGY3BOLEVBQWdCZSxlQUFlQyxHQUNqQkUsY0FBYyw4QkFDZEEsY0FBYyxPQUMxQ21NLEVBQXFCM00sTUFBTUMsS0FBS3lNLEVBQVkzTSxXQUNoQixJQUE5QjRNLEVBQW1Cek8sUUFBZ0J5TyxFQUFtQnpNLFNBQVMsNkJBQy9Ed00sRUFBWTNNLFVBQVV1SSxPQUFPLDRCQUM3Qm9FLEVBQVkzTSxVQUFVMEgsSUFBSSwrQkFDMUJpRixFQUFZM00sVUFBVTBILElBQUksb0JBQ25Ca0YsRUFBbUJ6TSxTQUFTLGlDQUNuQ3dNLEVBQVkzTSxVQUFVdUksT0FBTywrQkFDN0JvRSxFQUFZM00sVUFBVTBILElBQUksNEJBQzFCaUYsRUFBWTNNLFVBQVV1SSxPQUFPLG1CQUNoQyxFQVMwRXNFLGlCQXpIdEQsQ0FBQ3RNLEVBQVd1TSxLQUNqQyxNQUFNNUwsRUFBYzNCLEVBQWdCZSxlQUFlQyxHQUU3Q29NLEVBRHNCekwsRUFBWVQsY0FBYyw4QkFDZEEsY0FBYyxPQUNoRHNNLEVBQW1COU0sTUFBTUMsS0FBS2dCLEVBQVlGLGlCQUFpQixzQkFDakUrTCxFQUFpQjdPLEtBQUt5TyxHQUN0QkksRUFBaUJYLFNBQVNDLElBQ1AsV0FBWFMsRUFDQVQsRUFBUXJNLFVBQVUwSCxJQUFJLGlCQUNKLFlBQVhvRixHQUNQVCxFQUFRck0sVUFBVXVJLE9BQU8sZ0JBQzVCLEdBQ0gsRUE4R1QsRUExZDRCLEdDRHZCeUUsRUFDOEJyTSxJQUM1QmxDLEVBQVNMLFdBQVd1QyxFQUFTLEVBRi9CcU0sRUFJOEJ6TSxJQUNIOUIsRUFBU00sc0JBQ2pCWCxXQUFXbUMsRUFBVSxFQU54Q3lNLEVBUXVDLENBQUN6TSxFQUFXZSxLQUN4QjdDLEVBQVNNLHNCQUNFUCx5QkFBeUIrQixHQUNsRG5DLFdBQVdrRCxFQUFtQixFQ1ozQzJMLEVBQzRCdE0sSUFDMUIsTUFBTWpCLEVBQWFILEVBQWdCeUMsY0FBY3JCLEdBQ2pELElBQUlvRixFQUFZckcsRUFBV2UsY0FBYyxlQUN6Q2YsRUFBV3dOLFlBQVluSCxHQUN2QkEsRUFBWSxNQUxka0gsRUFPNkJ0TSxJQUMzQixNQUFNakIsRUFBYUgsRUFBZ0J5QyxjQUFjckIsR0FDakQsSUFBSXdCLEVBQWV6QyxFQUFXZSxjQUFjLFNBQzVDZixFQUFXd04sWUFBWS9LLEdBQ3ZCQSxFQUFlLElBQUksRUFYckI4SyxFQWErQnRNLElBQzdCLElBQUlqQixFQUFhSCxFQUFnQnlDLGNBQWNyQixHQUN4QkgsU0FBU0MsY0FBYyxzQkFDL0J5TSxZQUFZeE4sR0FDM0JBLEVBQWEsSUFBSSxFQWpCbkJ1TixFQW1CNEIsS0FDMUIsTUFBTXZPLEVBQWE4QixTQUFTQyxjQUFjLGdCQUN2QixPQUFmL0IsR0FDQUEsRUFBV3lPLGdCQUFnQixLQUc5QixFQXpCSEYsRUEyQmdDMU0sSUFDOUIsSUFBSVcsRUFBYzNCLEVBQWdCZSxlQUFlQyxHQUN6QkMsU0FBU0MsY0FBYyxrQkFDL0J5TSxZQUFZaE0sR0FDNUJBLEVBQWMsSUFBSSxFQS9CcEIrTCxFQWlDeUMsQ0FBQzFNLEVBQVd1QixLQUNuRCxNQUFNL0IsRUFBMEJSLEVBQWdCc0MsMkJBQTJCdEIsRUFBV3VCLEdBQ3RGLElBQUlpSixFQUF3QmhMLEVBQXdCeUosa0JBQ3BEekosRUFBd0JtTixZQUFZbkMsR0FDcENBLEVBQXdCLE1BckMxQmtDLEVBdUM2QixDQUFDMU0sRUFBV3VCLEtBQ3ZDLE1BQU0vQixFQUEwQlIsRUFBZ0JzQywyQkFBMkJ0QixFQUFXdUIsR0FDdEYsSUFBSUssRUFBZXBDLEVBQXdCVSxjQUFjLFNBQ3pEVixFQUF3Qm1OLFlBQVkvSyxHQUNwQ0EsRUFBZSxJQUFJLEVBM0NyQjhLLEVBNkN3QyxDQUFDMU0sRUFBV2UsS0FDbEQsTUFBTWpCLEVBQXVCZCxFQUFnQndDLHdCQUF3QnhCLEVBQVdlLEdBQzFFOEosRUFBMkIvSyxFQUFxQkksY0FBYywrQkFDcEUsSUFBSTZLLEVBQTJCakwsRUFBcUJJLGNBQWMsK0JBQ2xFMkssRUFBeUI4QixZQUFZNUIsR0FDckNBLEVBQTJCLElBQUksRUFsRGpDMkIsRUFvRHNDLENBQUMxTSxFQUFXZSxLQUNoRCxNQUNNOEosRUFEdUI3TCxFQUFnQndDLHdCQUF3QnhCLEVBQVdlLEdBQzFCYixjQUFjLCtCQUNwRSxJQUFJMEIsRUFBZWlKLEVBQXlCM0ssY0FBYyxvQkFDMUQySyxFQUF5QjhCLFlBQVkvSyxHQUNyQ0EsRUFBZSxJQUFJLEVBekRyQjhLLEVBMkRvQyxDQUFDMU0sRUFBV2UsS0FDOUMsTUFDTW9ILEVBRGNuSixFQUFnQmUsZUFBZUMsR0FDZEUsY0FBYyxjQUNuRCxJQUFJSixFQUF1QmQsRUFBZ0J3Qyx3QkFBd0J4QixFQUFXZSxHQUM5RW9ILEVBQWlCd0UsWUFBWTdNLEdBQzdCQSxFQUF1QixJQUFJLEVBaEU3QjRNLEVBa0U0QixLQUNDek0sU0FBU0MsY0FBYyxrQkFDL0IyTSxpQkFBaUIsRUNwRXRDQyxFQUFrQixNQUNwQixJQUFJQyxHQUFtQixFQUN2QixNQThDTUMsRUFBdUIsS0FDekIsTUFBTUMsRUFBcUJDLGFBQWFDLFFBQVEsY0FFaEQsT0FENkJDLEtBQUtDLE1BQU1KLEVBQ2IsRUFFekJLLEVBQTJCQyxJQUM3QixNQUFNQyxFQUF5QkosS0FBS0ssVUFBVUYsR0FDOUNMLGFBQWFRLFFBQVEsYUFBY0YsRUFBdUIsRUFrSzlELE1BQU8sQ0FBRUcsbUJBdk5rQixLQUN2QixNQUFNVixFQUFxQixpQ0FDTi9PLEVBQVNFLDJEQUd4QndQLEVBQXVCUixLQUFLQyxNQUFNSixHQUN4Q0ssRUFBd0JNLEVBQXFCLEVBaU5wQjdJLE9BL01iM0UsSUFDWixNQUFNa0QsRUFBWXRFLEVBQWdCbUIsYUFBYUMsR0FDekN3TixFQUF1QlosSUFDdkJhLEVBQWdCLDRCQUNOdkssRUFBVXpFLHVEQUdwQmlQLEVBQWtCVixLQUFLQyxNQUFNUSxHQUNuQ0QsRUFBMkIsS0FBRSxPQUFPeE4sS0FBYzBOLEVBQ2xEUixFQUF3Qk0sRUFBcUIsRUFzTVpuUSxRQXBNckIsQ0FBQzJDLEVBQVVKLEtBQ3ZCLE1BQU13RSxFQUFheEYsRUFBZ0JxQixjQUFjRCxFQUFVSixHQUNyRDROLEVBQXVCWixJQUN2QmUsRUFBaUIsNEJBQ1B2SixFQUFXM0YsOENBQ1IyRixFQUFXZixtREFDUmUsRUFBV3JDLGlEQUNqQnFDLEVBQVdWLDJDQUNYVSxFQUFXSiwrQ0FDUkksRUFBVzlCLHFFQUd4QnNMLEVBQW1CWixLQUFLQyxNQUFNVSxHQUNwQ0gsRUFBMkIsS0FBRSxPQUFPeE4sS0FBbUIsTUFBRSxRQUFRSixLQUFlZ08sRUFDaEZWLEVBQXdCTSxFQUFxQixFQXNMSEssaUJBcExyQixDQUFDN04sRUFBVUosRUFBV2UsS0FDM0MsTUFBTTJELEVBQXNCMUYsRUFBZ0I4Qyx1QkFBdUIxQixFQUFVSixFQUFXZSxHQUNsRjZNLEVBQXVCWixJQUN2QmtCLEVBQTBCLGtDQUNWeEosRUFBb0J2QyxvREFDdkJ1QyxFQUFvQmhDLGlDQUVqQ3lMLEVBQTRCZixLQUFLQyxNQUFNYSxHQUM3Q04sRUFBMkIsS0FBRSxPQUFPeE4sS0FBbUIsTUFBRSxRQUFRSixLQUE4QixnQkFBRSxrQkFBa0JlLEtBQXdCb04sRUFDM0liLEVBQXdCTSxFQUFxQixFQTJLZVEsY0FoS3pDaE8sSUFDbkIsTUFBTXdOLEVBQXVCWixJQUV6QlksRUFBa0MsWUFEckIsT0FBYnhOLEVBQ3NDLEtBRUE3QixPQUFPNkIsR0FFakRrTixFQUF3Qk0sRUFBb0IsRUF5SitCUyxXQXZKM0RqTyxJQUNoQixNQUFNa0QsRUFBWXRFLEVBQWdCbUIsYUFBYUMsR0FDekN3TixFQUF1QlosSUFDN0JZLEVBQTJCLEtBQUUsT0FBT3hOLEtBQW1CLE1BQUlrRCxFQUFVekUsZUFDckV5TyxFQUF3Qk0sRUFBcUIsRUFtSjBDVSx5QkFqSjFELENBQUNsTyxFQUFVSixFQUFXdU8sS0FDbkQsTUFBTS9KLEVBQWF4RixFQUFnQnFCLGNBQWNELEVBQVVKLEdBQ3JENE4sRUFBdUJaLElBQ0osVUFBckJ1QixFQUNBWCxFQUEyQixLQUFFLE9BQU94TixLQUFtQixNQUFFLFFBQVFKLEtBQW9CLE1BQUl3RSxFQUFXM0YsZUFDeEUsYUFBckIwUCxFQUNQWCxFQUEyQixLQUFFLE9BQU94TixLQUFtQixNQUFFLFFBQVFKLEtBQXVCLFNBQUl3RSxFQUFXZixpQkFDM0UsZ0JBQXJCOEssRUFDUFgsRUFBMkIsS0FBRSxPQUFPeE4sS0FBbUIsTUFBRSxRQUFRSixLQUEwQixZQUFJd0UsRUFBV3JDLHFCQUM5RSxVQUFyQm9NLElBQ1BYLEVBQTJCLEtBQUUsT0FBT3hOLEtBQW1CLE1BQUUsUUFBUUosS0FBb0IsTUFBSXdFLEVBQVdWLGdCQUV4R3dKLEVBQXdCTSxFQUFxQixFQXFJb0VZLG9CQW5JekYsQ0FBQ3BPLEVBQVVKLEtBQ25DLE1BQU13RSxFQUFheEYsRUFBZ0JxQixjQUFjRCxFQUFVSixHQUNyRDROLEVBQXVCWixJQUM3QlksRUFBMkIsS0FBRSxPQUFPeE4sS0FBbUIsTUFBRSxRQUFRSixLQUF3QixVQUFJd0UsRUFBVzlCLG9CQUN4RzRLLEVBQXdCTSxFQUFxQixFQStIeUZhLGlCQTdIakgsQ0FBQ3JPLEVBQVVKLEtBQ2hDLE1BQU13RSxFQUFheEYsRUFBZ0JxQixjQUFjRCxFQUFVSixHQUNyRDROLEVBQXVCWixJQUM3QlksRUFBMkIsS0FBRSxPQUFPeE4sS0FBbUIsTUFBRSxRQUFRSixLQUFxQixPQUFJd0UsRUFBV0osaUJBQ3JHa0osRUFBd0JNLEVBQXFCLEVBeUgyR2MsNEJBdkh4SCxDQUFDdE8sRUFBVUosRUFBV2UsS0FDdEQsTUFBTTJELEVBQXNCMUYsRUFBZ0I4Qyx1QkFBdUIxQixFQUFVSixFQUFXZSxHQUNsRjZNLEVBQXVCWixJQUM3QlksRUFBMkIsS0FBRSxPQUFPeE4sS0FBbUIsTUFBRSxRQUFRSixLQUE4QixnQkFBRSxrQkFBa0JlLEtBQW1DLFlBQUkyRCxFQUFvQnZDLHFCQUM5S21MLEVBQXdCTSxFQUFxQixFQW1Id0llLDZCQWpIcEosQ0FBQ3ZPLEVBQVVKLEVBQVdlLEtBQ3ZELE1BQU0yRCxFQUFzQjFGLEVBQWdCOEMsdUJBQXVCMUIsRUFBVUosRUFBV2UsR0FDbEY2TSxFQUF1QlosSUFDN0JZLEVBQTJCLEtBQUUsT0FBT3hOLEtBQW1CLE1BQUUsUUFBUUosS0FBOEIsZ0JBQUUsa0JBQWtCZSxLQUFpQyxVQUFJMkQsRUFBb0JoQyxvQkFDNUs0SyxFQUF3Qk0sRUFBcUIsRUE2R3NLdEksVUEzR3BNbEYsSUFDZixNQUFNd04sRUFBdUJaLElBQzdCWSxFQUEyQixLQUFFLE9BQU94TixLQUFjLEtBQ2xEa04sRUFBd0JNLEVBQXFCLEVBd0dpTC9QLFdBdEcvTSxDQUFDdUMsRUFBVUosS0FDMUIsTUFBTTROLEVBQXVCWixJQUM3QlksRUFBMkIsS0FBRSxPQUFPeE4sS0FBbUIsTUFBRSxRQUFRSixLQUFlLEtBQ2hGc04sRUFBd0JNLEVBQXFCLEVBbUc2THBILG9CQWpHbE4sQ0FBQ3BHLEVBQVVKLEVBQVdlLEtBQzlDLE1BQU02TSxFQUF1QlosSUFDN0JZLEVBQTJCLEtBQUUsT0FBT3hOLEtBQW1CLE1BQUUsUUFBUUosS0FBOEIsZ0JBQUUsa0JBQWtCZSxLQUF3QixLQUMzSXVNLEVBQXdCTSxFQUFxQixFQThGa054UCxtQkE1RnhPLElBQ000TyxJQUM2QixZQTBGeU40QixZQXZGbFFDLEdBQ1k3QixJQUNlLEtBQUU2QixHQUFlLE1BcUZtT0MsY0FsRjlRLENBQUNELEVBQVFFLEtBQzNCLE1BQU1uQixFQUF1QlosSUFDN0IsSUFBSWdDLEVBQWEsR0FDakIsTUFBTXZFLEVBQVltRCxFQUEyQixLQUFFaUIsR0FBZSxNQUFFRSxHQUFnQixNQUNoRkMsRUFBV3JSLEtBQUs4TSxHQUNoQixNQUFNQyxFQUFja0QsRUFBMkIsS0FBRWlCLEdBQWUsTUFBRUUsR0FBbUIsU0FDckZDLEVBQVdyUixLQUFLK00sR0FDaEIsTUFBTUMsRUFBa0JpRCxFQUEyQixLQUFFaUIsR0FBZSxNQUFFRSxHQUFzQixZQUM1RkMsRUFBV3JSLEtBQUtnTixHQUNoQixNQUFNQyxFQUFZZ0QsRUFBMkIsS0FBRWlCLEdBQWUsTUFBRUUsR0FBZ0IsTUFDaEZDLEVBQVdyUixLQUFLaU4sR0FDaEIsTUFBTXFFLEVBQWFyQixFQUEyQixLQUFFaUIsR0FBZSxNQUFFRSxHQUFpQixPQUNsRkMsRUFBV3JSLEtBQUtzUixHQUNoQixNQUFNQyxFQUFnQnRCLEVBQTJCLEtBQUVpQixHQUFlLE1BQUVFLEdBQW9CLFVBRXhGLE9BREFDLEVBQVdyUixLQUFLdVIsR0FDVEYsQ0FBVSxFQW1FOFJHLHVCQWpFcFIsQ0FBQ04sRUFBUUUsRUFBU0ssS0FDN0MsTUFBTXhCLEVBQXVCWixJQUM3QixJQUFJcUMsRUFBc0IsR0FDMUIsTUFBTXRFLEVBQTJCNkMsRUFBMkIsS0FBRWlCLEdBQWUsTUFBRUUsR0FBMEIsZ0JBQUVLLEdBQStCLFlBQzFJQyxFQUFvQjFSLEtBQUtvTixHQUN6QixNQUFNdUUsRUFBeUIxQixFQUEyQixLQUFFaUIsR0FBZSxNQUFFRSxHQUEwQixnQkFBRUssR0FBNkIsVUFFdEksT0FEQUMsRUFBb0IxUixLQUFLMlIsR0FDbEJELENBQW1CLEVBMEQ2U0Usd0JBeEQzUyxNQUN4QnJDLGFBQWFDLFFBQVEsY0F1RHVVSCx1QkFBc0J3QyxjQS9DcFcsSUFDVzFDLEVBQWdCRSx1QkFDQyxLQTZDdVZ5QyxlQTFDalhyUCxHQUNTME0sRUFBZ0JFLHVCQUNFLEtBQUUsT0FBTzVNLEtBQW1CLE1Bd0MwVXNQLHdCQXJDelgsQ0FBQ3RQLEVBQVVKLElBQ1Y4TSxFQUFnQkUsdUJBQ1csS0FBRSxPQUFPNU0sS0FBbUIsTUFBRSxRQUFRSixLQUE4QixnQkFtQ2tUMlAsY0FoQzVaLEtBQ0M1QyxHQUFuQkEsQ0FBcUUsRUErQndYNkMsVUE3Qi9hLElBQ1A3QyxFQTZCZCxFQTFOdUIsR0NRbEJqSSxFQUFlLE1BQ2pCLE1BQU1DLEVBQVMsQ0FBQzdGLEVBQU8wRCxFQUFRLGFBQzNCLE1BQU1pTixFQUFjbE4sRUFBbURDLEdBQ2pFMkcsRUFBZ0IxQyxFQUFxQndDLGVBQWV3RyxHQUUxRCxHQURBQyxFQUFnQnZHLElBQ1h1RCxFQUFnQjhDLGNBQ2pCOUMsRUFBZ0IvSCxPQUFPOEssR0FDbkI3USxFQUFnQnVCLHFCQUFxQixDQUNyQyxNQUFNd1AsRUFBZ0JwTixJQUN0QmtFLEVBQXFCb0QseUJBQ3JCNkMsRUFBZ0JzQixjQUFjMkIsRUFDbEMsQ0FFSixPQUFPRixHQWdETEMsRUFBbUJ2RyxJQUNyQjNFLEVBQXVDMkUsR0FDdkMzRSxFQUF5QzJFLEdBQ3pDM0UsRUFBbUMyRSxFQUFjLEVBRS9DOUwsRUFBVSxDQUNaeUIsRUFDQWtCLEVBQVNsQyxFQUFTRSxxQkFDbEJRLEVBQU0saUJBQ051RSxFQUFRLGdCQUNSakIsRUFBWSxtQkFDWmtCLEVBQU0sYUFDTkMsR0FBTyxFQUNQYixHQUFVLEtBRVYsR0FBc0MsT0FBbEN0RSxFQUFTRSxxQkFFVCxZQURBNFIsSUFHSixNQUFNQyxFQUFldE4sRUFDakJ2QyxFQUNBeEIsRUFDQXVFLEVBQ0FqQixFQUNBa0IsRUFDQUMsRUFDQWIsR0FFRXlFLEVBQWlCSixFQUFxQkMsZ0JBQWdCbUosR0FLNUQsT0FKQXZFLEVBQWlCekUsR0FDWjZGLEVBQWdCOEMsYUFDakI5QyxFQUFnQnJQLFFBQVFTLEVBQVNFLHFCQUFzQjZSLEdBRXBEQSxDQUFZLEVBMkNqQnZFLEVBQW9CekUsSUFDdEJyQyxFQUEwQ3FDLEdBQzFDckMsRUFBbUNxQyxHQUNuQ3JDLEVBQTRDcUMsR0FDNUNyQyxFQUEwQ3FDLEdBQzFDckMsRUFBd0NxQyxHQUN4Q3JDLEVBQW1EcUMsRUFBZSxFQStDaEUyRSxFQUE2QnZELElBQy9CekQsRUFBNEN5RCxHQUM1Q3pELEVBQXFEeUQsR0FDckR6RCxFQUE2Q3lELEVBQXdCLEVBVW5FMkgsRUFBeUIsS0FDM0IsTUFBTTVQLEVBQVcyRSxFQUFPN0YsTUFBTyxnQkFDekJjLEVBQVl2QyxFQUNkeUIsTUFDQWtCLEVBQ0EseUVBQ0Esb0pBQ0Esd0dBQ0EsK0hBQ0EsR0FDQSxHQUVKeUcsRUFBcUJnQixzQkFBc0I3SCxHQUMzQzZHLEVBQXFCcUUscUJBQXFCbEwsR0FDMUM2RyxFQUFxQnNFLHlCQUF5Qm5MLEdBQzlDa1EsRUFDSTlQLEVBQ0FKLEVBQ0EsZ0lBQ0EsR0FFSmtRLEVBQ0k5UCxFQUNBSixFQUNBLDZHQUNBLEdBRUprUSxFQUF5QjlQLEVBQ3JCSixFQUNBLDRNQUNBLEVBQ0gsRUFFQ2tRLEVBQTJCLENBQUM5UCxFQUFVSixFQUFXa0MsRUFBYU0sS0FDaEUsTUFBTXpCLEVBQXFCNEIsRUFBd0R2QyxFQUFVSixFQUFXa0MsRUFBYU0sR0FDL0cxQyxFQUF1QitHLEVBQXFCb0IseUJBQXlCakksRUFBV2UsR0FDdEY4RixFQUFxQnlCLCtCQUErQnRJLEVBQVdlLEdBQy9ENkssRUFBMEI5TCxHQUNyQmdOLEVBQWdCOEMsYUFDakI5QyxFQUFnQm1CLGlCQUFpQjdOLEVBQVVKLEVBQVdlLEVBQ3pELEVBRUNvUCxFQUFxQixLQUN2QnJELEVBQWdCNkMsZ0JBQ2hCUyxJQUNBQyxJQUNBdkQsRUFBZ0I2QyxlQUFlLEVBRTdCUyxFQUF3QixLQUMxQixNQUFNM1IsRUFBa0JxTyxFQUFnQjFPLHFCQUN4Q0YsRUFBU0csbUJBQW1CSSxFQUFnQixFQUUxQzRSLEVBQW1CLEtBQ3JCLE1BQU1DLEVBQWF4RCxFQUFnQjBDLGdCQUNuQyxJQUFLLE1BQU1YLEtBQVV5QixFQUNqQixHQUEyQixPQUF2QkEsRUFBV3pCLEdBQ1gzUSxFQUFTVCxhQUFRTSxPQUNkLENBQ0gsTUFBTXdTLEVBQVd6RCxFQUFnQjhCLFlBQVlDLEdBQ3ZDek8sRUFBVzJFLEVBQU83RixNQUFPcVIsR0FDL0JDLEdBQWtCcFEsRUFBVXlPLEVBQ2hDLENBRUpoSSxFQUFxQm9ELHdCQUF1QixFQUUxQ3VHLEdBQW9CLENBQUNwUSxFQUFVeU8sS0FDakMsTUFBTXZMLEVBQVl0RSxFQUFnQm1CLGFBQWFDLEdBQ3pDcVEsRUFBYzNELEVBQWdCMkMsZUFBZXJQLEdBQ25ELElBQUssTUFBTTJPLEtBQVcwQixFQUNsQixHQUE2QixPQUF6QkEsRUFBWTFCLEdBQ1p6TCxFQUFVN0YsYUFBUU0sT0FDZixDQUNILE1BQU1pUixFQUFhbEMsRUFBZ0JnQyxjQUFjRCxFQUFRRSxHQUNuRHRFLEVBQVl1RSxFQUFXLEdBQ3ZCdEUsRUFBY3NFLEVBQVcsR0FDekJyRSxFQUFrQnFFLEVBQVcsR0FDN0JwRSxFQUFZb0UsRUFBVyxHQUN2QkMsRUFBYUQsRUFBVyxHQUN4QkUsRUFBZ0JGLEVBQVcsR0FDakMsSUFBSWhQLEVBQ0FJLElBQWFsQyxFQUFTRSxzQkFDdEI0QixFQUFZdkMsRUFDUnlCLE1BQ0FrQixFQUNBcUssRUFDQUMsRUFDQUMsRUFDQUMsRUFDQXFFLEVBQ0FDLEdBRUpySSxFQUFxQmdCLHNCQUFzQjdILEdBQzNDNkcsRUFBcUJxRSxxQkFBcUJsTCxHQUMxQzZHLEVBQXFCc0UseUJBQXlCbkwsSUFFOUNBLEVBQVkyQyxFQUNSdkMsRUFDQXFLLEVBQ0FDLEVBQ0FDLEVBQ0FDLEVBQ0FxRSxFQUNBQyxHQUdSd0IsR0FBMkJ0USxFQUFVeU8sRUFBUTdPLEVBQVcrTyxFQUM1RCxDQUNILEVBRUMyQixHQUE2QixDQUFDdFEsRUFBVXlPLEVBQVE3TyxFQUFXK08sS0FDN0QsTUFBTXZLLEVBQWF4RixFQUFnQnFCLGNBQWNELEVBQVVKLEdBQ3JEMlEsRUFBdUI3RCxFQUFnQjRDLHdCQUF3QnRQLEVBQVVKLEdBQy9FLElBQUssTUFBTW9QLEtBQW9CdUIsRUFDM0IsR0FBK0MsT0FBM0NBLEVBQXFCdkIsR0FDckI1SyxFQUFXL0csYUFBUU0sT0FDaEIsQ0FDSCxNQUFNc1IsRUFBc0J2QyxFQUFnQnFDLHVCQUF1Qk4sRUFBUUUsRUFBU0ssR0FDOUVyRSxFQUEyQnNFLEVBQW9CLEdBQy9DQyxFQUF5QkQsRUFBb0IsR0FDbkQsSUFBSXRPLEVBRUFBLEVBREFYLElBQWFsQyxFQUFTRSxxQkFDRDhSLEVBQXlCOVAsRUFBVUosRUFBVytLLEVBQTBCdUUsR0FFeEUzTSxFQUF3RHZDLEVBQVVKLEVBQVcrSyxFQUEwQnVFLEVBRXBJLENBQ0gsRUFVTCxNQUFPLENBQ0h2SyxTQUNBSSxzQkF0VTJCakcsSUFDM0IsSUFBS0YsRUFBZ0IwQyw2QkFBNkJ4QyxFQUFPLE9BQVEsQ0FDN0QsTUFBTWtCLEVBQVdwQixFQUFnQmdDLFlBQVk5QixHQUN2QzBDLEVBQWVpRixFQUFxQjFCLHNCQUFzQi9FLEdBQ2hFc00sRUFBeUN0TSxHQUN6Q3lHLEVBQXFCNEMsd0JBQXdCckosR0FDN0N3RSxFQUFrQ2hELEVBQ3RDLENBQUMsRUFnVUR3RCxVQTlUZWxHLElBQ2YsR0FBbUIsVUFBZkEsRUFBTTBSLEtBQWtCLENBQ3hCLE1BQU14USxFQUFXcEIsRUFBZ0JnQyxZQUFZOUIsR0FDdkM2RCxFQUFhL0QsRUFBZ0JpQyxZQUFZL0IsR0FDL0N5RCxFQUEwQ3ZDLEVBQVUyQyxHQUNwRCxNQUFNNUQsRUFBYTBILEVBQXFCK0MscUJBQXFCeEosR0FDN0RzTSxFQUEwQ3RNLEdBQzFDd0UsRUFBbUN6RixHQUNuQzJOLEVBQWdCdUIsV0FBV2pPLEVBQy9CLENBQUMsRUFzVERvRixVQXJTZXRHLElBQ2YsSUFBS0YsRUFBZ0JzQixxQkFBcUJwQixHQUFRLENBQzlDLE1BQU1rQixFQUFXcEIsRUFBZ0JnQyxZQUFZOUIsR0FDN0N5RCxFQUErQ3ZDLEdBQy9Dc00sSUFDQTdGLEVBQXFCbUQsaUJBQWlCNUosR0FDdENzTSxJQUNBN0YsRUFBcUIyRSw2QkFDckJzQixFQUFnQnNCLGNBQWNoTyxFQUNsQyxHQTZSQWtGLFVBclRlcEcsSUFDZixNQUFNa0IsRUFBV3BCLEVBQWdCZ0MsWUFBWTlCLEdBSTdDLEdBSEF1TixFQUFvRHJNLEdBQ3BEc00sRUFBNEN0TSxHQUM1QzBNLEVBQWdCeEgsVUFBVWxGLEdBQ3RCcEIsRUFBZ0JzQixxQkFBcUJwQixHQUFRLENBQzdDLE1BQU02USxFQUFnQnBOLElBQ3RCa0UsRUFBcUJvRCx5QkFDckJ5QyxJQUNBSSxFQUFnQnNCLGNBQWMyQixHQUN6Qi9RLEVBQWdCK0MscUJBQ2pCOEUsRUFBcUIyRSw0QkFFN0IsR0F5U0FzRSxrQkFDQXJTLFVBQ0FrSSx1QkEzUDRCekcsSUFDNUIsSUFBS0YsRUFBZ0IwQyw2QkFBNkJ4QyxFQUFPLFFBQVMsQ0FDOUQsTUFBTWMsRUFBWWhCLEVBQWdCMEIsYUFBYXhCLEdBQ3pDbUMsRUFBdUJyQyxFQUFnQm1DLHdCQUF3QmpDLEdBQ3JFd04sRUFBdUQxTSxFQUFXcUIsR0FDbEUsTUFBTU8sRUFBZWlGLEVBQXFCbEIsdUJBQXVCM0YsRUFBV3FCLEdBQzVFd0YsRUFBcUJ3RCx5QkFBeUJySyxFQUFXcUIsR0FDekR1RCxFQUFtQ2hELEVBQ3ZDLENBQUMsRUFvUERnRSxXQWxQZ0IxRyxJQUNoQixHQUFtQixVQUFmQSxFQUFNMFIsS0FBa0IsQ0FDeEIsTUFBTTVRLEVBQVloQixFQUFnQjBCLGFBQWF4QixHQUN6Q21DLEVBQXVCckMsRUFBZ0JtQyx3QkFBd0JqQyxHQUMvRHFGLEVBQXlCdkYsRUFBZ0JpQyxZQUFZL0IsR0FDM0R5RCxFQUFpRDNDLEVBQVdxQixFQUFzQmtELEdBQ2xGc0MsRUFBcUIwRCw0QkFBNEJ2SyxFQUFXcUIsR0FDNURxTCxFQUEyQzFNLEVBQVdxQixHQUN0RHlMLEVBQWdCd0IseUJBQXlCcFEsRUFBU0UscUJBQXNCNEIsRUFBV3FCLEVBQ3ZGLENBQUMsRUEwT0RxRixjQXhPbUJ4SCxJQUNuQixNQUFNYyxFQUFZaEIsRUFBZ0IwQixhQUFheEIsR0FDL0MySCxFQUFxQnlGLGlCQUFpQnRNLEVBQVcsVUFDakQyQyxFQUE0QzNDLEdBQzVDNkcsRUFBcUJxRSxxQkFBcUJsTCxHQUMxQzZHLEVBQXFCc0UseUJBQXlCbkwsR0FDOUM4TSxFQUFnQjJCLGlCQUFpQnZRLEVBQVNFLHFCQUFzQjRCLEVBQVUsRUFtTzFFK0YsbUJBak93QjdHLElBQ3hCLE1BQU1jLEVBQVloQixFQUFnQjBCLGFBQWF4QixHQUMvQ3lELEVBQWlEM0MsR0FDakQ2RyxFQUFxQmdCLHNCQUFzQjdILEdBQzNDOE0sRUFBZ0IwQixvQkFBb0J0USxFQUFTRSxxQkFBc0I0QixFQUFVLEVBOE43RW5DLFdBNU5nQnFCLElBQ2hCLE1BQU1jLEVBQVloQixFQUFnQjBCLGFBQWF4QixHQUMvQ3VOLEVBQW9Eek0sR0FDcEQwTSxFQUE2QzFNLEdBQzdDOE0sRUFBZ0JqUCxXQUFXSyxFQUFTRSxxQkFBc0I0QixFQUFVLEVBeU5wRTBMLG1CQUNBekYsb0JBaE55Qi9HLElBQ3pCLE1BQU1rQixFQUFXbEMsRUFBU0UscUJBQ3BCNEIsRUFBWWhCLEVBQWdCMEIsYUFBYXhCLEdBQ3pDZ0osRUFBd0J2RixFQUF3RHZDLEVBQVVKLEdBQzFGcUksRUFBMEJ4QixFQUFxQm9CLHlCQUF5QmpJLEVBQVdrSSxHQUN6RjBELEVBQTBCdkQsR0FDckJ5RSxFQUFnQjhDLGFBQ2pCOUMsRUFBZ0JtQixpQkFBaUIvUCxFQUFTRSxxQkFBc0I0QixFQUFXa0ksRUFDOUUsRUF5TUQvQixnQ0F2TXFDakgsSUFDckMsSUFBS0YsRUFBZ0IwQyw2QkFBNkJ4QyxFQUFPLGtCQUFtQixDQUN4RSxNQUFNYyxFQUFZaEIsRUFBZ0IwQixhQUFheEIsR0FDekM2QixFQUFxQi9CLEVBQWdCOEIsc0JBQXNCNUIsR0FDakV3TixFQUFzRDFNLEVBQVdlLEdBQ2pFLE1BQU1hLEVBQWVpRixFQUFxQlYsZ0NBQWdDbkcsRUFBV2UsR0FDckY4RixFQUFxQmlFLGtDQUFrQzlLLEVBQVdlLEdBQ2xFNkQsRUFBNENoRCxFQUNoRCxDQUFDLEVBZ01Ed0Usb0JBOUx5QmxILElBQ3pCLEdBQW1CLFVBQWZBLEVBQU0wUixLQUFrQixDQUN4QixNQUFNNVEsRUFBWWhCLEVBQWdCMEIsYUFBYXhCLEdBQ3pDNkIsRUFBcUIvQixFQUFnQjhCLHNCQUFzQjVCLEdBQzNEeUYsRUFBc0IzRixFQUFnQmlDLFlBQVkvQixHQUN4RHlELEVBQTJEM0MsRUFBV2UsRUFBb0I0RCxHQUMxRmtDLEVBQXFCbUUsc0NBQXNDaEwsRUFBV2UsR0FDdEUyTCxFQUFvRDFNLEVBQVdlLEdBQy9EK0wsRUFBZ0I0Qiw0QkFBNEJ4USxFQUFTRSxxQkFBc0I0QixFQUFXZSxFQUMxRixDQUFDLEVBc0xEdUYsNEJBcExpQ3BILElBQ2pDLE1BQU1jLEVBQVloQixFQUFnQjBCLGFBQWF4QixHQUN6QzZCLEVBQXFCL0IsRUFBZ0I4QixzQkFBc0I1QixHQUNqRXlELEVBQTBEM0MsRUFBV2UsR0FDckU4RixFQUFxQnlCLCtCQUErQnRJLEVBQVdlLEdBQy9EK0wsRUFBZ0I2Qiw2QkFBNkJ6USxFQUFTRSxxQkFBc0I0QixFQUFXZSxFQUFtQixFQWdMMUd5RixvQkE5S3lCdEgsSUFDekIsTUFBTWMsRUFBWWhCLEVBQWdCMEIsYUFBYXhCLEdBQ3pDNkIsRUFBcUIvQixFQUFnQjhCLHNCQUFzQjVCLEdBQ2pFdU4sRUFBOER6TSxFQUFXZSxHQUN6RTJMLEVBQWtEMU0sRUFBV2UsR0FDN0QrTCxFQUFnQnRHLG9CQUFvQnRJLEVBQVNFLHFCQUFzQjRCLEVBQVdlLEVBQW1CLEVBMEtqRzZLLDRCQUNBaEYseUJBcEs4QjFILElBQzlCLE1BQU1jLEVBQVloQixFQUFnQjBCLGFBQWF4QixHQUMxQ0YsRUFBZ0I2QyxvQkFBb0I3QixLQUNyQzZHLEVBQXFCeUYsaUJBQWlCdE0sRUFBVyxXQUNqRDZHLEVBQXFCRCx5QkFBeUI1RyxHQUM5QzZHLEVBQXFCc0Ysb0JBQW9Cbk0sR0FDNUMsRUErSkRnUSx5QkFDQUcscUJBQ0FFLG1CQUNBUSxXQWhDZSxLQUNYL0QsRUFBZ0J5QywwQkFDaEJZLEtBRUFyRCxFQUFnQmEscUJBQ2hCcUMsSUFDSCxFQTRCUixFQTdXb0IsR0M4SXJCcEwsSUFFQUEsSUFDQUEsSUFXQWlDLEVBQXFCa0Qsd0JBQXdCLEdBRTdDbkYsSUFFQUEsSUFFQUEsSUFFQUEsSUFTQUEsSUFDQUEsSUFDQUEsSUFLQUEsSUFDQUEsSUFFQUEsSUFDQUEsSUFjQXNGLFFBQVFDLElBQUlpRCxLQUFLQyxNQUFNSCxhQUFhQyxRQUFRLGdCQUs1Q2pELFFBQVFDLElBQUlpRCxLQUFLQyxNQUFNSCxhQUFhQyxRQUFRLGdCQVU1Q3JJLEVBQWErTCxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvaGVscGVyX2Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9vYmplY3RfY29udHJvbGxlcl9hZGRfZWRpdF9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3RhYl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3Rhc2tfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2NoZWNrbGlzdF90YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2Fzc2lnbmVyX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvb2JqZWN0X2NvbnRyb2xsZXJfcmVtb3ZlX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX3JlbW92ZS5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fbGlzdF9zdG9yYWdlX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCkgPT4ge1xuICAgIGxldCBjaGVja2xpc3QgPSBbXTtcbiAgICBjb25zdCBnZXRUYXNrSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3QubGVuZ3RoIC0gMTtcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBhZGRUYXNrKHRhc2spIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdC5wdXNoKHRhc2spO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcmV0dXJuIGdldFRhc2tJbmRleCgpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVUYXNrKGluZGV4KSB7XG4gICAgICAgICAgICBjaGVja2xpc3RbaW5kZXhdID0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXRDaGVja2xpc3RUYXNrcygpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVja2xpc3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFtpbmRleF07XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH07IiwiLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9MaXN0ID0gKCgpID0+IHtcbiAgICBsZXQgY3VycmVudFRhYiA9IDA7XG4gICAgY29uc3QgZ2V0Q3VycmVudFRhYkluZGV4ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYjtcbiAgICB9O1xuICAgIGNvbnN0IHNldEN1cnJlbnRUYWJJbmRleCA9IChuZXdDdXJyZW50VGFiKSA9PiB7XG4gICAgICAgIGlmIChuZXdDdXJyZW50VGFiID09PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50VGFiID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRUYWIgPSBOdW1iZXIobmV3Q3VycmVudFRhYik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRDdXJyZW50VGFiT2JqZWN0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiSW5kZXggPSBnZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFiSW5kZXgpO1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYk9iamVjdDtcbiAgICB9XG4gICAgbGV0IG9iamVjdCA9IHtcbiAgICAgICAgZ2V0Q3VycmVudFRhYkluZGV4LFxuICAgICAgICBzZXRDdXJyZW50VGFiSW5kZXgsXG4gICAgICAgIGdldEN1cnJlbnRUYWJPYmplY3RcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudChvYmplY3QpLFxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn0pKCk7XG5cbmV4cG9ydCB7IHRvRG9MaXN0IH07IiwiY29uc3QgdGl0bGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxUaXRsZSkgPT4ge1xuICAgIGxldCB0aXRsZSA9IGluaXRpYWxUaXRsZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza1RpdGxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrVGl0bGUobmV3VGl0bGUpIHtcbiAgICAgICAgICAgIHRpdGxlID0gbmV3VGl0bGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuXG5jb25zdCBoZWxwZXJGdW5jdGlvbnMgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YWJFbGVtZW50ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHdoaWxlICh0YWJFbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpICE9PSBcInRhYi10aXRsZVwiKSB7XG4gICAgICAgICAgICB0YWJFbGVtZW50ID0gdGFiRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFiRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrRm9yRXhpc3RpbmdJbnB1dEVsZW1lbnQgPSAoZXZlbnQsIGVsZW1lbnRUeXBlKSA9PiB7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChlbGVtZW50VHlwZSA9PT0gXCJUYWJcIikge1xuICAgICAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudCA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWItbmFtZS1pbnB1dFwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gXCJUYXNrXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhc2tTdWJjb250YWluZXJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFzay1pbnB1dFwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtZW50VHlwZSA9PT0gXCJDaGVja2xpc3QgVGFza1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50ID0gY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWlucHV0XCIpO1xuICAgICAgICB9O1xuICAgICAgICBpZiAoaW5wdXRFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrSWZXYXNDdXJyZW50VGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGlmICh0YWJFbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBcImN1cnJlbnQtdGFiXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tJZk9ubHlPbmVUYWIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYnMgPSBBcnJheS5mcm9tKHRvRG9UYWJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLXRpdGxlXCIpKTtcbiAgICAgICAgaWYgKHRvRG9UYWJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tFbGVtZW50ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIHdoaWxlICghY2xhc3NMaXN0LmluY2x1ZGVzKFwidG8tZG8tdGFza1wiKSkge1xuICAgICAgICAgICAgdGFza0VsZW1lbnQgPSB0YXNrRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFza0VsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXJFbGVtZW50LmNsYXNzTGlzdClcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJ0by1kby10YXNrLXN1YmNvbnRhaW5lclwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrU3ViY29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhc2tTdWJjb250YWluZXJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0VGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJjaGVja2xpc3QtdGFza1wiKSkge1xuICAgICAgICAgICAgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBjaGVja2xpc3RUYXNrRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbShjaGVja2xpc3RUYXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza0VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGdldFRhc2tJbmRleCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IHRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICByZXR1cm4gdGFza0luZGV4O1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q2hlY2tsaXN0VGFza0luZGV4ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYWJJbmRleCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YWJJbmRleCA9IHRhYkVsZW1lbnQuZGF0YXNldC50YWJJbmRleDtcbiAgICAgICAgcmV0dXJuIHRhYkluZGV4O1xuICAgIH07XG4gICAgY29uc3QgZ2V0TmV3VmFsdWUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhc2tTdWJjb250YWluZXJUeXBlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhc2tTdWJjb250YWluZXJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnRDbGFzc2VzID0gQXJyYXkuZnJvbSh0YXNrU3ViY29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRhaW5lclR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0YXNrU3ViY29udGFpbmVyRWxlbWVudENsYXNzZXMuaW5jbHVkZXMoXCJ0by1kby10aXRsZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyVHlwZSA9IFwiVGl0bGVcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyRWxlbWVudENsYXNzZXMuaW5jbHVkZXMoXCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyVHlwZSA9IFwiRHVlIERhdGVcIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyRWxlbWVudENsYXNzZXMuaW5jbHVkZXMoXCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyVHlwZSA9IFwiRGVzY3JpcHRpb25cIjtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyRWxlbWVudENsYXNzZXMuaW5jbHVkZXMoXCJ0by1kby1ub3Rlcy1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyVHlwZSA9IFwiTm90ZXNcIjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhc2tTdWJjb250YWluZXJUeXBlO1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSAodGFza0luZGV4LCBidXR0b25UeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGl0bGUtc2VjdGlvblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkR1ZSBEYXRlXCIpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1kdWUtZGF0ZS1zZWN0aW9uXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb25cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJOb3Rlc1wiKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tbm90ZXMtc2VjdGlvblwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhc2tTdWJjb250YWluZXJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFza0VsZW1lbnQgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzay1pbmRleD0nJHt0YXNrSW5kZXh9J11gKTtcbiAgICAgICAgcmV0dXJuIHRhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBnZXRDaGVja2xpc3RUYXNrRWxlbWVudCA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY2hlY2tsaXN0LXRhc2staW5kZXg9JyR7Y2hlY2tsaXN0VGFza0luZGV4fSddYCk7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgZ2V0VGFiRWxlbWVudCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiLWluZGV4PScke3RhYkluZGV4fSddYCk7XG4gICAgICAgIHJldHVybiB0YWJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgdHJ5aW5nVG9Eb3VibGVDbGljayA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBnZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrQ2xhc3NlcyA9IEFycmF5LmZyb20odGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgaWYgKHRhc2tDbGFzc2VzLmluY2x1ZGVzKFwibWlkLWFuaW1hdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYWJPYmplY3QgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhYkluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRhYk9iamVjdDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhc2tPYmplY3QgPSAodGFiSW5kZXgsIHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSBnZXRUYWJPYmplY3QodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gdGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICByZXR1cm4gdGFza09iamVjdDtcbiAgICB9O1xuICAgIGNvbnN0IGdldENoZWNrbGlzdFRhc2tPYmplY3QgPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBnZXRUYXNrT2JqZWN0KHRhYkluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tPYmplY3Q7XG4gICAgfVxuICAgIGNvbnN0IGNoZWNrSWZOb01vcmVUYWJzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJzID0gQXJyYXkuZnJvbSh0b0RvVGFiU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi10aXRsZVwiKSk7XG4gICAgICAgIGlmICh0b0RvVGFicy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgY2hlY2tJZldhc0N1cnJlbnRUYWIsIGNoZWNrSWZPbmx5T25lVGFiLCBnZXRUYXNrSW5kZXgsXG4gICAgICAgIGdldENoZWNrbGlzdFRhc2tJbmRleCwgZ2V0VGFiSW5kZXgsIGdldE5ld1ZhbHVlLCBnZXRUYXNrU3ViY29udGFpbmVyVHlwZSxcbiAgICAgICAgZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQsIGdldFRhc2tFbGVtZW50LCBnZXRDaGVja2xpc3RUYXNrRWxlbWVudCxcbiAgICAgICAgZ2V0VGFiRWxlbWVudCwgY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudCwgdHJ5aW5nVG9Eb3VibGVDbGljaywgZ2V0VGFiT2JqZWN0LCBnZXRUYXNrT2JqZWN0LCBnZXRDaGVja2xpc3RUYXNrT2JqZWN0LCBjaGVja0lmTm9Nb3JlVGFicyB9O1xufSkoKTtcblxuZXhwb3J0IHsgaGVscGVyRnVuY3Rpb25zIH07IiwiY29uc3QgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxEZXNjcmlwdGlvbikgPT4ge1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IGluaXRpYWxEZXNjcmlwdGlvbjtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza0Rlc2NyaXB0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrRGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSIsIi8vIG9yaWdpbmFsIHdoZXJlIGFsbCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGdldCByZXR1cm5lZCwgc28gbm8gcHJpdmF0ZSBmaWVsZHMgKGNvbXBsZXRlZCBzaG91bGQgYmUgcHJpdmF0ZSlcbi8vIGtlZXBpbmcgZm9yIHBvc3Rlcml0eSwgcHJvYmFibHkgd2lsbCBkZWxldGVkIGF0IHRoZSBlbmRcbi8vIGNvbnN0IGNhbkNvbXBsZXRlID0gKG9iamVjdCkgPT4gKHtcbi8vICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuLy8gICAgIHRvZ2dsZTogKCkgPT4ge1xuLy8gICAgICAgICBpZiAob2JqZWN0LmNvbXBsZXRlZCkge1xuLy8gICAgICAgICAgICAgb2JqZWN0LmNvbXBsZXRlZCA9IGZhbHNlO1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgb2JqZWN0LmNvbXBsZXRlZCA9IHRydWU7XG4vLyAgICAgICAgIH07XG4vLyAgICAgfSxcbi8vICAgICBnZXRDb21wbGV0ZWRTdGF0ZTogKCkgPT4ge1xuLy8gICAgICAgICByZXR1cm4gb2JqZWN0LmNvbXBsZXRlZFxuLy8gICAgIH1cbi8vIH0pO1xuXG5jb25zdCBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxDb21wbGV0ZWRTdGF0ZSkgPT4ge1xuICAgIGxldCBjb21wbGV0ZWQgPSBpbml0aWFsQ29tcGxldGVkU3RhdGU7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIHRvZ2dsZUNvbXBsZXRlZFN0YXRlKCkge1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q29tcGxldGVkU3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGxldGVkO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcbmltcG9ydCB7IHRvRG9UYXNrIH0gZnJvbSBcIi4vdG9kb190YXNrX29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9IGZyb20gXCIuL2NoZWNrbGlzdF90YXNrX29iamVjdFwiO1xuXG5jb25zdCBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiVG9Ub2RvQXJyYXkgPSAodGFiTmFtZT1cIk5ldyBUYWJcIikgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYWIgPSB0b0RvVGFiKHRhYk5hbWUpO1xuICAgICAgICByZXR1cm4gdG9Eb0xpc3QuYWRkVGFzayhuZXdUYWIpO1xuICAgIH1cbiAgICBjb25zdCBlZGl0VGFiTmFtZSA9ICh0YWJJbmRleCwgbmV3VGFiTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICB0YWJPYmplY3Quc2V0VGFza1RpdGxlKG5ld1RhYk5hbWUpO1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVDdXJyZW50VGFiID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIHRvRG9MaXN0LnNldEN1cnJlbnRUYWJJbmRleCh0YWJJbmRleClcbiAgICB9XG4gICAgY29uc3Qgc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkFycmF5ID0gdG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgbGV0IGZpcnN0VGFiID0gdW5kZWZpbmVkO1xuICAgICAgICBmb3IgKGNvbnN0IHRhYiBpbiB0YWJBcnJheSkge1xuICAgICAgICAgICAgaWYgKHRhYkFycmF5W3RhYl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRvRG9MaXN0LnNldEN1cnJlbnRUYWJJbmRleCh0YWIpO1xuICAgICAgICAgICAgICAgIGZpcnN0VGFiID0gdGFiO1xuICAgICAgICAgICAgICAgIHJldHVybiBmaXJzdFRhYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgobnVsbClcbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld1Rhc2tUb1RhYiA9ICh0YWJJbmRleCwgdGl0bGU9XCJOZXcgVGFzayBUaXRsZVwiLCBkdWVEYXRlPVwiVGFzayBEdWUgRGF0ZVwiLCBkZXNjcmlwdGlvbj1cIlRhc2sgRGVzY3JpcHRpb25cIiwgbm90ZXM9XCJUYXNrIE5vdGVzXCIsIHBpbm5lZD1mYWxzZSwgY29tcGxldGVkPWZhbHNlKSA9PiB7XG4gICAgICAgIC8vIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0YWJJbmRleClcbiAgICAgICAgY29uc3QgbmV3VGFzayA9IHRvRG9UYXNrKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2cobmV3VGFzaylcbiAgICAgICAgY29uc3QgbmV3VGFza0luZGV4ID0gdGFiT2JqZWN0LmFkZFRhc2sobmV3VGFzayk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBlZGl0VGFza09iamVjdEluZm8gPSAodGFza0luZGV4LCBidXR0b25UeXBlLCBuZXdUYXNrU3ViY29udGVudFZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0LnNldFRhc2tUaXRsZShuZXdUYXNrU3ViY29udGVudFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkR1ZSBEYXRlXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3Quc2V0VGFza0R1ZURhdGUobmV3VGFza1N1YmNvbnRlbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0LnNldFRhc2tEZXNjcmlwdGlvbihuZXdUYXNrU3ViY29udGVudFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIk5vdGVzXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3Quc2V0VGFza05vdGVzKG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza0NvbXBsZXRlID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgdGFza09iamVjdC50b2dnbGVDb21wbGV0ZWRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4LCBkZXNjcmlwdGlvbj1cIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uXCIsIGNvbXBsZXRlZD1mYWxzZSkgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0YXNrSW5kZXgpXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpKVxuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gdGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrID0gY2hlY2tsaXN0VGFza09iamVjdChkZXNjcmlwdGlvbiwgY29tcGxldGVkKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0luZGV4ID0gdGFza09iamVjdC5hZGRUYXNrKG5ld0NoZWNrbGlzdFRhc2spO1xuICAgICAgICByZXR1cm4gbmV3Q2hlY2tsaXN0VGFza0luZGV4O1xuICAgIH07XG4gICAgY29uc3QgZWRpdENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCwgbmV3RGVzY3JpcHRpb25WYWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tPYmplY3Quc2V0VGFza0Rlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY2hlY2tsaXN0VGFza09iamVjdC50b2dnbGVDb21wbGV0ZWRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza1BpbiA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIHRhc2tPYmplY3QudG9nZ2xlUGlubmVkU3RhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYlRvVG9kb0FycmF5LCBlZGl0VGFiTmFtZSwgdXBkYXRlQ3VycmVudFRhYiwgc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIsXG4gICAgICAgIGFkZE5ld1Rhc2tUb1RhYiwgZWRpdFRhc2tPYmplY3RJbmZvLCB0b2dnbGVUYXNrQ29tcGxldGUsIGFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2ssXG4gICAgICAgIGVkaXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24sIHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSwgdG9nZ2xlVGFza1BpbiwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYWIgPSAodGl0bGUpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFiIH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBub3Rlc0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYXNrID0gKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICB0aXRsZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgdGl0bGUpLCBcbiAgICAgICAgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGRlc2NyaXB0aW9uKSxcbiAgICAgICAgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZHVlRGF0ZSksXG4gICAgICAgIG5vdGVzQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBub3RlcyksXG4gICAgICAgIC8vIGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICAgICAgcGlubmVkQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBwaW5uZWQpLFxuICAgICAgICBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGNvbXBsZXRlZCksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFzayB9OyIsImNvbnN0IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxEdWVEYXRlKSA9PiB7XG4gICAgbGV0IGR1ZURhdGUgPSBpbml0aWFsRHVlRGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza0R1ZURhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZHVlRGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0R1ZURhdGUobmV3RHVlRGF0ZSkge1xuICAgICAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3Qgbm90ZXNCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxOb3RlcykgPT4ge1xuICAgIGxldCBub3RlcyA9IGluaXRpYWxOb3RlcztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza05vdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdGVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrTm90ZXMobmV3Tm90ZXMpIHtcbiAgICAgICAgICAgIG5vdGVzID0gbmV3Tm90ZXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSIsImNvbnN0IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbFBpbm5lZFN0YXRlKSA9PiB7XG4gICAgbGV0IHBpbm5lZCA9IGluaXRpYWxQaW5uZWRTdGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlUGlubmVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAocGlubmVkKSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpbm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwaW5uZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIG9yaWdpbmFsIHdoZXJlIG9iamVjdCB3b3VsZCBuZWVkIHRvIGhhdmUgT2JqZWN0LmFzc2lnbigpIGZvciBldmVyeSBpbnN0YW5jZVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbikgPT4ge1xuICAgIC8vIGNvbnN0IGdldFRhc2tEZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIC8vIH07XG4gICAgLy8gY29uc3Qgc2V0VGFza0Rlc2NyaXB0aW9uID0gKG5ld0Rlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gICAgIGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgLy8gfTtcbi8vICAgICByZXR1cm4geyBnZXRUYXNrRGVzY3JpcHRpb24sIHNldFRhc2tEZXNjcmlwdGlvbiB9O1xuLy8gfTtcblxuY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbiwgY29tcGxldGVkKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZGVzY3JpcHRpb24pLFxuICAgICAgICBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGNvbXBsZXRlZClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59XG5cbmV4cG9ydCB7IGNoZWNrbGlzdFRhc2tPYmplY3QgfTsiLCJpbXBvcnQgeyBjaGVja2xpc3RPYmplY3QgfSBmcm9tIFwiLi9jaGVja2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyBET01VcGRhdGVDb250cm9sbGVyIH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXRcIjtcbmltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcblxuY29uc3QgZXZlbnRBc3NpZ25lciA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFkZFRhYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhYlwiKTtcbiAgICAgICAgYWRkVGFiQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuYWRkVGFiKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFZGl0QnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYkVkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYWJJbnB1dEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFkZFRhYklucHV0TGlzdGVuZXIgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudEJ1bmRsZXIudXBkYXRlVGFiKVxuICAgIH1cbiAgICBjb25zdCBhZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJSZW1vdmVCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlbW92ZS10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVUYWIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkU3dpdGNoVGFiTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiU3dpdGNoQnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5zd2l0Y2gtdGFiXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFiU3dpdGNoQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuc3dpdGNoVGFiKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYWRkTmV3VGFza0xpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctdG8tZG8tdGFza1wiKTtcbiAgICAgICAgbmV3VGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmFkZFRhc2spO1xuICAgIH1cbiAgICBjb25zdCBhZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1JlbW92ZUJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tcmVtb3ZlLXRhc2tcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrUmVtb3ZlQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIucmVtb3ZlVGFzayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRFZGl0VGFza0xpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza0VkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZVRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0NvbXBsZXRlQ2hlY2tib3hlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgdGFza0NvbXBsZXRlQ2hlY2tib3hlcykge1xuICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVUYXNrQ29tcGxldGUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5hZGQtY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIG5ld0NoZWNrbGlzdFRhc2tCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGROZXdDaGVja2xpc3RUYXNrKVxuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC1jaGVja2xpc3QtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGNoZWNrbGlzdEVkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoZWNrbGlzdFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZUNoZWNrbGlzdFRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5jaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzKSB7XG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlbW92ZS1jaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZUNoZWNrbGlzdFRhc2spO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrUGluQnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tcGluXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrUGluQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlVGFza1Bpbik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1RvZ2dsZURpc3BsYXlCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYkxpc3RlbmVyLCBhZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIsIGFkZFRhYklucHV0TGlzdGVuZXIsIGFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyLFxuICAgICAgICBhZGRTd2l0Y2hUYWJMaXN0ZW5lciwgYWRkTmV3VGFza0xpc3RlbmVyLCBhZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIsXG4gICAgICAgIGFkZEVkaXRUYXNrTGlzdGVuZXJzLCBhZGRUYXNrSW5wdXRMaXN0ZW5lciwgYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIsXG4gICAgICAgIGFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lciwgYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMsIGFkZENoZWNrbGlzdFRhc2tJbnB1dExpc3RlbmVyLFxuICAgICAgICBhZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lciwgYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyLCBhZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzLFxuICAgICAgICBhZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMsIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEFzc2lnbmVyIH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vZXZlbnRfYXNzaWduZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9ldmVudF9idW5kbGVyX29iamVjdFwiO1xuXG5jb25zdCBET01Db250cm9sbGVyQWRkRWRpdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IG5ld1RhYkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBuZXdUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdUYWJPYmplY3RUaXRsZSA9IG5ld1RhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgbmV3VGFiRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFiLXRpdGxlXCIpO1xuICAgICAgICBuZXdUYWJFbGVtZW50LmRhdGFzZXQudGFiSW5kZXggPSBpbmRleDtcbiAgICAgICAgbmV3VGFiRWxlbWVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic3dpdGNoLXRhYlwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cInRhYi1uYW1lXCI+VEFCIE5BTUUgUExBQ0VIT0xERVI8L2gyPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YWIgbmFtZSBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlbW92ZS10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFiIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IHRhYk5hbWVFbGVtZW50ID0gbmV3VGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYi1uYW1lXCIpO1xuICAgICAgICB0YWJOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld1RhYk9iamVjdFRpdGxlO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFiRWxlbWVudCwgYWRkVGFiQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIG5ld1RhYkVsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IHNldFRhYklucHV0RWxlbWVudFZhbHVlID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSB0YWJOYW1lO1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhYi1uYW1lLWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKGlucHV0RWxlbWVudCwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFRhYk5hbWVFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhYk5hbWUgPSB0YWJPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIHRhYkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwic3dpdGNoLXRhYlwiKTtcbiAgICAgICAgY29uc3QgdGFiQnV0dG9uTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgdGFiQnV0dG9uTmFtZS5jbGFzc0xpc3QuYWRkKFwidGFiLW5hbWVcIik7XG4gICAgICAgIHRhYkJ1dHRvbk5hbWUudGV4dENvbnRlbnQgPSB0YWJOYW1lO1xuICAgICAgICB0YWJCdXR0b24uYXBwZW5kQ2hpbGQodGFiQnV0dG9uTmFtZSk7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRhYkJ1dHRvbiwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXREZWZhdWx0Q3VycmVudFRhYkRPTSA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBpZiAodGFiRWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgICAgICB0YWJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY3VycmVudC10YWJcIik7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDdXJyZW50VGFiRE9NID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0N1cnJlbnRUYWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBuZXdDdXJyZW50VGFiRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBhZGRDdXJyZW50VGFiSW5kaWNhdG9yID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiSW5kZXggPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgY29uc29sZS5sb2coY3VycmVudFRhYkluZGV4KVxuICAgICAgICBpZiAoY3VycmVudFRhYkluZGV4ID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudChjdXJyZW50VGFiSW5kZXgpO1xuICAgICAgICAvLyBjb25zdCBmaXJzdFRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudChmaXJzdFRhYkluZGV4KTtcbiAgICAgICAgdGFiRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBhZGROZXdUYXNrVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3VGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLXRhc2tcIik7XG4gICAgICAgIG5ld1Rhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4ID0gaW5kZXg7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tUaXRsZSA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEZXNjcmlwdGlvbiA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEdWVEYXRlID0gbmV3VGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrTm90ZXMgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICBjb25zdCBuZXdUYXNrQ29tcGxldGVJRCA9IGB0by1kby1jb21wbGV0ZS1jaGVja2JveC0ke2luZGV4fWA7XG4gICAgICAgIG5ld1Rhc2tFbGVtZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby10YXNrLW92ZXJ2aWV3XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLXRpdGxlLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwidG8tZG8tdGl0bGVcIj5USVRMRSBQTEFDRUhPTERFUjwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby1waW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9hc3NldHMvcGluLXVucGlubmVkLnBuZ1wiIGFsdD1cIlBpbiB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay10aXRsZSBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgdGl0bGUgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tcmVtb3ZlLXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIlJlbW92ZSB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tY29tcGxldGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tY29tcGxldGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJJRCBQTEFDRUhPTERFUlwiIGNsYXNzPVwidG8tZG8tY29tcGxldGUtbGFiZWxcIj5Db21wbGV0ZWQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiXCIgY2xhc3M9XCJ0by1kby1jb21wbGV0ZS1jaGVja2JveFwiIGlkPVwiSUQgUExBQ0VIT0xERVJcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jaGV2cm9uLWRvd24ucG5nXCIgYWx0PVwiQ2hhbmdlIHRhc2sgZGlzcGxheSBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0by1kby1kdWUtZGF0ZVwiPkRVRSBEQVRFIFBMQUNFSE9MREVSPC9wPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLWR1ZS1kYXRlIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayBkdWUgZGF0ZSBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyIGFuaW1hdGlvbi10YXJnZXRcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRvLWRvLWRlc2NyaXB0aW9uXCI+REVTQ1JJUFRJT04gUExBQ0VIT0xERVI8L3A+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1kZXNjcmlwdGlvbiBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayBkZXNjcmlwdGlvbiBidXR0b25cIj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLW5vdGVzLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXIgYW5pbWF0aW9uLXRhcmdldFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tbm90ZXNcIj5OT1RFUyBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLW5vdGVzIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIG5vdGVzIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGFjdGlvbj1cIlwiIGNsYXNzPVwiY2hlY2tsaXN0IGFuaW1hdGlvbi10YXJnZXRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tsaXN0LWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8bGVnZW5kIGNsYXNzPVwiY2hlY2tsaXN0LWxhYmVsXCI+Q2hlY2tsaXN0PC9sZWdlbmQ+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJhZGQtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wbHVzLnBuZ1wiIGFsdD1cIkFkZCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10aXRsZVwiKTtcbiAgICAgICAgdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gbmV3VGFza1RpdGxlO1xuICAgICAgICBjb25zdCBkdWVEYXRlRWxlbWVudCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZHVlLWRhdGVcIik7XG4gICAgICAgIGR1ZURhdGVFbGVtZW50LnRleHRDb250ZW50ID0gXCJEdWUgT246IFwiICsgbmV3VGFza0R1ZURhdGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uRWxlbWVudCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IFwiRGVzY3JpcHRpb246IFwiICsgbmV3VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjb25zdCBub3Rlc0VsZW1lbnQgPSBuZXdUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzXCIpO1xuICAgICAgICBub3Rlc0VsZW1lbnQudGV4dENvbnRlbnQgPSBcIk5vdGVzOiBcIiArIG5ld1Rhc2tOb3RlcztcbiAgICAgICAgdG9Eb0NvbnRlbnQuYXBwZW5kQ2hpbGQobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICBjb25zdCBjb21wbGV0ZUxhYmVsID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcImxhYmVsXCIpO1xuICAgICAgICBjb21wbGV0ZUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBuZXdUYXNrQ29tcGxldGVJRCk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlQ2hlY2tib3ggPSBuZXdUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBjb21wbGV0ZUNoZWNrYm94LnNldEF0dHJpYnV0ZShcImlkXCIsIG5ld1Rhc2tDb21wbGV0ZUlEKTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYXNrSW5wdXRFbGVtZW50ID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJFbGVtZW50KHRhc2tJbmRleCwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIHRhc2tTdWJjb250YWluZXIuaW5zZXJ0QmVmb3JlKGlucHV0RWxlbWVudCwgdGFza1N1YmNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXRUYXNrSW5wdXRFbGVtZW50VmFsdWUgPSAodGFza0luZGV4LCBidXR0b25UeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJFbGVtZW50KHRhc2tJbmRleCwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGxldCB0YXNrT2JqZWN0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3RWYWx1ZSA9IHRhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEdWUgRGF0ZVwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0VmFsdWUgPSB0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0VmFsdWUgPSB0YXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICAgICAgdGFza09iamVjdFZhbHVlID0gdGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gdGFza09iamVjdFZhbHVlO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50ID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250ZW50RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IFwiVGl0bGVcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza1RpdGxlID0gdGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tdGl0bGVcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSB0YXNrVGl0bGU7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEdWUgRGF0ZVwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1kdWUtZGF0ZVwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiRHVlIE9uOiBcIiArIHRhc2tEdWVEYXRlO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiRGVzY3JpcHRpb246IFwiICsgdGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza05vdGVzID0gdGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1ub3Rlc1wiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiTm90ZXM6IFwiICsgdGFza05vdGVzO1xuICAgICAgICB9O1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5pbnNlcnRCZWZvcmUodGFza1N1YmNvbnRlbnRFbGVtZW50LCB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgY29uc3QgdG9nZ2xlVGFza0RPTUNvbXBsZXRlID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjb21wbGV0ZUNoZWNrYm94ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9ICB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVkU3RhdGVkID0gdGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBpZiAodGFza0NvbXBsZXRlZFN0YXRlZCkge1xuICAgICAgICAgICAgY29tcGxldGVDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBsZXRlQ2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NID0gKHRhc2tJbmRleCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhuZXdDaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXggPSBuZXdDaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke25ld0NoZWNrbGlzdFRhc2tJbmRleH1cIiBjbGFzcz1cImNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIERFU0NSSVBUSU9OIFBMQUNFSE9MREVSXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiRWRpdCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgXG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjaGVja2xpc3RFbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLmFwcGVuZENoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgYGNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtjaGVja2xpc3RUYXNrSW5kZXh9YCk7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24uYXBwZW5kQ2hpbGQoY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ID0gY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3guY2hlY2tlZCA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKTtcbiAgICAgICAgaWYgKGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2tsaXN0LXRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hhbmdlUGluQnV0dG9uSW1hZ2UgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBwaW5CdXR0b24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXBpblwiKVxuICAgICAgICBjb25zdCBwaW5CdXR0b25JbWFnZSA9IHBpbkJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBpZiAodGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24gPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudEluZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgaWYgKHRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBpbm5lZC10YXNrXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgdGFza0NvbnRlbnRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWRUYXNrRWxlbWVudEluZGV4ID0gcGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrRWxlbWVudEluZGV4IDwgcGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgcGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RQaW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBpbm5lZFRhc2tFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbSh0YXNrQ29udGVudFNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50by1kby10YXNrOm5vdCgucGlubmVkLXRhc2spXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uYXBwZW5kQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUVuZEluZGV4ID0gbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzW2FycmF5RW5kSW5kZXhdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdW5waW5uZWRUYXNrRWxlbWVudCBvZiBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnBpbm5lZFRhc2tFbGVtZW50SW5kZXggPSB1bnBpbm5lZFRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFza0VsZW1lbnRJbmRleCA8IHVucGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgdW5waW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1bnBpbm5lZFRhc2tFbGVtZW50ID09PSBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmFwcGVuZENoaWxkKHRhc2tFbGVtZW50LCBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicGlubmVkLXRhc2tcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVBbmltYXRpb25zID0gKHRhc2tJbmRleCwgYWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlCdXR0b24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhc2stY2hhbmdlLWRpc3BsYXlcIik7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlID0gdG9nZ2xlRGlzcGxheUJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBjb25zdCBlbGVtZW50c1RvVG9nZ2xlID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGlvbi10YXJnZXRcIikpO1xuICAgICAgICBlbGVtZW50c1RvVG9nZ2xlLnB1c2goYnV0dG9uSW1hZ2UpXG4gICAgICAgIGVsZW1lbnRzVG9Ub2dnbGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJFbmFibGVcIikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm5vLWFuaW1hdGlvbnNcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJEaXNhYmxlXCIpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5vLWFuaW1hdGlvbnNcIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBsaXN0T2ZUYXNrcyA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgZm9yIChjb25zdCB0YXNrSW5kZXggaW4gbGlzdE9mVGFza3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBsaXN0T2ZUYXNrc1t0YXNrSW5kZXhdXG4gICAgICAgICAgICBpZiAodGFza09iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFza0VsZW1lbnQgPSBhZGROZXdUYXNrVG9ET00odGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICBzZXRQaW5CdXR0b25JbWFnZShuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmVhcnJhbmdlUGlubmVkVGFza3NQb3NpdGlvbihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZFRhc2tMaXN0ZW5lcnMobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RPZkNoZWNrbGlzdFRhc2tzID0gdGFza09iamVjdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hlY2tsaXN0VGFza0luZGV4IGluIGxpc3RPZkNoZWNrbGlzdFRhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBsaXN0T2ZDaGVja2xpc3RUYXNrc1tjaGVja2xpc3RUYXNrSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tsaXN0VGFza09iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRWxlbWVudCA9IGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHNldFBpbkJ1dHRvbkltYWdlID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgcGluQnV0dG9uID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1waW5cIik7XG4gICAgICAgIGNvbnN0IHBpbkJ1dHRvbkltYWdlID0gcGluQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgICAgIGlmIChjdXJyZW50VGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdGFza0NvbnRlbnRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBpbm5lZC10YXNrXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYXNrRWxlbWVudCwgdGFza0NvbnRlbnRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWRUYXNrRWxlbWVudEluZGV4ID0gcGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFza0luZGV4IDwgcGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYXNrRWxlbWVudCwgcGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RQaW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBpbm5lZFRhc2tFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5ld1Rhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgZWxlbWVudHNUb1RvZ2dsZSA9IEFycmF5LmZyb20odGFza0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tdGFyZ2V0XCIpKTtcbiAgICAgICAgZWxlbWVudHNUb1RvZ2dsZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50Q2xhc3NlcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwiaGlkZS10by1kby1kZXRhaWxzXCIpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRpc3BsYXktdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcHJldmVudERvdWJsZUNsaWNrKHRhc2tFbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IHByZXZlbnREb3VibGVDbGljayA9ICh0YXNrRWxlbWVudCkgPT4ge1xuICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWlkLWFuaW1hdGlvblwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibWlkLWFuaW1hdGlvblwiKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfTtcbiAgICBjb25zdCByb3RhdGVDaGV2cm9uQnV0dG9uID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGV2cm9uQnV0dG9uID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCIpO1xuICAgICAgICBjb25zdCBidXR0b25JbWFnZSA9IGNoZXZyb25CdXR0b24ucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcbiAgICAgICAgY29uc3QgYnV0dG9uSW1hZ2VDbGFzc2VzID0gQXJyYXkuZnJvbShidXR0b25JbWFnZS5jbGFzc0xpc3QpO1xuICAgICAgICBpZiAoYnV0dG9uSW1hZ2VDbGFzc2VzLmxlbmd0aCA9PT0gMCB8fCBidXR0b25JbWFnZUNsYXNzZXMuaW5jbHVkZXMoXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIikpIHtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIik7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LmFkZChcInJvdGF0ZWQtY2hldnJvblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25JbWFnZUNsYXNzZXMuaW5jbHVkZXMoXCJyb3RhdGUtZGlzcGxheS10YXNrLWRldGFpbHNcIikpIHtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJyb3RhdGUtZGlzcGxheS10YXNrLWRldGFpbHNcIik7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlLWhpZGUtdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0ZWQtY2hldnJvblwiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYlRvRE9NLCBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0VGFiSW5wdXRFbGVtZW50LCBpbnNlcnRUYWJOYW1lRWxlbWVudCwgc2V0RGVmYXVsdEN1cnJlbnRUYWJET00sXG4gICAgICAgIHNldEN1cnJlbnRUYWJET00sIGFkZEN1cnJlbnRUYWJJbmRpY2F0b3IsIGFkZE5ld1Rhc2tUb0RPTSxcbiAgICAgICAgaW5zZXJ0VGFza0lucHV0RWxlbWVudCwgc2V0VGFza0lucHV0RWxlbWVudFZhbHVlLCBpbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQsXG4gICAgICAgIHRvZ2dsZVRhc2tET01Db21wbGV0ZSwgYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NLCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LFxuICAgICAgICBzZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUsIGluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQsXG4gICAgICAgIHRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSwgY2hhbmdlUGluQnV0dG9uSW1hZ2UsIHNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbixcbiAgICAgICAgbG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIsIHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscywgcm90YXRlQ2hldnJvbkJ1dHRvbiwgdG9nZ2xlQW5pbWF0aW9ucywgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5cbmNvbnN0IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZVRhYkZyb21Ub2RvQXJyYXkgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgdG9Eb0xpc3QucmVtb3ZlVGFzayh0YWJJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYXNrRnJvbVRhYkFycmF5ID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjdXJyZW50VGFiT2JqZWN0LnJlbW92ZVRhc2sodGFza0luZGV4KTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0Zyb21UYXNrQXJyYXkgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIHRhc2tPYmplY3QucmVtb3ZlVGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiRnJvbVRvZG9BcnJheSwgcmVtb3ZlVGFza0Zyb21UYWJBcnJheSwgcmVtb3ZlQ2hlY2tsaXN0VGFza0Zyb21UYXNrQXJyYXksIH07XG59KSgpO1xuXG5leHBvcnQgeyBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5cbmNvbnN0IERPTUNvbnRyb2xsZXJSZW1vdmUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZVRhYk5hbWVFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGxldCBzd2l0Y2hUYWIgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3dpdGNoLXRhYlwiKVxuICAgICAgICB0YWJFbGVtZW50LnJlbW92ZUNoaWxkKHN3aXRjaFRhYik7XG4gICAgICAgIHN3aXRjaFRhYiA9IG51bGxcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYklucHV0RWxlbWVudCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgIHRhYkVsZW1lbnQucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYkVsZW1lbnRGcm9tRE9NID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGxldCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIHRvRG9UYWJTZWN0aW9uLnJlbW92ZUNoaWxkKHRhYkVsZW1lbnQpO1xuICAgICAgICB0YWJFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0Q3VycmVudFRhYlN0YXR1cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3VycmVudC10YWJcIik7XG4gICAgICAgIGlmIChjdXJyZW50VGFiICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50VGFiLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrRWxlbWVudEZyb21ET00gPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGxldCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b0RvVGFza1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIHRvRG9UYXNrU2VjdGlvbi5yZW1vdmVDaGlsZCh0YXNrRWxlbWVudCk7XG4gICAgICAgIHRhc2tFbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza1N1YmNvbnRlbnRFbGVtZW50RnJvbURPTSA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQodGFza0luZGV4LCBidXR0b25UeXBlKTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250ZW50RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXJFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5yZW1vdmVDaGlsZCh0YXNrU3ViY29udGVudEVsZW1lbnQpO1xuICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBudWxsXG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2tJbnB1dEVsZW1lbnQgPSAodGFza0luZGV4LCBidXR0b25UeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJFbGVtZW50KHRhc2tJbmRleCwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50LnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkRPTSA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucmVtb3ZlQ2hpbGQoY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWlucHV0XCIpO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tFbGVtZW50RE9NID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdFwiKTtcbiAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY2hlY2tsaXN0RWxlbWVudC5yZW1vdmVDaGlsZChjaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUFsbFRhc2tFbGVtZW50cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0NvbnRlbnRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24ucmVwbGFjZUNoaWxkcmVuKCk7XG4gICAgfTtcbiAgICByZXR1cm4geyByZW1vdmVUYWJOYW1lRWxlbWVudCwgcmVtb3ZlVGFiSW5wdXRFbGVtZW50LCByZW1vdmVUYWJFbGVtZW50RnJvbURPTSxcbiAgICAgICAgcmVzZXRDdXJyZW50VGFiU3RhdHVzLCByZW1vdmVUYXNrRWxlbWVudEZyb21ET00sIHJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00sXG4gICAgICAgIHJlbW92ZVRhc2tJbnB1dEVsZW1lbnQsIHJlbW92ZUNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkRPTSwgcmVtb3ZlQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgcmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00sIHJlbW92ZUFsbFRhc2tFbGVtZW50cywgfVxufSkoKTtcblxuZXhwb3J0IHsgRE9NQ29udHJvbGxlclJlbW92ZSB9OyIsImltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcbmltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9kb0xpc3RTdG9yYWdlID0gKCgpID0+IHtcbiAgICBsZXQgbG9hZGluZ0luQ29udGVudCA9IGZhbHNlO1xuICAgIGNvbnN0IGluaXRpYWxpemVUb2RvTGlzdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RKU09OU3RyaW5nID0gYHtcbiAgICAgICAgICAgIFwiY3VycmVudF90YWJcIjogJHt0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKX0sXG4gICAgICAgICAgICBcInRhYnNcIjoge31cbiAgICAgICAgfWA7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gSlNPTi5wYXJzZSh0b2RvTGlzdEpTT05TdHJpbmcpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYk9iamVjdCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgY29uc3QgdGFiSlNPTlN0cmluZyA9IGB7XG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiJHt0YWJPYmplY3QuZ2V0VGFza1RpdGxlKCl9XCIsXG4gICAgICAgICAgICBcInRhc2tzXCI6IHt9XG4gICAgICAgIH1gO1xuICAgICAgICBjb25zdCB0YWJQYXJzZWRPYmplY3QgPSBKU09OLnBhcnNlKHRhYkpTT05TdHJpbmcpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdID0gdGFiUGFyc2VkT2JqZWN0O1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYXNrID0gKHRhYkluZGV4LCB0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrT2JqZWN0KHRhYkluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGNvbnN0IHRhc2tKU09OU3RyaW5nID0gYHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCIke3Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCl9XCIsXG4gICAgICAgICAgICBcImR1ZV9kYXRlXCI6IFwiJHt0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCl9XCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiJHt0YXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpfVwiLFxuICAgICAgICAgICAgXCJub3Rlc1wiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrTm90ZXMoKX1cIixcbiAgICAgICAgICAgIFwicGlubmVkXCI6ICR7dGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpfSxcbiAgICAgICAgICAgIFwiY29tcGxldGVkXCI6ICR7dGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpfSxcbiAgICAgICAgICAgIFwiY2hlY2tsaXN0X3Rhc2tzXCI6IHt9XG4gICAgICAgIH1gO1xuICAgICAgICBjb25zdCB0YXNrUGFyc2VkT2JqZWN0ID0gSlNPTi5wYXJzZSh0YXNrSlNPTlN0cmluZyk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXSA9IHRhc2tQYXJzZWRPYmplY3Q7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoZWNrbGlzdFRhc2sgPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tKU09OU3RyaW5nID0gYHtcbiAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCIke2NoZWNrbGlzdFRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCl9XCIsXG4gICAgICAgICAgICBcImNvbXBsZXRlZFwiOiAke2NoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKX1cbiAgICAgICAgfWA7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tQYXJzZWRPYmplY3QgPSBKU09OLnBhcnNlKGNoZWNrbGlzdFRhc2tKU09OU3RyaW5nKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1wiY2hlY2tsaXN0X3Rhc2tzXCJdW2BjaGVja2xpc3RfdGFza18ke2NoZWNrbGlzdFRhc2tJbmRleH1gXSA9IGNoZWNrbGlzdFRhc2tQYXJzZWRPYmplY3Q7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldExvY2FsU3RvcmFnZVZhbHVlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdEpTT05TdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvX2RvX2xpc3RcIik7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gSlNPTi5wYXJzZSh0b2RvTGlzdEpTT05TdHJpbmcpO1xuICAgICAgICByZXR1cm4gdG9kb0xpc3RQYXJzZWRPYmplY3Q7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSA9IChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkSlNPTlN0cmluZ1ZhbHVlID0gSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvX2RvX2xpc3RcIiwgdXBkYXRlZEpTT05TdHJpbmdWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDdXJyZW50VGFiID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgaWYgKHRhYkluZGV4ID09PSBudWxsKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcImN1cnJlbnRfdGFiXCJdID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1wiY3VycmVudF90YWJcIl0gPSBOdW1iZXIodGFiSW5kZXgpO1xuICAgICAgICB9O1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdClcbiAgICB9O1xuICAgIGNvbnN0IHNldFRhYk5hbWUgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYk9iamVjdCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRpdGxlXCJdID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRUYXNrU3ViY29udGFpbmVyVmFsdWUgPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgc3ViY29udGFpbmVyVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgaWYgKHN1YmNvbnRhaW5lclR5cGUgPT09IFwiVGl0bGVcIikge1xuICAgICAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1widGl0bGVcIl0gPSB0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1YmNvbnRhaW5lclR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1wiZHVlX2RhdGVcIl0gPSB0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3ViY29udGFpbmVyVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJkZXNjcmlwdGlvblwiXSA9IHRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3ViY29udGFpbmVyVHlwZSA9PT0gXCJOb3Rlc1wiKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJub3Rlc1wiXSA9IHRhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZWQgPSAodGFiSW5kZXgsIHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1wiY29tcGxldGVkXCJdID0gdGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrUGlubmVkID0gKHRhYkluZGV4LCB0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrT2JqZWN0KHRhYkluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcInBpbm5lZFwiXSA9IHRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKTtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJjaGVja2xpc3RfdGFza3NcIl1bYGNoZWNrbGlzdF90YXNrXyR7Y2hlY2tsaXN0VGFza0luZGV4fWBdW1wiZGVzY3JpcHRpb25cIl0gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVkID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJjaGVja2xpc3RfdGFza3NcIl1bYGNoZWNrbGlzdF90YXNrXyR7Y2hlY2tsaXN0VGFza0luZGV4fWBdW1wiY29tcGxldGVkXCJdID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdID0gbnVsbDtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdID0gbnVsbDtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJjaGVja2xpc3RfdGFza3NcIl1bYGNoZWNrbGlzdF90YXNrXyR7Y2hlY2tsaXN0VGFza0luZGV4fWBdID0gbnVsbDtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q3VycmVudFRhYkluZGV4ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1wiY3VycmVudF90YWJcIl07XG4gICAgICAgIHJldHVybiBjdXJyZW50VGFiSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYWJUaXRsZSA9ICh0YWJLZXkpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBjb25zdCB0YWJUaXRsZSA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGl0bGVcIl07XG4gICAgICAgIHJldHVybiB0YWJUaXRsZTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhc2tWYWx1ZXMgPSAodGFiS2V5LCB0YXNrS2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgbGV0IHRhc2tWYWx1ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgdGFza1RpdGxlID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0YXNrc1wiXVt0YXNrS2V5XVtcInRpdGxlXCJdO1xuICAgICAgICB0YXNrVmFsdWVzLnB1c2godGFza1RpdGxlKTtcbiAgICAgICAgY29uc3QgdGFza0R1ZURhdGUgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRhc2tzXCJdW3Rhc2tLZXldW1wiZHVlX2RhdGVcIl07XG4gICAgICAgIHRhc2tWYWx1ZXMucHVzaCh0YXNrRHVlRGF0ZSk7XG4gICAgICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbiA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGFza3NcIl1bdGFza0tleV1bXCJkZXNjcmlwdGlvblwiXTtcbiAgICAgICAgdGFza1ZhbHVlcy5wdXNoKHRhc2tEZXNjcmlwdGlvbik7XG4gICAgICAgIGNvbnN0IHRhc2tOb3RlcyA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGFza3NcIl1bdGFza0tleV1bXCJub3Rlc1wiXTtcbiAgICAgICAgdGFza1ZhbHVlcy5wdXNoKHRhc2tOb3Rlcyk7XG4gICAgICAgIGNvbnN0IHRhc2tQaW5uZWQgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRhc2tzXCJdW3Rhc2tLZXldW1wicGlubmVkXCJdO1xuICAgICAgICB0YXNrVmFsdWVzLnB1c2godGFza1Bpbm5lZCk7XG4gICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZWQgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRhc2tzXCJdW3Rhc2tLZXldW1wiY29tcGxldGVkXCJdO1xuICAgICAgICB0YXNrVmFsdWVzLnB1c2godGFza0NvbXBsZXRlZCk7XG4gICAgICAgIHJldHVybiB0YXNrVmFsdWVzO1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q2hlY2tsaXN0VGFza1ZhbHVlcyA9ICh0YWJLZXksIHRhc2tLZXksIGNoZWNrbGlzdFRhc2tLZXkpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza1ZhbHVlcyA9IFtdO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRhc2tzXCJdW3Rhc2tLZXldW1wiY2hlY2tsaXN0X3Rhc2tzXCJdW2NoZWNrbGlzdFRhc2tLZXldW1wiZGVzY3JpcHRpb25cIl07XG4gICAgICAgIGNoZWNrbGlzdFRhc2tWYWx1ZXMucHVzaChjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24pO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrQ29tcGxldGVkID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0YXNrc1wiXVt0YXNrS2V5XVtcImNoZWNrbGlzdF90YXNrc1wiXVtjaGVja2xpc3RUYXNrS2V5XVtcImNvbXBsZXRlZFwiXTtcbiAgICAgICAgY2hlY2tsaXN0VGFza1ZhbHVlcy5wdXNoKGNoZWNrbGlzdFRhc2tDb21wbGV0ZWQpO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza1ZhbHVlcztcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrRm9yRXhpc3RpbmdTdG9yYWdlID0gKCkgPT4ge1xuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b19kb19saXN0XCIpKSB7XG4gICAgICAgICAgICAvLyBwcm9iIGxvYWRJbkxvY2FsU3RvcmFnZSgpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHByb2IgbG9hZEluSW5zdHJ1Y3Rpb25zUGFnZSgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldFRhYk9iamVjdHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gdG9kb0xpc3RTdG9yYWdlLmdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdHMgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl07XG4gICAgICAgIHJldHVybiB0YWJPYmplY3RzO1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFza09iamVjdHMgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdHMgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl07XG4gICAgICAgIHJldHVybiB0YXNrT2JqZWN0cztcbiAgICB9O1xuICAgIGNvbnN0IGdldENoZWNrbGlzdFRhc2tPYmplY3RzID0gKHRhYkluZGV4LCB0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdHMgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJjaGVja2xpc3RfdGFza3NcIl07XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrT2JqZWN0cztcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUxvYWRpbmcgPSAoKSA9PiB7XG4gICAgICAgIGxvYWRpbmdJbkNvbnRlbnQgPyBsb2FkaW5nSW5Db250ZW50ID0gZmFsc2UgOiBsb2FkaW5nSW5Db250ZW50ID0gdHJ1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGlzTG9hZGluZyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGxvYWRpbmdJbkNvbnRlbnQ7XG4gICAgfTtcbiAgICAvLyBjb25zdCB1cGRhdGVMb2NhbFN0b3JhZ2UgPSAob2JqZWN0VHlwZSwgdGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgLy8gICAgIGNvbnN0IHRvZG9MaXN0UmF3U3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b19kb19saXN0XCIpO1xuICAgIC8vICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZFN0cmluZyA9IEpTT04ucGFyc2UodG9kb0xpc3RSYXdTdHJpbmcpO1xuICAgIC8vICAgICBsZXQgb2JqZWN0UGFyc2VkU3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIC8vICAgICBpZiAob2JqZWN0VHlwZSA9PT0gXCJUYWJcIikge1xuICAgIC8vICAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhYkluZGV4KTtcbiAgICAvLyAgICAgICAgIGNvbnN0IHRhYlJhd1N0cmluZyA9IGB7XG4gICAgLy8gICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIiR7dGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpfVwiLFxuICAgIC8vICAgICAgICAgICAgIFwidGFza3NcIjoge31cbiAgICAvLyAgICAgICAgIH1gO1xuICAgIC8vICAgICAgICAgb2JqZWN0UGFyc2VkU3RyaW5nID0gSlNPTi5wYXJzZSh0YWJSYXdTdHJpbmcpO1xuICAgIC8vICAgICB9IGVsc2UgaWYgKG9iamVjdFR5cGUgPT09IFwiVGFza1wiKSB7XG4gICAgLy8gICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgIC8vICAgICAgICAgY29uc3QgdGFza09iamVjdCA9IHRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAvLyAgICAgICAgIGNvbnN0IHRhc2tSYXdTdHJpbmcgPSBge1xuICAgIC8vICAgICAgICAgICAgIFwidGl0bGVcIjogXCIke3Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCl9XCIsXG4gICAgLy8gICAgICAgICAgICAgXCJkdWUtZGF0ZVwiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpfVwiLFxuICAgIC8vICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCIke3Rhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCl9XCIsXG4gICAgLy8gICAgICAgICAgICAgXCJub3Rlc1wiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrTm90ZXMoKX1cIixcbiAgICAvLyAgICAgICAgICAgICBcImNvbXBsZXRlZFwiOiBcIiR7dGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpfVwiLFxuICAgIC8vICAgICAgICAgICAgIFwicGlubmVkXCI6IFwiJHt0YXNrT2JqZWN0LmdldFBpbm5lZFN0YXRlKCl9XCIsXG4gICAgLy8gICAgICAgICAgICAgXCJjaGVja2xpc3RfdGFza3NcIjoge31cbiAgICAvLyAgICAgICAgIH1gO1xuICAgIC8vICAgICAgICAgb2JqZWN0UGFyc2VkU3RyaW5nID0gSlNPTi5wYXJzZSh0YXNrUmF3U3RyaW5nKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH07XG4gICAgcmV0dXJuIHsgaW5pdGlhbGl6ZVRvZG9MaXN0LCBhZGRUYWIsIGFkZFRhc2ssIGFkZENoZWNrbGlzdFRhc2ssIHNldEN1cnJlbnRUYWIsIHNldFRhYk5hbWUsIHNldFRhc2tTdWJjb250YWluZXJWYWx1ZSwgdG9nZ2xlVGFza0NvbXBsZXRlZCwgdG9nZ2xlVGFza1Bpbm5lZCwgc2V0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uLCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVkLCByZW1vdmVUYWIsIHJlbW92ZVRhc2ssIHJlbW92ZUNoZWNrbGlzdFRhc2ssIGdldEN1cnJlbnRUYWJJbmRleCwgZ2V0VGFiVGl0bGUsIGdldFRhc2tWYWx1ZXMsIGdldENoZWNrbGlzdFRhc2tWYWx1ZXMsIGNoZWNrRm9yRXhpc3RpbmdTdG9yYWdlLCBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSwgZ2V0VGFiT2JqZWN0cywgZ2V0VGFza09iamVjdHMsIGdldENoZWNrbGlzdFRhc2tPYmplY3RzLCB0b2dnbGVMb2FkaW5nLCBpc0xvYWRpbmcsIH1cbn0pKCk7XG5cbmV4cG9ydCB7IHRvZG9MaXN0U3RvcmFnZSB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcbmltcG9ydCB7IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0X2NvbnRyb2xsZXJfYWRkX2VkaXRfb2JqZWN0XCI7XG5pbXBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vZXZlbnRfYXNzaWduZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0X2NvbnRyb2xsZXJfcmVtb3ZlX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlclJlbW92ZSB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX3JlbW92ZVwiO1xuaW1wb3J0IHsgdG9kb0xpc3RTdG9yYWdlIH0gZnJvbSBcIi4vdG9kb19saXN0X3N0b3JhZ2Vfb2JqZWN0XCI7XG5cbmNvbnN0IGV2ZW50QnVuZGxlciA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkVGFiID0gKGV2ZW50LCB0YWJOYW1lPVwiTmV3IFRhYlwiKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RhYkluZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuYWRkTmV3VGFiVG9Ub2RvQXJyYXkodGFiTmFtZSk7XG4gICAgICAgIGNvbnN0IG5ld1RhYkVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdUYWJUb0RPTShuZXdUYWJJbmRleCk7XG4gICAgICAgIGFkZFRhYkxpc3RlbmVycyhuZXdUYWJFbGVtZW50KTtcbiAgICAgICAgaWYgKCF0b2RvTGlzdFN0b3JhZ2UuaXNMb2FkaW5nKCkpIHtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5hZGRUYWIobmV3VGFiSW5kZXgpO1xuICAgICAgICAgICAgaWYgKGhlbHBlckZ1bmN0aW9ucy5jaGVja0lmT25seU9uZVRhYigpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnNldEZpcnN0VGFiVG9DdXJyZW50VGFiKCk7XG4gICAgICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkQ3VycmVudFRhYkluZGljYXRvcigpXG4gICAgICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnNldEN1cnJlbnRUYWIoZmlyc3RUYWJJbmRleCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdUYWJJbmRleFxuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudChldmVudCwgXCJUYWJcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYkluZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkluZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhYklucHV0RWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYk5hbWVFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNldFRhYklucHV0RWxlbWVudFZhbHVlKHRhYkluZGV4KTtcbiAgICAgICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVGFiSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYkluZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkluZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RhYk5hbWUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0TmV3VmFsdWUoZXZlbnQpO1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuZWRpdFRhYk5hbWUodGFiSW5kZXgsIG5ld1RhYk5hbWUpO1xuICAgICAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhYk5hbWVFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiSW5wdXRFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgICAgIGV2ZW50QXNzaWduZXIuYWRkU3dpdGNoVGFiTGlzdGVuZXIodGFiRWxlbWVudCk7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2Uuc2V0VGFiTmFtZSh0YWJJbmRleCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiSW5kZXgoZXZlbnQpO1xuICAgICAgICBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0LnJlbW92ZVRhYkZyb21Ub2RvQXJyYXkodGFiSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYkVsZW1lbnRGcm9tRE9NKHRhYkluZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnJlbW92ZVRhYih0YWJJbmRleCk7XG4gICAgICAgIGlmIChoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZldhc0N1cnJlbnRUYWIoZXZlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFRhYkluZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3Quc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZEN1cnJlbnRUYWJJbmRpY2F0b3IoKVxuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVBbGxUYXNrRWxlbWVudHMoKTtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5zZXRDdXJyZW50VGFiKGZpcnN0VGFiSW5kZXgpO1xuICAgICAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZk5vTW9yZVRhYnMoKSkge1xuICAgICAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0lmV2FzQ3VycmVudFRhYihldmVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYkluZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkluZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnVwZGF0ZUN1cnJlbnRUYWIodGFiSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZXNldEN1cnJlbnRUYWJTdGF0dXMoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNldEN1cnJlbnRUYWJET00odGFiSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVBbGxUYXNrRWxlbWVudHMoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiKCk7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2Uuc2V0Q3VycmVudFRhYih0YWJJbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhYkxpc3RlbmVycyA9IChuZXdUYWJFbGVtZW50KSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyKG5ld1RhYkVsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyKG5ld1RhYkVsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyKG5ld1RhYkVsZW1lbnQpO1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFzayA9IChcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIHRhYkluZGV4PXRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLFxuICAgICAgICB0aXRsZT1cIk5ldyBUYXNrIFRpdGxlXCIsXG4gICAgICAgIGR1ZURhdGU9XCJUYXNrIER1ZSBEYXRlXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uPVwiVGFzayBEZXNjcmlwdGlvblwiLFxuICAgICAgICBub3Rlcz1cIlRhc2sgTm90ZXNcIixcbiAgICAgICAgcGlubmVkPWZhbHNlLFxuICAgICAgICBjb21wbGV0ZWQ9ZmFsc2VcbiAgICApID0+IHtcbiAgICAgICAgaWYgKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpID09PSBudWxsKSB7XG4gICAgICAgICAgICBsb2FkSW5JbnN0cnVjdGlvbnNQYWdlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1Rhc2tUb1RhYihcbiAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICBkdWVEYXRlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBub3RlcyxcbiAgICAgICAgICAgIHBpbm5lZCxcbiAgICAgICAgICAgIGNvbXBsZXRlZFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBuZXdUYXNrRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld1Rhc2tUb0RPTShuZXdUYXNrSW5kZXgpO1xuICAgICAgICBhZGRUYXNrTGlzdGVuZXJzKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgaWYgKCF0b2RvTGlzdFN0b3JhZ2UuaXNMb2FkaW5nKCkpIHtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5hZGRUYXNrKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCBuZXdUYXNrSW5kZXgpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3VGFza0luZGV4O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yRXhpc3RpbmdJbnB1dEVsZW1lbnQoZXZlbnQsIFwiVGFza1wiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyVHlwZShldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00odGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYXNrSW5wdXRFbGVtZW50KHRhc2tJbmRleCwgdGFza1N1YmNvbnRhaW5lclR5cGUpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFza0lucHV0RWxlbWVudFZhbHVlKHRhc2tJbmRleCwgdGFza1N1YmNvbnRhaW5lclR5cGUpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lclR5cGUoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFza1N1YmNvbnRlbnRWYWx1ZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXROZXdWYWx1ZShldmVudCk7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0VGFza09iamVjdEluZm8odGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSwgbmV3VGFza1N1YmNvbnRlbnRWYWx1ZSk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQodGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhc2tJbnB1dEVsZW1lbnQodGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2Uuc2V0VGFza1N1YmNvbnRhaW5lclZhbHVlKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCB0YXNrSW5kZXgsIHRhc2tTdWJjb250YWluZXJUeXBlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tQaW4gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUFuaW1hdGlvbnModGFza0luZGV4LCBcIkVuYWJsZVwiKTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudG9nZ2xlVGFza1Bpbih0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5jaGFuZ2VQaW5CdXR0b25JbWFnZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zaGlmdFRhc2tFbGVtZW50UG9zaXRpb24odGFza0luZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnRvZ2dsZVRhc2tQaW5uZWQodG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZVRhc2tDb21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVUYXNrRE9NQ29tcGxldGUodGFza0luZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnRvZ2dsZVRhc2tDb21wbGV0ZWQodG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0LnJlbW92ZVRhc2tGcm9tVGFiQXJyYXkodGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrRWxlbWVudEZyb21ET00odGFza0luZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnJlbW92ZVRhc2sodG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYXNrTGlzdGVuZXJzID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFza0xpc3RlbmVycyhuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lcihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycyhuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzTGlzdGVuZXJzKG5ld1Rhc2tFbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiSW5kZXggPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2sodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NKHRhc2tJbmRleCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhuZXdDaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIGlmICghdG9kb0xpc3RTdG9yYWdlLmlzTG9hZGluZygpKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2UuYWRkQ2hlY2tsaXN0VGFzayh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSwgdGFza0luZGV4LCBuZXdDaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0ZvckV4aXN0aW5nSW5wdXRFbGVtZW50KGV2ZW50LCBcIkNoZWNrbGlzdCBUYXNrXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb25WYWx1ZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXROZXdWYWx1ZShldmVudCk7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4LCBuZXdEZXNjcmlwdGlvblZhbHVlKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5zZXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24odG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIHRvZG9MaXN0U3RvcmFnZS50b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVkKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICB0b2RvTGlzdFN0b3JhZ2UucmVtb3ZlQ2hlY2tsaXN0VGFzayh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyA9IChuZXdDaGVja2xpc3RUYXNrRWxlbWVudCkgPT4ge1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZEVkaXRDaGVja2xpc3RUYXNrTGlzdGVuZXJzKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lcihuZXdDaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMudHJ5aW5nVG9Eb3VibGVDbGljayh0YXNrSW5kZXgpKSB7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVBbmltYXRpb25zKHRhc2tJbmRleCwgXCJEaXNhYmxlXCIpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzKHRhc2tJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5yb3RhdGVDaGV2cm9uQnV0dG9uKHRhc2tJbmRleCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5JbnN0cnVjdGlvbnNQYWdlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJJbmRleCA9IGFkZFRhYihldmVudCwgXCJJbnN0cnVjdGlvbnNcIik7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGFkZFRhc2soXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgXCJRdWljayBUaXBzISBDbGljayB0aGUgcGluIGJ1dHRvbiB0byBwaW4gYSB0YXNrIHRvIHRoZSB0b3Agb2YgdGhlIGxpc3QuXCIsXG4gICAgICAgICAgICBcIlRvbW9ycm93LCBuZXh0IHdlZWssIG9yIHdoZW5ldmVyIHlvdXIgdGFzayBpcyBkdWUsIHlvdSBjYW4gYWRkIGl0IGhlcmUhIENsaWNrIHRoZSBhcnJvdyBidXR0b24gdG8gdG9nZ2xlIGJldHdlZW4gc2hvd2luZyBhbmQgaGlkaW5nIHRhc2sgZGV0YWlscy5cIixcbiAgICAgICAgICAgIFwiQWRkIGEgZGVzY3JpcHRpb24gb2YgeW91ciB0YXNrIGhlcmUhIENsaWNrIHRoZSBwZW5jaWwgYnV0dG9ucyB0byBlZGl0IHRoZSB2YXJpb3VzIHBhcnRzIG9mIHlvdXIgdGFzay5cIixcbiAgICAgICAgICAgIFwiSm90IGRvd24gc29tZSBub3RlcyBoZXJlISBNYXJrIHlvdXIgdGFzayBhcyBjb21wbGV0ZSB3aGVuIHlvdSdyZSBkb25lLCBvciByZW1vdmUgaXQgZnJvbSB0aGUgbGlzdCBieSBjbGlja2luZyB0aGUgWCBidXR0b24uXCIsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZVRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5jaGFuZ2VQaW5CdXR0b25JbWFnZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zaGlmdFRhc2tFbGVtZW50UG9zaXRpb24odGFza0luZGV4KTtcbiAgICAgICAgYWRkTG9hZGVkSW5DaGVja2xpc3RUYXNrKFxuICAgICAgICAgICAgdGFiSW5kZXgsXG4gICAgICAgICAgICB0YXNrSW5kZXgsXG4gICAgICAgICAgICBcIklmIHlvdXIgdGFzayBoYXMgbXVsdGlwbGUgc3RlcHMsIHRyeSBicmVha2luZyB0aGVtIGRvd24gaW50byBhIGNoZWNrbGlzdCEgQ2xpY2sgdGhlIHBsdXMgc2lnbiBidXR0b24gdG8gYWRkIHN0ZXBzIGFzIG5lZWRlZC5cIixcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICAgIGFkZExvYWRlZEluQ2hlY2tsaXN0VGFzayhcbiAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgdGFza0luZGV4LFxuICAgICAgICAgICAgXCJIYXZlIGEgbmV3IHRhc2sgeW91IHdhbnQgdG8ga2VlcCB0cmFjayBvZj8gQWRkIGl0IHRvIHRoZSBsaXN0IGJ5IGNsaWNraW5nIG9uIHRoZSAnTmV3IFRhc2snIGJ1dHRvbiBiZWxvdyFcIixcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICAgIGFkZExvYWRlZEluQ2hlY2tsaXN0VGFzayh0YWJJbmRleCxcbiAgICAgICAgICAgIHRhc2tJbmRleCxcbiAgICAgICAgICAgIFwiT3JnYW5pemUgdGhlIGRpZmZlcmVudCB0eXBlcyBvZiB0YXNrcyBpbiB5b3VyIGxpZmUgYnkgY3JlYXRpbmcgdGhlbWVkIHRhYnMuIENyZWF0ZSBhIG5ldyB0YWIgYnkgY2xpY2tpbmcgb24gdGhlIHBsdXMgc2lnbiBidXR0b24gYXQgdGhlIHRvcCBvZiB0aGUgbGlzdC4gQ2hhbmdlIHRhYnMgYnkgY2xpY2tpbmcgb24gZGlmZmVyZW50IHRhYiBuYW1lcy5cIixcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRMb2FkZWRJbkNoZWNrbGlzdFRhc2sgPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgZGVzY3JpcHRpb24sIGNvbXBsZXRlZCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKHRhYkluZGV4LCB0YXNrSW5kZXgsIGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMoY2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBpZiAoIXRvZG9MaXN0U3RvcmFnZS5pc0xvYWRpbmcoKSkge1xuICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLmFkZENoZWNrbGlzdFRhc2sodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KVxuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgbG9hZEluTG9jYWxTdG9yYWdlID0gKCkgPT4ge1xuICAgICAgICB0b2RvTGlzdFN0b3JhZ2UudG9nZ2xlTG9hZGluZygpO1xuICAgICAgICBsb2FkSW5DdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgbG9hZEluVGFiT2JqZWN0cygpXG4gICAgICAgIHRvZG9MaXN0U3RvcmFnZS50b2dnbGVMb2FkaW5nKCk7XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5DdXJyZW50VGFiSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IHRvZG9MaXN0U3RvcmFnZS5nZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KGN1cnJlbnRUYWJJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5UYWJPYmplY3RzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3RzID0gdG9kb0xpc3RTdG9yYWdlLmdldFRhYk9iamVjdHMoKTtcbiAgICAgICAgZm9yIChjb25zdCB0YWJLZXkgaW4gdGFiT2JqZWN0cykge1xuICAgICAgICAgICAgaWYgKHRhYk9iamVjdHNbdGFiS2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRvRG9MaXN0LmFkZFRhc2sodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFiVGl0bGUgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0VGFiVGl0bGUodGFiS2V5KVxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYkluZGV4ID0gYWRkVGFiKGV2ZW50LCB0YWJUaXRsZSlcbiAgICAgICAgICAgICAgICBsb2FkSW5UYXNrT2JqZWN0cyh0YWJJbmRleCwgdGFiS2V5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZEN1cnJlbnRUYWJJbmRpY2F0b3IoKVxuICAgIH07XG4gICAgY29uc3QgbG9hZEluVGFza09iamVjdHMgPSAodGFiSW5kZXgsIHRhYktleSkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiT2JqZWN0KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdHMgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0VGFza09iamVjdHModGFiSW5kZXgpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhc2tLZXkgaW4gdGFza09iamVjdHMpIHtcbiAgICAgICAgICAgIGlmICh0YXNrT2JqZWN0c1t0YXNrS2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRhYk9iamVjdC5hZGRUYXNrKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tWYWx1ZXMgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0VGFza1ZhbHVlcyh0YWJLZXksIHRhc2tLZXkpXG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1RpdGxlID0gdGFza1ZhbHVlc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tWYWx1ZXNbMV07XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdGFza1ZhbHVlc1syXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrTm90ZXMgPSB0YXNrVmFsdWVzWzNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tQaW5uZWQgPSB0YXNrVmFsdWVzWzRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZWQgPSB0YXNrVmFsdWVzWzVdO1xuICAgICAgICAgICAgICAgIGxldCB0YXNrSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhYkluZGV4ID09PSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrSW5kZXggPSBhZGRUYXNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tEdWVEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0Rlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza05vdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1Bpbm5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmNoYW5nZVBpbkJ1dHRvbkltYWdlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbih0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1Rhc2tUb1RhYihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1RpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0R1ZURhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrTm90ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrUGlubmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2FkSW5DaGVja2xpc3RUYXNrT2JqZWN0cyh0YWJJbmRleCwgdGFiS2V5LCB0YXNrSW5kZXgsIHRhc2tLZXkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJbkNoZWNrbGlzdFRhc2tPYmplY3RzID0gKHRhYkluZGV4LCB0YWJLZXksIHRhc2tJbmRleCwgdGFza0tleSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3RzID0gdG9kb0xpc3RTdG9yYWdlLmdldENoZWNrbGlzdFRhc2tPYmplY3RzKHRhYkluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrbGlzdFRhc2tLZXkgaW4gY2hlY2tsaXN0VGFza09iamVjdHMpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2xpc3RUYXNrT2JqZWN0c1tjaGVja2xpc3RUYXNrS2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRhc2tPYmplY3QuYWRkVGFzayh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrVmFsdWVzID0gdG9kb0xpc3RTdG9yYWdlLmdldENoZWNrbGlzdFRhc2tWYWx1ZXModGFiS2V5LCB0YXNrS2V5LCBjaGVja2xpc3RUYXNrS2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrVmFsdWVzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tDb21wbGV0ZWQgPSBjaGVja2xpc3RUYXNrVmFsdWVzWzFdO1xuICAgICAgICAgICAgICAgIGxldCBjaGVja2xpc3RUYXNrSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhYkluZGV4ID09PSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2xpc3RUYXNrSW5kZXggPSBhZGRMb2FkZWRJbkNoZWNrbGlzdFRhc2sodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uLCBjaGVja2xpc3RUYXNrQ29tcGxldGVkKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2sodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uLCBjaGVja2xpc3RUYXNrQ29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJblBhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmICh0b2RvTGlzdFN0b3JhZ2UuY2hlY2tGb3JFeGlzdGluZ1N0b3JhZ2UoKSkge1xuICAgICAgICAgICAgbG9hZEluTG9jYWxTdG9yYWdlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2UuaW5pdGlhbGl6ZVRvZG9MaXN0KCk7O1xuICAgICAgICAgICAgbG9hZEluSW5zdHJ1Y3Rpb25zUGFnZSgpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkVGFiLFxuICAgICAgICBpbnNlcnRUYWJJbnB1dEVsZW1lbnQsXG4gICAgICAgIHVwZGF0ZVRhYixcbiAgICAgICAgc3dpdGNoVGFiLFxuICAgICAgICByZW1vdmVUYWIsXG4gICAgICAgIGFkZFRhYkxpc3RlbmVycyxcbiAgICAgICAgYWRkVGFzayxcbiAgICAgICAgaW5zZXJ0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgdXBkYXRlVGFzayxcbiAgICAgICAgdG9nZ2xlVGFza1BpbixcbiAgICAgICAgdG9nZ2xlVGFza0NvbXBsZXRlLFxuICAgICAgICByZW1vdmVUYXNrLFxuICAgICAgICBhZGRUYXNrTGlzdGVuZXJzLFxuICAgICAgICBhZGROZXdDaGVja2xpc3RUYXNrLFxuICAgICAgICBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LFxuICAgICAgICB1cGRhdGVDaGVja2xpc3RUYXNrLFxuICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUsXG4gICAgICAgIHJlbW92ZUNoZWNrbGlzdFRhc2ssXG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMsXG4gICAgICAgIHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyxcbiAgICAgICAgbG9hZEluSW5zdHJ1Y3Rpb25zUGFnZSxcbiAgICAgICAgbG9hZEluTG9jYWxTdG9yYWdlLFxuICAgICAgICBsb2FkSW5UYWJPYmplY3RzLFxuICAgICAgICBsb2FkSW5QYWdlLFxuICAgIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEJ1bmRsZXIgfTsiLCJpbXBvcnQgeyB0b0RvVGFzayB9IGZyb20gXCIuL29iamVjdHMvdG9kb190YXNrX29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0cy9jaGVja2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyBjaGVja2xpc3RUYXNrT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0cy9jaGVja2xpc3RfdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcblxuLy8gdGVzdGluZyB0b2RvIHRhc2sgb2JqZWN0XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBub3Rlc0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50XCI7XG5cbi8vIHRlc3RpbmcgY2hlY2tsaXN0IG9iamVjdFxuLy8gaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG4vLyB0ZXN0aW5nIHRhYnMgKGFycmF5cyB0aGF0IGNvbnRhaW4gbWFueSB0byBkbyB0YXNrcylcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi9vYmplY3RzL3RvZG9fdGFiX29iamVjdFwiO1xuXG4vLyB0ZXN0aW5nIGxpc3QgdGhhdCBjb250YWluIGV2ZXJ5dGhpbmdcbmltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0XCI7XG5cbi8vIHRlc3RpbmcgZm9yIERPTSBjb250cm9sbGVyIG9iamVjdHNcbmltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL29iamVjdHMvZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcbmltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9vYmplY3RzL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5cblxuLy8gdGVzdGluZyBmb3Igc3RvcmFnZVxuaW1wb3J0IHsgdG9kb0xpc3RTdG9yYWdlIH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX2xpc3Rfc3RvcmFnZV9vYmplY3RcIjtcblxuLy8gbGV0IHRlc3QgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiZGR0ZXN0XCIpO1xuLy8gY29uc29sZS5sb2codGVzdClcblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBpZiAodGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKSB7XG4vLyAgICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBub3cgdHJ1ZVwiKVxuLy8gfSBlbHNlIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIHN0aWxsIGZhbHNlXCIpXG4vLyB9XG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gY29uc29sZS5sb2codGVzdC50b2dnbGVDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cblxuLy8gaWYgKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSkge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgbm93IHRydWVcIilcbi8vIH0gZWxzZSB7XG4vLyAgICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBzdGlsbCBmYWxzZVwiKVxuLy8gfVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG4vLyB0ZXN0LnNldFRhc2tEZXNjcmlwdGlvbihcIndvd3dpZVwiKVxuLy8gY29uc29sZS5sb2codGVzdC5nZXRUYXNrRGVzY3JpcHRpb24oKSlcblxuLy8gbGV0IGltcG9ydGFudFRhc2sgPSB0b0RvVGFzayhcIk1ha2UgQ2VyZWFsXCIsIFwicGFydCBvZiBicmVha2Zhc3QgcGxhblwiLCBcInRoaXMgbW9ybmluZ1wiLCBcIm1ha2Ugc3VyZSB0byBwdXQgbWlsayBiYWNrIGluIGZyaWRnZVwiKTtcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2spXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tUaXRsZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRGVzY3JpcHRpb24oKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0R1ZURhdGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza05vdGVzKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFBpbm5lZFN0YXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGltcG9ydGFudFRhc2suc2V0VGFza1RpdGxlKFwiTWFrZSBDaGlja2VuIEJyb3RoXCIpXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tEZXNjcmlwdGlvbihcInJlcXVpcmVzIDEgY2hpY2tlbiBhbmQgMSBicm90aFwiKVxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrRHVlRGF0ZShcImJlZm9yZSBJIGNhdWdodCB0aGlzIGNvbGRcIilcbi8vIGltcG9ydGFudFRhc2suc2V0VGFza05vdGVzKFwiZG9uJ3Qgc25lZXplIGludG8gcG90XCIpXG4vLyBpbXBvcnRhbnRUYXNrLnRvZ2dsZVBpbm5lZFN0YXRlKCk7XG4vLyBpbXBvcnRhbnRUYXNrLnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG5cbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza1RpdGxlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEZXNjcmlwdGlvbigpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRHVlRGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrTm90ZXMoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0UGlubmVkU3RhdGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gaW1wb3J0YW50VGFzay5hZGRUYXNrKHRlc3QpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tEZXNjcmlwdGlvbigpKVxuXG5cbi8vIGNvbnNvbGUubG9nKHRhYjEpXG4vLyB0YWIxLmFkZFRhc2soaW1wb3J0YW50VGFzaylcbi8vIGNvbnNvbGUubG9nKHRhYjEpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tUaXRsZSgpKVxuXG4vLyBsZXQgYW5vdGhlckltcG9ydGFudFRhc2sgPSB0b0RvVGFzayhcIkNsZWFuIHBvdFwiLCBcInBhcnQgb2YgY2hvcmVzIHBsYW5cIiwgXCJ0aGlzIGFmdGVybm9vblwiLCBcIm1ha2Ugc3VyZSB0byB1c2Ugc29hcFwiKTtcbi8vIGNvbnNvbGUubG9nKHRhYjEpXG4vLyB0YWIxLmFkZFRhc2soYW5vdGhlckltcG9ydGFudFRhc2spXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygxKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDEpLmdldFRhc2tUaXRsZSgpKVxuXG5cbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbi8vIC8vIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiKDApO1xuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcblxuLy8gbGV0IHRhYjIgPSB0b0RvVGFiKFwiaGVlIGhlZVwiKVxuLy8gdG9Eb0xpc3QuYWRkVGFzayh0YWIyKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcblxuLy8gbGV0IHRhYjEgPSB0b0RvVGFiKFwiRGVmYXVsdCB0ZXN0XCIpXG4vLyB0b0RvTGlzdC5hZGRUYXNrKHRhYjEpXG5cbi8vIGxldCB0YXNrMSA9IHRvRG9UYXNrKFwiTWFrZSBNb25leSBURVNUIDBcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyBjb25zb2xlLmxvZyh0YWIxLmFkZFRhc2sodGFzazEpKVxuXG4vLyBsZXQgdGFzazIgPSB0b0RvVGFzayhcIk1ha2UgTW9uZXkgVEVTVCBBR0FJTiAxXCIsIFwiVGFzayBEdWUgRGF0ZVwiLCBcIlRhc2sgRGVzY3JpcHRpb25cIiwgXCJUYXNrIE5vdGVzXCIpO1xuLy8gdGFiMS5hZGRUYXNrKHRhc2syKVxuXG4vLyBsZXQgdGFzazMgPSB0b0RvVGFzayhcIk1ha2UgTW9uZXkgVEVTVCBBR0FJTiBBR0FJTiAyXCIsIFwiVGFzayBEdWUgRGF0ZVwiLCBcIlRhc2sgRGVzY3JpcHRpb25cIiwgXCJUYXNrIE5vdGVzXCIpO1xuLy8gdGFiMS5hZGRUYXNrKHRhc2szKVxuXG4vLyBsZXQgdGFzazQgPSB0b0RvVGFzayhcIk1ha2UgTW9uZXkgVEVTVCBBR0FJTiBBR0FJTiBBR0FJTiAzXCIsIFwiVGFzayBEdWUgRGF0ZVwiLCBcIlRhc2sgRGVzY3JpcHRpb25cIiwgXCJUYXNrIE5vdGVzXCIpO1xuLy8gdGFiMS5hZGRUYXNrKHRhc2s0KVxuXG4vLyBsZXQgdGFiMiA9IHRvRG9UYWIoXCJUZXN0IGZvciBsb2FkaW5nIGluIHRhc2sgb2JqZWN0c1wiKVxuLy8gdG9Eb0xpc3QuYWRkVGFzayh0YWIyKVxuLy8gbGV0IHRhc2tBID0gdG9Eb1Rhc2soXCJURVNUIE9GIFRIRSBPVVRET09SIFdBUk5JTkcgU1lTVEVNXCIsIFwiVGFzayBEdWUgRGF0ZVwiLCBcIlRhc2sgRGVzY3JpcHRpb25cIiwgXCJUYXNrIE5vdGVzXCIpO1xuLy8gdGFiMi5hZGRUYXNrKHRhc2tBKVxuLy8gbGV0IHRhc2tCID0gdG9Eb1Rhc2soXCJUSElTIElTIE9OTFkgQSBURVNUXCIsIFwiVGFzayBEdWUgRGF0ZVwiLCBcIlRhc2sgRGVzY3JpcHRpb25cIiwgXCJUYXNrIE5vdGVzXCIpO1xuLy8gdGFiMi5hZGRUYXNrKHRhc2tCKVxuXG4vLyBsZXQgY2hlY2tsaXN0VGFza0EgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBBXCIpXG4vLyB0YXNrQS5hZGRUYXNrKGNoZWNrbGlzdFRhc2tBKVxuLy8gbGV0IGNoZWNrbGlzdFRhc2tCID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgQlwiKVxuLy8gdGFza0EuYWRkVGFzayhjaGVja2xpc3RUYXNrQilcbi8vIGxldCBjaGVja2xpc3RUYXNrQyA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIENcIilcbi8vIHRhc2tCLmFkZFRhc2soY2hlY2tsaXN0VGFza0MpXG4vLyBsZXQgY2hlY2tsaXN0VGFza0QgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBEXCIpXG4vLyB0YXNrQi5hZGRUYXNrKGNoZWNrbGlzdFRhc2tEKVxuLy8gbGV0IGNoZWNrbGlzdFRhc2tFID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgRFwiKVxuLy8gdGFza0IuYWRkVGFzayhjaGVja2xpc3RUYXNrRSlcblxuLy8gdGFza0IucmVtb3ZlVGFzaygxKVxuXG5ldmVudEFzc2lnbmVyLmFkZE5ld1RhYkxpc3RlbmVyKCk7XG4vLyBldmVudEFzc2lnbmVyLmFkZEVkaXRUYWJMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXIoKTtcblxuXG5cbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0KVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrVGl0bGUoKSlcblxuRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0RGVmYXVsdEN1cnJlbnRUYWJET00oMClcblxuZXZlbnRBc3NpZ25lci5hZGRTd2l0Y2hUYWJMaXN0ZW5lcigpXG5cbmV2ZW50QXNzaWduZXIuYWRkTmV3VGFza0xpc3RlbmVyKCk7XG5cbmV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyKCk7XG5cbmV2ZW50QXNzaWduZXIuYWRkRWRpdFRhc2tMaXN0ZW5lcnMoKTtcblxuLy8gY29uc3QgaGVoID0gKCkgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKFwiYmxvb3BcIilcbi8vIH1cblxuLy8gY29uc3QgYm9pID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKVxuLy8gYm9pLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoZWgpXG5cbmV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZEVkaXRDaGVja2xpc3RUYXNrTGlzdGVuZXJzKCk7XG5cbi8vIGxldCBjaGVja2xpc3RUYXNrMSA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUXCIpXG4vLyB0YXNrMS5hZGRUYXNrKGNoZWNrbGlzdFRhc2sxKVxuXG5ldmVudEFzc2lnbmVyLmFkZFRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZUxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZFJlbW92ZUNoZWNrbGlzdFRhc2tMaXN0ZW5lcigpO1xuXG5ldmVudEFzc2lnbmVyLmFkZFRvZ2dsZVRhc2tQaW5MaXN0ZW5lcnMoKTtcbmV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzTGlzdGVuZXJzKCk7XG5cbi8vIGV2ZW50QnVuZGxlci5sb2FkSW5JbnN0cnVjdGlvbnNQYWdlKCk7XG5cbi8vIHRvZG9MaXN0U3RvcmFnZS5pbml0aWFsaXplVG9kb0xpc3QoKTtcbi8vIHRvZG9MaXN0U3RvcmFnZS5hZGRUYWIoMClcbi8vIHRvZG9MaXN0U3RvcmFnZS5hZGRUYXNrKDAsMClcbi8vIHRvZG9MaXN0U3RvcmFnZS5hZGRDaGVja2xpc3RUYXNrKDAsMCwwKVxuLy8gdG9kb0xpc3RTdG9yYWdlLmFkZENoZWNrbGlzdFRhc2soMCwwLDEpXG4vLyB0b2RvTGlzdFN0b3JhZ2UuYWRkQ2hlY2tsaXN0VGFzaygwLDAsMilcbi8vIGxvY2FsU3RvcmFnZS5jbGVhcigpXG5cbi8vIHRvZG9MaXN0U3RvcmFnZS5zZXRDdXJyZW50VGFiKDEpXG5cbmNvbnNvbGUubG9nKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b19kb19saXN0XCIpKSlcblxuLy8gdG9kb0xpc3RTdG9yYWdlLnNldEN1cnJlbnRUYWIoMClcbi8vIHRvZG9MaXN0U3RvcmFnZS5zZXRDaGVja2xpc3RUYXNrQ29tcGxldGVkKDAsMCwwKVxuLy8gdG9kb0xpc3RTdG9yYWdlLnJlbW92ZVRhYigwKVxuY29uc29sZS5sb2coSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvX2RvX2xpc3RcIikpKVxuXG4vLyBldmVudEJ1bmRsZXIubG9hZEluTG9jYWxTdG9yYWdlKClcbi8vIGV2ZW50QnVuZGxlci5sb2FkSW5UYWJPYmplY3RzKClcblxuLy8gZXZlbnRCdW5kbGVyLmxvYWRJbkluc3RydWN0aW9uc1BhZ2UoKTtcbi8vIHRvZG9MaXN0U3RvcmFnZS5pbml0aWFsaXplVG9kb0xpc3QoKTtcbi8vIGV2ZW50QnVuZGxlci5sb2FkSW5Mb2NhbFN0b3JhZ2UoKVxuLy8gZXZlbnRCdW5kbGVyLmxvYWRJblRhYk9iamVjdHMoKVxuLy8gbG9jYWxTdG9yYWdlLmNsZWFyKClcbmV2ZW50QnVuZGxlci5sb2FkSW5QYWdlKCk7Il0sIm5hbWVzIjpbImNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50Iiwib2JqZWN0IiwiY2hlY2tsaXN0IiwiT2JqZWN0IiwiYXNzaWduIiwiYWRkVGFzayIsInRhc2siLCJwdXNoIiwibGVuZ3RoIiwicmVtb3ZlVGFzayIsImluZGV4IiwidW5kZWZpbmVkIiwiZ2V0Q2hlY2tsaXN0VGFza3MiLCJnZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2siLCJ0b0RvTGlzdCIsImN1cnJlbnRUYWIiLCJnZXRDdXJyZW50VGFiSW5kZXgiLCJzZXRDdXJyZW50VGFiSW5kZXgiLCJuZXdDdXJyZW50VGFiIiwiTnVtYmVyIiwiZ2V0Q3VycmVudFRhYk9iamVjdCIsImN1cnJlbnRUYWJJbmRleCIsInRpdGxlQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsVGl0bGUiLCJ0aXRsZSIsImdldFRhc2tUaXRsZSIsInNldFRhc2tUaXRsZSIsIm5ld1RpdGxlIiwiaGVscGVyRnVuY3Rpb25zIiwiZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQiLCJldmVudCIsInRhYkVsZW1lbnQiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwiZW5zdXJlQ29ycmVjdFRhc2tTdWJjb250YWluZXJFbGVtZW50IiwidGFza1N1YmNvbnRhaW5lckVsZW1lbnQiLCJjbGFzc0xpc3QiLCJBcnJheSIsImZyb20iLCJpbmNsdWRlcyIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCIsImNoZWNrbGlzdFRhc2tFbGVtZW50IiwiZ2V0VGFza0VsZW1lbnQiLCJ0YXNrSW5kZXgiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJnZXRUYWJPYmplY3QiLCJ0YWJJbmRleCIsImdldFRhc2tPYmplY3QiLCJjaGVja0lmV2FzQ3VycmVudFRhYiIsImNoZWNrSWZPbmx5T25lVGFiIiwidG9Eb1RhYlNlY3Rpb24iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZ2V0VGFza0luZGV4IiwidGFza0VsZW1lbnQiLCJlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQiLCJkYXRhc2V0IiwiZ2V0Q2hlY2tsaXN0VGFza0luZGV4IiwiY2hlY2tsaXN0VGFza0luZGV4IiwiZ2V0VGFiSW5kZXgiLCJnZXROZXdWYWx1ZSIsInZhbHVlIiwiZ2V0VGFza1N1YmNvbnRhaW5lclR5cGUiLCJ0YXNrU3ViY29udGFpbmVyRWxlbWVudENsYXNzZXMiLCJ0YXNrU3ViY29udGFpbmVyVHlwZSIsImdldFRhc2tTdWJjb250YWluZXJFbGVtZW50IiwiYnV0dG9uVHlwZSIsImdldENoZWNrbGlzdFRhc2tFbGVtZW50IiwiZ2V0VGFiRWxlbWVudCIsImNoZWNrRm9yRXhpc3RpbmdJbnB1dEVsZW1lbnQiLCJlbGVtZW50VHlwZSIsImlucHV0RWxlbWVudCIsInRyeWluZ1RvRG91YmxlQ2xpY2siLCJnZXRDaGVja2xpc3RUYXNrT2JqZWN0IiwiY2hlY2tJZk5vTW9yZVRhYnMiLCJkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbERlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJnZXRUYXNrRGVzY3JpcHRpb24iLCJzZXRUYXNrRGVzY3JpcHRpb24iLCJuZXdEZXNjcmlwdGlvbiIsImNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbENvbXBsZXRlZFN0YXRlIiwiY29tcGxldGVkIiwidG9nZ2xlQ29tcGxldGVkU3RhdGUiLCJnZXRDb21wbGV0ZWRTdGF0ZSIsIm9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IiwidGFiTmFtZSIsIm5ld1RhYiIsInRvRG9UYWIiLCJuZXdUYWJOYW1lIiwidGFiQXJyYXkiLCJmaXJzdFRhYiIsInRhYiIsImR1ZURhdGUiLCJub3RlcyIsInBpbm5lZCIsInRhYk9iamVjdCIsIm5ld1Rhc2siLCJpbml0aWFsRHVlRGF0ZSIsImdldFRhc2tEdWVEYXRlIiwic2V0VGFza0R1ZURhdGUiLCJuZXdEdWVEYXRlIiwiZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbE5vdGVzIiwiZ2V0VGFza05vdGVzIiwic2V0VGFza05vdGVzIiwibmV3Tm90ZXMiLCJub3Rlc0JlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbFBpbm5lZFN0YXRlIiwidG9nZ2xlUGlubmVkU3RhdGUiLCJnZXRQaW5uZWRTdGF0ZSIsInBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IiwidG9Eb1Rhc2siLCJuZXdUYXNrU3ViY29udGVudFZhbHVlIiwidGFza09iamVjdCIsIm5ld0NoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RUYXNrT2JqZWN0IiwibmV3RGVzY3JpcHRpb25WYWx1ZSIsImV2ZW50QXNzaWduZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnRCdW5kbGVyIiwiYWRkVGFiIiwic2NvcGUiLCJ0YWJFZGl0QnV0dG9ucyIsImJ1dHRvbiIsImluc2VydFRhYklucHV0RWxlbWVudCIsInVwZGF0ZVRhYiIsInRhYlJlbW92ZUJ1dHRvbnMiLCJyZW1vdmVUYWIiLCJ0YWJTd2l0Y2hCdXR0b25zIiwic3dpdGNoVGFiIiwidGFza1JlbW92ZUJ1dHRvbnMiLCJ0YXNrRWRpdEJ1dHRvbnMiLCJpbnNlcnRUYXNrSW5wdXRFbGVtZW50IiwidXBkYXRlVGFzayIsInRhc2tDb21wbGV0ZUNoZWNrYm94ZXMiLCJjaGVja2JveCIsInRvZ2dsZVRhc2tDb21wbGV0ZSIsIm5ld0NoZWNrbGlzdFRhc2tCdXR0b25zIiwiYWRkTmV3Q2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdEVkaXRCdXR0b25zIiwiaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCIsInVwZGF0ZUNoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ZXMiLCJ0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUiLCJjaGVja2xpc3RUYXNrUmVtb3ZlQnV0dG9ucyIsInJlbW92ZUNoZWNrbGlzdFRhc2siLCJ0YXNrUGluQnV0dG9ucyIsInRvZ2dsZVRhc2tQaW4iLCJ0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMiLCJ0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMiLCJET01Db250cm9sbGVyQWRkRWRpdCIsImFkZE5ld1Rhc2tUb0RPTSIsIm5ld1Rhc2tPYmplY3QiLCJ0b0RvQ29udGVudCIsIm5ld1Rhc2tFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImFkZCIsIm5ld1Rhc2tUaXRsZSIsIm5ld1Rhc2tEZXNjcmlwdGlvbiIsIm5ld1Rhc2tEdWVEYXRlIiwibmV3VGFza05vdGVzIiwibmV3VGFza0NvbXBsZXRlSUQiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlVGFza0RPTUNvbXBsZXRlIiwiY29tcGxldGVDaGVja2JveCIsImNoZWNrZWQiLCJyZW1vdmUiLCJhZGROZXdDaGVja2xpc3RUYXNrVG9ET00iLCJuZXdDaGVja2xpc3RUYXNrSW5kZXgiLCJjaGVja2xpc3RFbGVtZW50IiwibmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uIiwibmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQiLCJ0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUiLCJjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94Iiwic2V0UGluQnV0dG9uSW1hZ2UiLCJjdXJyZW50VGFiT2JqZWN0IiwiY3VycmVudFRhc2tJbmRleCIsImN1cnJlbnRUYXNrT2JqZWN0IiwicGluQnV0dG9uSW1hZ2UiLCJyZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uIiwidGFza0NvbnRlbnRTZWN0aW9uIiwibGlzdE9mUGlubmVkVGFza0VsZW1lbnRzIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJsYXN0UGlubmVkVGFza0VsZW1lbnQiLCJwaW5uZWRUYXNrRWxlbWVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsImFkZE5ld1RhYlRvRE9NIiwiYWRkVGFiQnV0dG9uIiwibmV3VGFiRWxlbWVudCIsIm5ld1RhYk9iamVjdFRpdGxlIiwic2V0VGFiSW5wdXRFbGVtZW50VmFsdWUiLCJmaXJzdENoaWxkIiwiZm9jdXMiLCJpbnNlcnRUYWJOYW1lRWxlbWVudCIsInRhYkJ1dHRvbiIsInRhYkJ1dHRvbk5hbWUiLCJzZXREZWZhdWx0Q3VycmVudFRhYkRPTSIsInNldEN1cnJlbnRUYWJET00iLCJhZGRDdXJyZW50VGFiSW5kaWNhdG9yIiwiY29uc29sZSIsImxvZyIsInRhc2tTdWJjb250YWluZXIiLCJzZXRUYXNrSW5wdXRFbGVtZW50VmFsdWUiLCJ0YXNrT2JqZWN0VmFsdWUiLCJpbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQiLCJ0YXNrU3ViY29udGVudEVsZW1lbnQiLCJ0YXNrVGl0bGUiLCJ0YXNrRHVlRGF0ZSIsInRhc2tEZXNjcmlwdGlvbiIsInRhc2tOb3RlcyIsImNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiIsInNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSIsImNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiIsImluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQiLCJjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50IiwiY2hhbmdlUGluQnV0dG9uSW1hZ2UiLCJzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24iLCJ0YXNrRWxlbWVudEluZGV4IiwibGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMiLCJsYXN0VW5waW5uZWRUYXNrRWxlbWVudCIsInVucGlubmVkVGFza0VsZW1lbnQiLCJsb2FkVGFza3NGcm9tTmV3Q3VycmVudFRhYiIsImxpc3RPZlRhc2tzIiwiYWRkVGFza0xpc3RlbmVycyIsImxpc3RPZkNoZWNrbGlzdFRhc2tzIiwiYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyIsImZvckVhY2giLCJlbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0VGltZW91dCIsInByZXZlbnREb3VibGVDbGljayIsInJvdGF0ZUNoZXZyb25CdXR0b24iLCJidXR0b25JbWFnZSIsImJ1dHRvbkltYWdlQ2xhc3NlcyIsInRvZ2dsZUFuaW1hdGlvbnMiLCJhY3Rpb24iLCJlbGVtZW50c1RvVG9nZ2xlIiwib2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCIsIkRPTUNvbnRyb2xsZXJSZW1vdmUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUF0dHJpYnV0ZSIsInJlcGxhY2VDaGlsZHJlbiIsInRvZG9MaXN0U3RvcmFnZSIsImxvYWRpbmdJbkNvbnRlbnQiLCJnZXRMb2NhbFN0b3JhZ2VWYWx1ZSIsInRvZG9MaXN0SlNPTlN0cmluZyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJ1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSIsIm5ld1ZhbHVlIiwidXBkYXRlZEpTT05TdHJpbmdWYWx1ZSIsInN0cmluZ2lmeSIsInNldEl0ZW0iLCJpbml0aWFsaXplVG9kb0xpc3QiLCJ0b2RvTGlzdFBhcnNlZE9iamVjdCIsInRhYkpTT05TdHJpbmciLCJ0YWJQYXJzZWRPYmplY3QiLCJ0YXNrSlNPTlN0cmluZyIsInRhc2tQYXJzZWRPYmplY3QiLCJhZGRDaGVja2xpc3RUYXNrIiwiY2hlY2tsaXN0VGFza0pTT05TdHJpbmciLCJjaGVja2xpc3RUYXNrUGFyc2VkT2JqZWN0Iiwic2V0Q3VycmVudFRhYiIsInNldFRhYk5hbWUiLCJzZXRUYXNrU3ViY29udGFpbmVyVmFsdWUiLCJzdWJjb250YWluZXJUeXBlIiwidG9nZ2xlVGFza0NvbXBsZXRlZCIsInRvZ2dsZVRhc2tQaW5uZWQiLCJzZXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24iLCJ0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVkIiwiZ2V0VGFiVGl0bGUiLCJ0YWJLZXkiLCJnZXRUYXNrVmFsdWVzIiwidGFza0tleSIsInRhc2tWYWx1ZXMiLCJ0YXNrUGlubmVkIiwidGFza0NvbXBsZXRlZCIsImdldENoZWNrbGlzdFRhc2tWYWx1ZXMiLCJjaGVja2xpc3RUYXNrS2V5IiwiY2hlY2tsaXN0VGFza1ZhbHVlcyIsImNoZWNrbGlzdFRhc2tDb21wbGV0ZWQiLCJjaGVja0ZvckV4aXN0aW5nU3RvcmFnZSIsImdldFRhYk9iamVjdHMiLCJnZXRUYXNrT2JqZWN0cyIsImdldENoZWNrbGlzdFRhc2tPYmplY3RzIiwidG9nZ2xlTG9hZGluZyIsImlzTG9hZGluZyIsIm5ld1RhYkluZGV4IiwiYWRkVGFiTGlzdGVuZXJzIiwiZmlyc3RUYWJJbmRleCIsImxvYWRJbkluc3RydWN0aW9uc1BhZ2UiLCJuZXdUYXNrSW5kZXgiLCJhZGRMb2FkZWRJbkNoZWNrbGlzdFRhc2siLCJsb2FkSW5Mb2NhbFN0b3JhZ2UiLCJsb2FkSW5DdXJyZW50VGFiSW5kZXgiLCJsb2FkSW5UYWJPYmplY3RzIiwidGFiT2JqZWN0cyIsInRhYlRpdGxlIiwibG9hZEluVGFza09iamVjdHMiLCJ0YXNrT2JqZWN0cyIsImxvYWRJbkNoZWNrbGlzdFRhc2tPYmplY3RzIiwiY2hlY2tsaXN0VGFza09iamVjdHMiLCJjb2RlIiwibG9hZEluUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=
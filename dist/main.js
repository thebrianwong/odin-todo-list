(()=>{"use strict";const e=e=>{let t=[];return Object.assign(e,{addTask:e=>(t.push(e),t.length-1),removeTask(e){t[e]=void 0},getChecklistTasks:()=>t,getSpecificChecklistTask:e=>t[e]})},t=(()=>{let s=0;const n=()=>s;let a={getCurrentTabIndex:n,setCurrentTabIndex:e=>{s=e},getCurrentTabObject:()=>{const e=n();return t.getSpecificChecklistTask(e)}};return Object.assign(a,e(a)),a})(),s=(e,t)=>{let s=t;return Object.assign(e,{getTaskTitle:()=>s,setTaskTitle(e){s=e}})},n=(()=>{const e=e=>{let t=e.target.parentElement;for(;"tab-title"!==t.getAttribute("class");)t=t.parentElement;return t},s=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task");)t=t.parentElement,s=Array.from(t.classList);return t},n=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task-subcontainer");)t=t.parentElement,s=Array.from(t.classList);return t},a=e=>{const n=s(e).dataset.taskIndex,a=t.getCurrentTabIndex();return t.getSpecificChecklistTask(a).getSpecificChecklistTask(n)},o=e=>{let t=e.target;for(;"BUTTON"!==t.tagName;)t=t.parentElement;return t},c=e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist-task");)t=t.parentElement,s=Array.from(t.classList);return t};return{ensureCorrectTabElement:e,checkForTabInputElement:t=>"INPUT"===e(t).firstElementChild.tagName,checkIfWasCurrentTab:t=>"current-tab"===e(t).getAttribute("id"),checkIfOnlyOneTab:()=>{const e=document.querySelector(".to-do-tab-section");return 1===Array.from(e.querySelectorAll(".tab-title")).length},ensureCorrectTaskElement:s,ensureCorrectSubcontainer:n,checkForTaskSubcontainerInputElement:e=>"INPUT"===n(e).firstElementChild.tagName,getTargetTaskObject:a,ensureCorrectButtonElement:o,getButtonType:e=>{const t=o(e);return Array.from(t.classList)},getSubcontainerType:e=>{const t=n(e);return Array.from(t.classList)},ensureCorrectChecklistElement:e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist");)t=t.parentElement,s=Array.from(t.classList);return t},ensureCorrectChecklistTaskElement:c,checkForChecklistTaskInputElement:e=>null!==c(e).querySelector(".checklist-complete-section").querySelector(".checklist-input"),getTargetChecklistTaskObject:e=>{const t=a(e),s=c(e).dataset.checklistTaskIndex;return t.getSpecificChecklistTask(s)},getTaskIndex:e=>s(e).dataset.taskIndex,getChecklistTaskIndex:e=>c(e).dataset.checklistTaskIndex}})(),a=(e,t)=>{let s=t;return Object.assign(e,{getTaskDescription:()=>s,setTaskDescription(e){s=e}})},o=(e,t)=>{let s=t;return Object.assign(e,{toggleCompletedState(){s=!s},getCompletedState:()=>s})},c=(n="New Tab")=>{const a=(t=>{let n={};return Object.assign(n,s(n,t),e(n)),n})(n);return t.addTask(a)},r=e=>{const s=e.target.parentElement.dataset.tabIndex;t.getSpecificChecklistTask(s).setTaskTitle(e.target.value)},i=e=>{const s=n.ensureCorrectTabElement(e).dataset.tabIndex;t.setCurrentTabIndex(s)},l=()=>{const e=t.getChecklistTasks();let s;for(const n in e)if(void 0!==e[n])return t.setCurrentTabIndex(n),s=n,s},d=(n="New Task Title",c="Task Due Date",r="Task Description",i="Task Notes",l=!1,d=!1)=>{const u=t.getCurrentTabIndex(),k=t.getSpecificChecklistTask(u),T=((t,n,c,r,i,l)=>{let d={};return Object.assign(d,s(d,t),a(d,c),((e,t)=>{let s=t;return Object.assign(e,{getTaskDueDate:()=>s,setTaskDueDate(e){s=e}})})(d,n),((e,t)=>{let s=t;return Object.assign(e,{getTaskNotes:()=>s,setTaskNotes(e){s=e}})})(d,r),((e,t)=>{let s=t;return Object.assign(e,{togglePinnedState(){s=!s},getPinnedState:()=>s})})(d,i),o(d,l),e(d)),d})(n,c,r,i,l,d);return k.addTask(T)},u=e=>{const t=n.getTargetTaskObject(e),s=e.target.value,a=n.getSubcontainerType(e);return a.includes("to-do-title-section")?t.setTaskTitle(s):a.includes("to-do-due-date-section")?t.setTaskDueDate(s):a.includes("to-do-description-section")?t.setTaskDescription(s):a.includes("to-do-notes-section")?t.setTaskNotes(s):void 0},k=e=>{n.getTargetTaskObject(e).toggleCompletedState()},T=(e,s="Checklist Task Description",n=!1)=>{const c=t.getCurrentTabObject().getSpecificChecklistTask(e),r=((e,t)=>{let s={};return Object.assign(s,a(s,e),o(s,t)),s})(s,n);return c.addTask(r)},m=e=>{const t=n.getTargetChecklistTaskObject(e),s=e.target.value;t.setTaskDescription(s)},b=e=>{n.getTargetChecklistTaskObject(e).toggleCompletedState()},p=e=>{n.getTargetTaskObject(e).togglePinnedState()},g=()=>{document.querySelector(".add-tab").addEventListener("click",G.addTab)},h=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-tab"));for(const e of t)e.addEventListener("click",G.insertTabInputElement)},C=e=>{e.addEventListener("keydown",G.updateTab)},f=(e=document)=>{const t=Array.from(e.querySelectorAll(".remove-tab"));for(const e of t)e.addEventListener("click",G.removeTab)},E=(e=document)=>{const t=Array.from(e.querySelectorAll(".switch-tab"));for(const e of t)e.addEventListener("click",G.switchTab)},y=()=>{document.querySelector(".new-to-do-task").addEventListener("click",G.newTask)},S=(e=document)=>{const t=Array.from(e.querySelectorAll(".to-do-remove-task"));for(const e of t)e.addEventListener("click",G.removeTask)},v=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-task"));for(const e of t)e.addEventListener("click",G.insertTaskInputElement)},I=e=>{e.addEventListener("keydown",G.updateTask)},L=(e=document)=>{const t=e.querySelectorAll(".to-do-complete-checkbox");for(const e of t)e.addEventListener("click",G.toggleTaskComplete)},D=(e=document)=>{const t=e.querySelectorAll(".add-checklist-task");for(const e of t)e.addEventListener("click",G.addNewChecklistTask)},O=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-checklist-task"));for(const e of t)e.addEventListener("click",G.insertChecklistTaskInputElement)},x=e=>{e.addEventListener("keydown",G.updateChecklistTask)},A=(e=document)=>{const t=e.querySelectorAll(".checklist-complete-checkbox");for(const e of t)e.addEventListener("click",G.toggleChecklistTaskComplete)},q=(e=document)=>{const t=e.querySelectorAll(".remove-checklist-task");for(const e of t)e.addEventListener("click",G.removeChecklistTask)},w=(e=document)=>{const t=e.querySelectorAll(".to-do-pin");for(const e of t)e.addEventListener("click",G.toggleTaskPin)},N=(e=document)=>{const t=e.querySelectorAll(".to-do-task-change-display");for(const e of t)e.addEventListener("click",G.toggleDisplayTaskDetails)},j=(()=>{const e=e=>{const s=t.getCurrentTabObject().getSpecificChecklistTask(e),n=document.querySelector(".to-do-content"),a=document.createElement("div");a.classList.add("to-do-task"),a.dataset.taskIndex=e;const o=s.getTaskTitle(),c=s.getTaskDescription(),r=s.getTaskDueDate(),i=s.getTaskNotes(),l=`to-do-complete-checkbox-${e}`;return a.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-unpinned.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="ID PLACEHOLDER" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="ID PLACEHOLDER">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <div action="" class="checklist">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </div>\n        ',a.querySelector(".to-do-title").textContent=o,a.querySelector(".to-do-due-date").textContent="Due On: "+r,a.querySelector(".to-do-description").textContent="Description: "+c,a.querySelector(".to-do-notes").textContent="Notes: "+i,n.appendChild(a),a.querySelector("label").setAttribute("for",l),a.querySelector(".to-do-complete-checkbox").setAttribute("id",l),a},s=e=>{const s=document.querySelector(`[data-task-index='${e}']`),n=s.querySelector(".to-do-complete-checkbox");t.getCurrentTabObject().getSpecificChecklistTask(e).getCompletedState()?(n.checked=!0,s.classList.add("task-completed")):(n.checked=!1,s.classList.remove("task-completed"))},a=(e,s)=>{const n=document.querySelector(`[data-task-index='${e}'`).querySelector(".checklist"),a=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s),o=a.getTaskDescription(),c=(a.getCompletedState(),document.createElement("div"));return c.classList.add("checklist-task"),c.dataset.checklistTaskIndex=s,c.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${e}-${s}" class="checklist-complete-checkbox">\n                <label for="checklist-${e}-${s}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,c.querySelector(".checklist-task-description").textContent=o,n.appendChild(c),c},o=(e,s)=>{const n=document.querySelector(`[data-task-index='${e}']`).querySelector(`[data-checklist-task-index='${s}']`).querySelector(".checklist-complete-section").querySelector(".checklist-complete-checkbox"),a=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s);n.checked=a.getCompletedState(),a.getCompletedState()?n.classList.add("checklist-task-completed"):n.classList.remove("checklist-task-completed")},c=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,a=s.getSpecificChecklistTask(n),o=e.querySelector(".to-do-pin").querySelector("img");a.getPinnedState()?o.setAttribute("src","./assets/pin-pinned.png"):o.setAttribute("src","./assets/pin-unpinned.png")},r=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,a=s.getSpecificChecklistTask(n),o=document.querySelector(".to-do-content");if(a.getPinnedState()){const t=Array.from(document.querySelectorAll(".pinned-task"));if(0===t.length)o.insertBefore(e,o.firstElementChild);else{const s=t[t.length-1];for(const a of t){if(n<a.dataset.taskIndex){o.insertBefore(e,a);break}a===s&&s.insertAdjacentElement("afterend",e)}}e.classList.add("pinned-task")}};return{addNewTabToDOM:e=>{const s=document.querySelector(".add-tab"),n=document.querySelector(".to-do-tab-section"),a=document.createElement("div"),o=t.getSpecificChecklistTask(e).getTaskTitle();return a.classList.add("tab-title"),a.dataset.tabIndex=e,a.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',a.querySelector(".tab-name").textContent=o,n.insertBefore(a,s),a},setTabInputElementValue:(e,s)=>{const a=n.ensureCorrectTabElement(e).dataset.tabIndex,o=t.getSpecificChecklistTask(a).getTaskTitle();s.value=o},insertTabInputElement:e=>{const t=n.ensureCorrectTabElement(e),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),t.insertBefore(s,t.firstChild),s.focus(),s},insertTabNameElement:e=>{const s=n.ensureCorrectTabElement(e),a=s.dataset.tabIndex,o=t.getSpecificChecklistTask(a).getTaskTitle(),c=document.createElement("button");c.classList.add("switch-tab");const r=document.createElement("h2");return r.classList.add("tab-name"),r.textContent=o,c.appendChild(r),s.insertBefore(c,s.firstChild),s},setDefaultCurrentTabDOM:e=>{const t=document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${e}']`);null!==t&&t.setAttribute("id","current-tab")},setCurrentTabDOM:e=>{n.ensureCorrectTabElement(e).setAttribute("id","current-tab")},setFirstTabToCurrentTab:e=>{void 0!==e&&document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${e}']`).setAttribute("id","current-tab")},addNewTaskToDOM:e,insertTaskInputElement:e=>{const t=n.ensureCorrectSubcontainer(e),s=document.createElement("input");return s.classList.add("task-input"),s.setAttribute("type","text"),t.insertBefore(s,t.firstChild),s.focus(),s},setTaskInputElementValue:(e,t)=>{const s=n.getTargetTaskObject(e),a=n.getButtonType(e);let o;a.includes("edit-task-title")?o=s.getTaskTitle():a.includes("edit-task-due-date")?o=s.getTaskDueDate():a.includes("edit-task-description")?o=s.getTaskDescription():a.includes("edit-task-notes")&&(o=s.getTaskNotes()),t.value=o},insertTaskSubcontentElement:e=>{const t=n.ensureCorrectSubcontainer(e),s=n.getTargetTaskObject(e),a=n.getSubcontainerType(e);let o;if(a.includes("to-do-title-section")){const e=s.getTaskTitle();o=document.createElement("h3"),o.classList.add("to-do-title"),o.textContent=e}else if(a.includes("to-do-due-date-section")){const e=s.getTaskDueDate();o=document.createElement("p"),o.classList.add("to-do-due-date"),o.textContent="Due On: "+e}else if(a.includes("to-do-description-section")){const e=s.getTaskDescription();o=document.createElement("p"),o.classList.add("to-do-description"),o.textContent="Description: "+e}else if(a.includes("to-do-notes-section")){const e=s.getTaskNotes();o=document.createElement("p"),o.classList.add("to-do-notes"),o.textContent="Notes: "+e}t.insertBefore(o,t.firstChild)},toggleTaskDOMComplete:s,addNewChecklistTaskToDOM:a,insertChecklistTaskInputElement:e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section"),s=document.createElement("input");return s.classList.add("checklist-input"),s.setAttribute("type","text"),t.appendChild(s),s.focus(),s},setChecklistTaskInputElementValue:(e,t)=>{const s=n.ensureCorrectChecklistTaskElement(e).dataset.checklistTaskIndex,a=n.getTargetTaskObject(e).getSpecificChecklistTask(s).getTaskDescription();t.value=a},insertChecklistTaskDescriptionElement:e=>{const t=n.ensureCorrectChecklistTaskElement(e),s=t.dataset.checklistTaskIndex,a=t.querySelector(".checklist-complete-section"),o=n.ensureCorrectTaskElement(e).dataset.taskIndex,c=n.getTargetChecklistTaskObject(e).getTaskDescription(),r=document.createElement("label");r.setAttribute("for",`checklist-${o}-${s}`),r.classList.add("checklist-task-description"),r.textContent=c,a.appendChild(r)},toggleChecklistTaskDOMComplete:o,changePinButtonImage:e=>{const s=document.querySelector(`[data-task-index='${e}']`),n=t.getCurrentTabObject().getSpecificChecklistTask(e),a=s.querySelector(".to-do-pin").querySelector("img");n.getPinnedState()?a.setAttribute("src","./assets/pin-pinned.png"):a.setAttribute("src","./assets/pin-unpinned.png")},shiftTaskElementPosition:e=>{const s=document.querySelector(`[data-task-index='${e}']`),n=t.getCurrentTabObject().getSpecificChecklistTask(e),a=s.dataset.taskIndex,o=document.querySelector(".to-do-content");if(n.getPinnedState()){const e=Array.from(document.querySelectorAll(".pinned-task"));if(0===e.length)o.insertBefore(s,o.firstElementChild);else{const t=e[e.length-1];for(const n of e){if(a<n.dataset.taskIndex){o.insertBefore(s,n);break}n===t&&t.insertAdjacentElement("afterend",s)}}s.classList.add("pinned-task")}else{const e=Array.from(o.querySelectorAll(".to-do-task:not(.pinned-task)"));if(0===e.length)o.appendChild(s);else{const t=e[e.length-1];for(const n of e){if(a<n.dataset.taskIndex){o.insertBefore(s,n);break}n===t&&o.appendChild(s,t)}}s.classList.remove("pinned-task")}},loadTasksFromNewCurrentTab:()=>{const n=t.getCurrentTabObject().getChecklistTasks();for(const t in n){const i=n[t];if(void 0!==i){const n=e(t);c(n),r(n),s(t),G.addTaskListeners(n);const l=i.getChecklistTasks();for(const e in l)if(void 0!==l[e]){const s=a(t,e);o(t,e),G.addChecklistTaskListeners(s)}}}},toggleDisplayTaskDetails:e=>{const t=n.ensureCorrectTaskElement(e);[t.querySelector(".to-do-description-section"),t.querySelector(".to-do-notes-section"),t.querySelector(".checklist")].forEach((e=>{Array.from(e.classList).includes("hide-to-do-details")?(e.classList.remove("hide-to-do-details"),e.classList.add("display-to-do-details")):(e.classList.add("hide-to-do-details"),e.classList.remove("display-to-do-details"))}))},rotateChevronButton:e=>{const t=n.ensureCorrectButtonElement(e).querySelector("img"),s=t.getAttribute("class");null===s||"rotate-hide-task-details"===s?(t.classList.toggle("rotate-hide-task-details",!1),t.classList.add("rotate-display-task-details")):"rotate-display-task-details"===s&&(t.classList.remove("rotate-display-task-details"),t.classList.add("rotate-hide-task-details"))}}})(),P=e=>{const s=n.ensureCorrectTabElement(e).dataset.tabIndex;t.removeTask(s)},B=e=>{const s=n.ensureCorrectTaskElement(e).dataset.taskIndex;t.getCurrentTabObject().removeTask(s)},M=e=>{const t=n.ensureCorrectChecklistTaskElement(e).dataset.checklistTaskIndex;n.getTargetTaskObject(e).removeTask(t)},$=e=>{const t=n.ensureCorrectTabElement(e);let s=t.querySelector(".switch-tab");t.removeChild(s),s=null},H=e=>{const t=n.ensureCorrectTabElement(e);let s=t.querySelector("input");t.removeChild(s),s=null},R=e=>{let t=n.ensureCorrectTabElement(e);document.querySelector(".to-do-tab-section").removeChild(t),t=null},F=()=>{const e=document.querySelector("#current-tab");null!==e&&e.removeAttribute("id")},V=e=>{let t=n.ensureCorrectTaskElement(e);document.querySelector(".to-do-content").removeChild(t),t=null},U=e=>{const t=n.ensureCorrectSubcontainer(e);let s=t.firstElementChild;t.removeChild(s),s=null},W=e=>{const t=n.ensureCorrectSubcontainer(e);let s=t.querySelector("input");t.removeChild(s),s=null},z=e=>{const t=n.ensureCorrectButtonElement(e).previousElementSibling;let s=t.querySelector("label");t.removeChild(s),s=null},J=e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section");let s=t.querySelector(".checklist-input");t.removeChild(s),s=null},Q=e=>{let t=n.ensureCorrectChecklistTaskElement(e);n.ensureCorrectChecklistElement(e).removeChild(t),t=null},X=()=>{document.querySelector(".to-do-content").replaceChildren()},G=(()=>{const e=(e,t="New Tab")=>{const s=c(t),a=j.addNewTabToDOM(s);if(o(a),n.checkIfOnlyOneTab()){const e=l();j.setFirstTabToCurrentTab(e)}},t=(e,t="New Task Title",n="Task Due Date",a="Task Description",o="Task Notes",c=!1,r=!1)=>{const i=d(t,n,a,o,c,r),l=j.addNewTaskToDOM(i);return s(l),i},s=e=>{S(e),v(e),L(e),D(e),w(e),N(e)},a=e=>{O(e),A(e),q(e)},o=e=>{h(e),f(e),E(e)};return{addTab:e,insertTabInputElement:e=>{if(!n.checkForTabInputElement(e)){const t=j.insertTabInputElement(e);$(e),j.setTabInputElementValue(e,t),C(t)}},updateTab:e=>{if("Enter"===e.code){r(e);const t=j.insertTabNameElement(e);H(e),E(t)}},removeTab:e=>{if(P(e),R(e),n.checkIfWasCurrentTab(e)){const e=l();j.setFirstTabToCurrentTab(e)}},switchTab:e=>{n.checkIfWasCurrentTab(e)||(i(e),F(),j.setCurrentTabDOM(e),X(),j.loadTasksFromNewCurrentTab())},newTask:t,removeTask:e=>{B(e),V(e)},insertTaskInputElement:e=>{if(!n.checkForTaskSubcontainerInputElement(e)){U(e);const t=j.insertTaskInputElement(e);j.setTaskInputElementValue(e,t),I(t)}},updateTask:e=>{"Enter"===e.code&&(u(e),j.insertTaskSubcontentElement(e),W(e))},toggleTaskComplete:e=>{const t=n.getTaskIndex(e);k(e),j.toggleTaskDOMComplete(t)},addNewChecklistTask:e=>{const t=n.getTaskIndex(e),s=T(t),o=j.addNewChecklistTaskToDOM(t,s);a(o)},insertChecklistTaskInputElement:e=>{if(!n.checkForChecklistTaskInputElement(e)){z(e);const t=j.insertChecklistTaskInputElement(e);j.setChecklistTaskInputElementValue(e,t),x(t)}},updateChecklistTask:e=>{"Enter"===e.code&&(m(e),j.insertChecklistTaskDescriptionElement(e),J(e))},toggleChecklistTaskComplete:e=>{const t=n.getTaskIndex(e),s=n.getChecklistTaskIndex(e);b(e),j.toggleChecklistTaskDOMComplete(t,s)},removeChecklistTask:e=>{M(e),Q(e)},toggleTaskPin:e=>{const t=n.getTaskIndex(e);p(e),j.changePinButtonImage(t),j.shiftTaskElementPosition(t)},addTaskListeners:s,addChecklistTaskListeners:a,toggleDisplayTaskDetails:e=>{j.toggleDisplayTaskDetails(e),j.rotateChevronButton(e)},addTabListeners:o,loadInitialPage:()=>{e(event,"Instructions");const s=t(event,"Quick Tips! Click the pin button to pin a task to the top of the list.","Tomorrow, next week, or whenever your task is due, you can add it here!\n            Click the arrow button to toggle between showing and hiding task details.","Add a description of your task here! Click the pencil buttons to edit the various parts of your task.","Jot down some notes here! Mark your task as complete when you're done, or remove it from the list by clicking the X button.",!0,!0);j.toggleTaskDOMComplete(s),j.changePinButtonImage(s),j.shiftTaskElementPosition(s),(e=>{[["If your task has multiple steps, try breaking them down into a checklist! Click the plus sign button to add steps as needed.",!0],["Have a new task you want to keep track of? Add it to the list by clicking on the 'New Task' button below!",!0],["Organize the different types of tasks in your life by creating themed tabs. \n            Create a new tab by clicking on the plus sign button at the top of the list.\n            Change tabs by clicking on different tab names.",!0]].forEach((t=>{const s=T(e,t[0],t[1]),n=j.addNewChecklistTaskToDOM(e,s);j.toggleChecklistTaskDOMComplete(e,s),a(n)}))})(s)}}})();g(),h(),f(),j.setDefaultCurrentTabDOM(0),E(),y(),S(),v(),L(),D(),O(),A(),q(),w(),N(),G.loadInitialPage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFBMENDLElBQzVDLElBQUlDLEVBQVksR0FJaEIsT0FBT0MsT0FBT0MsT0FBT0gsRUFBUSxDQUN6QkksUUFBUUMsSUFDSkosRUFBVUssS0FBS0QsR0FKWkosRUFBVU0sT0FBUyxHQVExQkMsV0FBV0MsR0FDUFIsRUFBVVEsUUFBU0MsQ0FDdkIsRUFDQUMsa0JBQWlCLElBQ05WLEVBRVhXLHlCQUF5QkgsR0FDZFIsRUFBVVEsSUFFdkIsRUNqQkFJLEVBQVcsTUFDYixJQUFJQyxFQUFhLEVBQ2pCLE1BQU1DLEVBQXFCLElBQ2hCRCxFQVVYLElBQUlkLEVBQVMsQ0FDVGUscUJBQ0FDLG1CQVZ3QkMsSUFDeEJILEVBQWFHLENBQWEsRUFVMUJDLG9CQVJ3QixLQUN4QixNQUFNQyxFQUFrQkosSUFFeEIsT0FEeUJGLEVBQVNELHlCQUF5Qk8sRUFDcEMsR0FVM0IsT0FIQWpCLE9BQU9DLE9BQU9ILEVBQ1ZELEVBQXVDQyxJQUVwQ0EsQ0FDVixFQXRCZ0IsR0NIWG9CLEVBQXlCLENBQUNwQixFQUFRcUIsS0FDcEMsSUFBSUMsRUFBUUQsRUFDWixPQUFPbkIsT0FBT0MsT0FBT0gsRUFBUSxDQUN6QnVCLGFBQVksSUFDREQsRUFFWEUsYUFBYUMsR0FDVEgsRUFBUUcsQ0FDWixHQUNGLEVDUEFDLEVBQWtCLE1BQ3BCLE1BQU1DLEVBQTJCQyxJQUM3QixJQUFJQyxFQUFhRCxFQUFNRSxPQUFPQyxjQUM5QixLQUE0QyxjQUFyQ0YsRUFBV0csYUFBYSxVQUMzQkgsRUFBYUEsRUFBV0UsY0FFNUIsT0FBT0YsQ0FBVSxFQTJCZkksRUFBNEJMLElBQzlCLElBQUlNLEVBQWNOLEVBQU1FLE9BQU9DLGNBQzNCSSxFQUFZQyxNQUFNQyxLQUFLSCxFQUFZQyxXQUN2QyxNQUFRQSxFQUFVRyxTQUFTLGVBQ3ZCSixFQUFjQSxFQUFZSCxjQUMxQkksRUFBWUMsTUFBTUMsS0FBS0gsRUFBWUMsV0FFdkMsT0FBT0QsQ0FBVyxFQUVoQkssRUFBNkJYLElBQy9CLElBQUlZLEVBQW1CWixFQUFNRSxPQUFPQyxjQUNoQ0ksRUFBWUMsTUFBTUMsS0FBS0csRUFBaUJMLFdBQzVDLE1BQVFBLEVBQVVHLFNBQVMsNEJBQ3ZCRSxFQUFtQkEsRUFBaUJULGNBQ3BDSSxFQUFZQyxNQUFNQyxLQUFLRyxFQUFpQkwsV0FFNUMsT0FBT0ssQ0FBZ0IsRUFVckJDLEVBQXVCYixJQUN6QixNQUNNbkIsRUFEY3dCLEVBQXlCTCxHQUNuQmMsUUFBUUMsVUFDNUJ4QixFQUFrQk4sRUFBU0UscUJBR2pDLE9BRnlCRixFQUFTRCx5QkFBeUJPLEdBQ3ZCUCx5QkFBeUJILEVBQzVDLEVBRWZtQyxFQUE4QmhCLElBQ2hDLElBQUlpQixFQUFnQmpCLEVBQU1FLE9BQzFCLEtBQWlDLFdBQTFCZSxFQUFjQyxTQUNqQkQsRUFBZ0JBLEVBQWNkLGNBRWxDLE9BQU9jLENBQWEsRUFxQmxCRSxFQUFxQ25CLElBQ3ZDLElBQUlvQixFQUF1QnBCLEVBQU1FLE9BQzdCSyxFQUFZQyxNQUFNQyxLQUFLVyxFQUFxQmIsV0FDaEQsTUFBUUEsRUFBVUcsU0FBUyxtQkFDdkJVLEVBQXVCQSxFQUFxQmpCLGNBQzVDSSxFQUFZQyxNQUFNQyxLQUFLVyxFQUFxQmIsV0FFaEQsT0FBT2EsQ0FBb0IsRUE2Qi9CLE1BQU8sQ0FBRXJCLDBCQUF5QnNCLHdCQXpIRHJCLEdBRWdCLFVBRDFCRCxFQUF3QkMsR0FDNUJzQixrQkFBa0JKLFFBdUhzQksscUJBakg3QnZCLEdBRVksZ0JBRG5CRCxFQUF3QkMsR0FDNUJJLGFBQWEsTUFnSDVCb0Isa0JBMUdzQixLQUN0QixNQUFNQyxFQUFpQkMsU0FBU0MsY0FBYyxzQkFFOUMsT0FBd0IsSUFEUG5CLE1BQU1DLEtBQUtnQixFQUFlRyxpQkFBaUIsZUFDL0NqRCxNQUlaLEVBbUdrQjBCLDJCQUEwQk0sNEJBQzdDa0IscUNBaEYwQzdCLEdBRVMsVUFEMUJXLEVBQTBCWCxHQUM5QnNCLGtCQUFrQkosUUE4RURMLHNCQUFxQkcsNkJBQzNEYyxjQTFEbUI5QixJQUNuQixNQUFNaUIsRUFBZ0JELEVBQTJCaEIsR0FFakQsT0FEc0JRLE1BQU1DLEtBQUtRLEVBQWNWLFVBQzNCLEVBdURMd0Isb0JBckRVL0IsSUFDekIsTUFBTVksRUFBbUJELEVBQTBCWCxHQUVuRCxPQUQ0QlEsTUFBTUMsS0FBS0csRUFBaUJMLFVBQzlCLEVBa0RVeUIsOEJBaEREaEMsSUFDbkMsSUFBSWlDLEVBQW1CakMsRUFBTUUsT0FDekJLLEVBQVlDLE1BQU1DLEtBQUt3QixFQUFpQjFCLFdBQzVDLE1BQVFBLEVBQVVHLFNBQVMsY0FDdkJ1QixFQUFtQkEsRUFBaUI5QixjQUNwQ0ksRUFBWUMsTUFBTUMsS0FBS3dCLEVBQWlCMUIsV0FFNUMsT0FBTzBCLENBQWdCLEVBMEN2QmQsb0NBQW1DZSxrQ0EvQklsQyxHQUlsQixPQUhRbUIsRUFBa0NuQixHQUNUMkIsY0FBYywrQkFDdEJBLGNBQWMsb0JBNkI1RFEsNkJBdEJrQ25DLElBQ2xDLE1BQU1vQyxFQUFhdkIsRUFBb0JiLEdBRWpDcUMsRUFEdUJsQixFQUFrQ25CLEdBQ2ZjLFFBQVF1QixtQkFFeEQsT0FENEJELEVBQVdwRCx5QkFBeUJxRCxFQUN0QyxFQWlCSUMsYUFmWnRDLEdBQ0VLLEVBQXlCTCxHQUNuQmMsUUFBUUMsVUFhVXdCLHNCQVZqQnZDLEdBQ0VtQixFQUFrQ25CLEdBQ2ZjLFFBQVF1QixtQkFTL0QsRUF2SXVCLEdDRmxCRyxFQUErQixDQUFDcEUsRUFBUXFFLEtBQzFDLElBQUlDLEVBQWNELEVBQ2xCLE9BQU9uRSxPQUFPQyxPQUFPSCxFQUFRLENBQ3pCdUUsbUJBQWtCLElBQ1BELEVBRVhFLG1CQUFtQkMsR0FDZkgsRUFBY0csQ0FDbEIsR0FDRixFQ09BQyxFQUE2QixDQUFDMUUsRUFBUTJFLEtBQ3hDLElBQUlDLEVBQVlELEVBQ2hCLE9BQU96RSxPQUFPQyxPQUFPSCxFQUFRLENBQ3pCNkUsdUJBRVFELEdBREFBLENBS1IsRUFDQUUsa0JBQWlCLElBQ05GLEdBRWIsRUNyQkFHLEVBQzJCLENBQUNDLEVBQVEsYUFDbEMsTUFBTUMsRUNORSxDQUFDM0QsSUFDYixJQUFJdEIsRUFBUyxDQUFDLEVBS2QsT0FKQUUsT0FBT0MsT0FBT0gsRUFDVm9CLEVBQXVCcEIsRUFBUXNCLEdBQy9CdkIsRUFBdUNDLElBRXBDQSxDQUFNLEVEQU1rRixDQUFRRixHQUN2QixPQUFPbkUsRUFBU1QsUUFBUTZFLEVBQU8sRUFIakNGLEVBS21CbkQsSUFDakIsTUFBTW5CLEVBQVFtQixFQUFNRSxPQUFPQyxjQUFjVyxRQUFReUMsU0FDL0J0RSxFQUFTRCx5QkFBeUJILEdBQzFDZSxhQUFhSSxFQUFNRSxPQUFPc0QsTUFBTSxFQVI1Q0wsRUFVd0JuRCxJQUN0QixNQUNNbkIsRUFEZ0JpQixFQUFnQkMsd0JBQXdCQyxHQUNsQ2MsUUFBUXlDLFNBQ3BDdEUsRUFBU0csbUJBQW1CUCxFQUFLLEVBYm5Dc0UsRUFlOEIsS0FDNUIsTUFBTU0sRUFBV3hFLEVBQVNGLG9CQUMxQixJQUFJMkUsRUFDSixJQUFLLE1BQU1DLEtBQU9GLEVBQ2QsUUFBc0IzRSxJQUFsQjJFLEVBQVNFLEdBR1QsT0FGQTFFLEVBQVNHLG1CQUFtQnVFLEdBQzVCRCxFQUFXQyxFQUNKRCxDQUVmLEVBeEJGUCxFQTBCc0IsQ0FBQ3pELEVBQU0saUJBQWtCa0UsRUFBUSxnQkFBaUJsQixFQUFZLG1CQUFvQm1CLEVBQU0sYUFBY0MsR0FBTyxFQUFPZCxHQUFVLEtBQ2xKLE1BQU16RCxFQUFrQk4sRUFBU0UscUJBQzNCRCxFQUFhRCxFQUFTRCx5QkFBeUJPLEdBQy9Dd0UsRUU1QkcsRUFBQ3JFLEVBQU9rRSxFQUFTbEIsRUFBYW1CLEVBQU9DLEVBQVFkLEtBQzFELElBQUk1RSxFQUFTLENBQUMsRUFXZCxPQVZBRSxPQUFPQyxPQUFPSCxFQUNWb0IsRUFBdUJwQixFQUFRc0IsR0FDL0I4QyxFQUE2QnBFLEVBQVFzRSxHQ2JaLEVBQUN0RSxFQUFRNEYsS0FDdEMsSUFBSUosRUFBVUksRUFDZCxPQUFPMUYsT0FBT0MsT0FBT0gsRUFBUSxDQUN6QjZGLGVBQWMsSUFDSEwsRUFFWE0sZUFBZUMsR0FDWFAsRUFBVU8sQ0FDZCxHQUNGLEVES0VDLENBQXlCaEcsRUFBUXdGLEdFZFYsRUFBQ3hGLEVBQVFpRyxLQUNwQyxJQUFJUixFQUFRUSxFQUNaLE9BQU8vRixPQUFPQyxPQUFPSCxFQUFRLENBQ3pCa0csYUFBWSxJQUNEVCxFQUVYVSxhQUFhQyxHQUNUWCxFQUFRVyxDQUNaLEdBQ0YsRUZNRUMsQ0FBdUJyRyxFQUFReUYsR0dmUCxFQUFDekYsRUFBUXNHLEtBQ3JDLElBQUlaLEVBQVNZLEVBQ2IsT0FBT3BHLE9BQU9DLE9BQU9ILEVBQVEsQ0FDekJ1RyxvQkFFUWIsR0FEQUEsQ0FLUixFQUNBYyxlQUFjLElBQ0hkLEdBRWIsRUhJRWUsQ0FBd0J6RyxFQUFRMEYsR0FDaENoQixFQUEyQjFFLEVBQVE0RSxHQUNuQzdFLEVBQXVDQyxJQUVwQ0EsQ0FBTSxFRmdCTzBHLENBQVNwRixFQUFPa0UsRUFBU2xCLEVBQWFtQixFQUFPQyxFQUFRZCxHQUVyRSxPQURxQjlELEVBQVdWLFFBQVF1RixFQUNyQixFQS9CckJaLEVBaUMwQm5ELElBQ3hCLE1BQU1vQyxFQUFhdEMsRUFBZ0JlLG9CQUFvQmIsR0FDakQrRSxFQUFvQi9FLEVBQU1FLE9BQU9zRCxNQUNqQ3dCLEVBQXVCbEYsRUFBZ0JpQyxvQkFBb0IvQixHQUNqRSxPQUFJZ0YsRUFBcUJ0RSxTQUFTLHVCQUN2QjBCLEVBQVd4QyxhQUFhbUYsR0FDeEJDLEVBQXFCdEUsU0FBUywwQkFDOUIwQixFQUFXOEIsZUFBZWEsR0FDMUJDLEVBQXFCdEUsU0FBUyw2QkFDOUIwQixFQUFXUSxtQkFBbUJtQyxHQUM5QkMsRUFBcUJ0RSxTQUFTLHVCQUM5QjBCLEVBQVdtQyxhQUFhUSxRQUQ1QixDQUVOLEVBN0NINUIsRUErQzBCbkQsSUFDTEYsRUFBZ0JlLG9CQUFvQmIsR0FDNUNpRCxzQkFBc0IsRUFqRG5DRSxFQW1EZ0MsQ0FBQ3BDLEVBQVcyQixFQUFZLDZCQUE4Qk0sR0FBVSxLQUM5RixNQUNNWixFQURtQm5ELEVBQVNLLHNCQUNFTix5QkFBeUIrQixHQUN2RGtFLEVNL0NjLEVBQUN2QyxFQUFhTSxLQUN0QyxJQUFJNUUsRUFBUyxDQUFDLEVBS2QsT0FKQUUsT0FBT0MsT0FBT0gsRUFDVm9FLEVBQTZCcEUsRUFBUXNFLEdBQ3JDSSxFQUEyQjFFLEVBQVE0RSxJQUVoQzVFLENBQU0sRU55Q2dCOEcsQ0FBb0J4QyxFQUFhTSxHQUUxRCxPQUQ4QlosRUFBVzVELFFBQVF5RyxFQUNyQixFQXhEOUI5QixFQTBEb0NuRCxJQUNsQyxNQUFNa0YsRUFBc0JwRixFQUFnQnFDLDZCQUE2Qm5DLEdBQ25FbUYsRUFBOEJuRixFQUFNRSxPQUFPc0QsTUFDakQwQixFQUFvQnRDLG1CQUFtQnVDLEVBQTRCLEVBN0RyRWhDLEVBK0RtQ25ELElBQ0xGLEVBQWdCcUMsNkJBQTZCbkMsR0FDckRpRCxzQkFBc0IsRUFqRTVDRSxFQW1FcUJuRCxJQUNBRixFQUFnQmUsb0JBQW9CYixHQUM1QzJFLG1CQUFtQixFT3pFaENTLEVBQ3dCLEtBQ0QxRCxTQUFTQyxjQUFjLFlBQy9CMEQsaUJBQWlCLFFBQVNDLEVBQWFDLE9BQU8sRUFIN0RILEVBSytCLENBQUNJLEVBQU05RCxZQUNwQyxNQUFNK0QsRUFBaUJqRixNQUFNQyxLQUFLK0UsRUFBTTVELGlCQUFpQixjQUN6RCxJQUFLLE1BQU04RCxLQUFVRCxFQUNqQkMsRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWFLLHNCQUNsRCxFQVRGUCxFQVcyQlEsSUFDekJBLEVBQWFQLGlCQUFpQixVQUFXQyxFQUFhTyxVQUFTLEVBWmpFVCxFQWNpQyxDQUFDSSxFQUFNOUQsWUFDdEMsTUFBTW9FLEVBQW1CdEYsTUFBTUMsS0FBSytFLEVBQU01RCxpQkFBaUIsZ0JBQzNELElBQUssTUFBTThELEtBQVVJLEVBQ2pCSixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYVMsVUFDakQsRUFsQkhYLEVBb0IyQixDQUFDSSxFQUFNOUQsWUFDaEMsTUFBTXNFLEVBQW1CeEYsTUFBTUMsS0FBSytFLEVBQU01RCxpQkFBaUIsZ0JBQzNELElBQUssTUFBTThELEtBQVVNLEVBQ2pCTixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYVcsVUFDakQsRUF4QkhiLEVBMEJ5QixLQUNEMUQsU0FBU0MsY0FBYyxtQkFDL0IwRCxpQkFBaUIsUUFBU0MsRUFBYXZCLFFBQVEsRUE1Qi9EcUIsRUE4QmtDLENBQUNJLEVBQU05RCxZQUN2QyxNQUFNd0UsRUFBb0IxRixNQUFNQyxLQUFLK0UsRUFBTTVELGlCQUFpQix1QkFDNUQsSUFBSyxNQUFNOEQsS0FBVVEsRUFDakJSLEVBQU9MLGlCQUFpQixRQUFTQyxFQUFhMUcsV0FDakQsRUFsQ0h3RyxFQW9DMkIsQ0FBQ0ksRUFBTTlELFlBQ2hDLE1BQU15RSxFQUFrQjNGLE1BQU1DLEtBQUsrRSxFQUFNNUQsaUJBQWlCLGVBQzFELElBQUssTUFBTThELEtBQVVTLEVBQ2pCVCxFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYWMsdUJBQ2pELEVBeENIaEIsRUEwQzRCUSxJQUMxQkEsRUFBYVAsaUJBQWlCLFVBQVdDLEVBQWFlLFdBQVcsRUEzQ25FakIsRUE2Q29DLENBQUNJLEVBQU05RCxZQUN6QyxNQUFNNEUsRUFBeUJkLEVBQU01RCxpQkFBaUIsNEJBQ3RELElBQUssTUFBTTJFLEtBQVlELEVBQ25CQyxFQUFTbEIsaUJBQWlCLFFBQVNDLEVBQWFrQixtQkFDbkQsRUFqREhwQixFQW1Ea0MsQ0FBQ0ksRUFBTTlELFlBQ3ZDLE1BQU0rRSxFQUEwQmpCLEVBQU01RCxpQkFBaUIsdUJBQ3ZELElBQUssTUFBTThELEtBQVVlLEVBQ2pCZixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYW9CLG9CQUNqRCxFQXZESHRCLEVBeURvQyxDQUFDSSxFQUFNOUQsWUFDekMsTUFBTWlGLEVBQXVCbkcsTUFBTUMsS0FBSytFLEVBQU01RCxpQkFBaUIseUJBQy9ELElBQUssTUFBTThELEtBQVVpQixFQUNqQmpCLEVBQU9MLGlCQUFpQixRQUFTQyxFQUFhc0IsZ0NBQ2pELEVBN0RIeEIsRUErRHFDUSxJQUNuQ0EsRUFBYVAsaUJBQWlCLFVBQVdDLEVBQWF1QixvQkFBb0IsRUFoRTVFekIsRUFrRTZDLENBQUNJLEVBQU05RCxZQUNsRCxNQUFNb0YsRUFBOEJ0QixFQUFNNUQsaUJBQWlCLGdDQUMzRCxJQUFLLE1BQU0yRSxLQUFZTyxFQUNuQlAsRUFBU2xCLGlCQUFpQixRQUFTQyxFQUFheUIsNEJBQ25ELEVBdEVIM0IsRUF3RXFDLENBQUNJLEVBQU05RCxZQUMxQyxNQUFNc0YsRUFBNkJ4QixFQUFNNUQsaUJBQWlCLDBCQUMxRCxJQUFLLE1BQU04RCxLQUFVc0IsRUFDakJ0QixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYTJCLG9CQUNqRCxFQTVFSDdCLEVBOEVnQyxDQUFDSSxFQUFNOUQsWUFDckMsTUFBTXdGLEVBQWlCMUIsRUFBTTVELGlCQUFpQixjQUM5QyxJQUFLLE1BQU04RCxLQUFVd0IsRUFDakJ4QixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYTZCLGNBQ2pELEVBbEZIL0IsRUFvRjJDLENBQUNJLEVBQU05RCxZQUNoRCxNQUFNMEYsRUFBMkI1QixFQUFNNUQsaUJBQWlCLDhCQUN4RCxJQUFLLE1BQU04RCxLQUFVMEIsRUFDakIxQixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYStCLHlCQUNsRCxFQ3RGRkMsRUFBdUIsTUFDekIsTUEwRU1DLEVBQW1CMUksSUFDckIsTUFDTTJJLEVBRG1CdkksRUFBU0ssc0JBQ0tOLHlCQUF5QkgsR0FDMUQ0SSxFQUFjL0YsU0FBU0MsY0FBYyxrQkFDckMrRixFQUFjaEcsU0FBU2lHLGNBQWMsT0FDM0NELEVBQVluSCxVQUFVcUgsSUFBSSxjQUMxQkYsRUFBWTVHLFFBQVFDLFVBQVlsQyxFQUNoQyxNQUFNZ0osRUFBZUwsRUFBYzdILGVBQzdCbUksRUFBcUJOLEVBQWM3RSxxQkFDbkNvRixFQUFpQlAsRUFBY3ZELGlCQUMvQitELEVBQWVSLEVBQWNsRCxlQUM3QjJELEVBQW9CLDJCQUEyQnBKLElBaUVyRCxPQWhFQTZJLEVBQVlRLFVBQVksa3JGQW1EUFIsRUFBWS9GLGNBQWMsZ0JBQ2xDd0csWUFBY04sRUFDSkgsRUFBWS9GLGNBQWMsbUJBQ2xDd0csWUFBYyxXQUFhSixFQUNmTCxFQUFZL0YsY0FBYyxzQkFDbEN3RyxZQUFjLGdCQUFrQkwsRUFDOUJKLEVBQVkvRixjQUFjLGdCQUNsQ3dHLFlBQWMsVUFBWUgsRUFDbkNQLEVBQVlXLFlBQVlWLEdBQ0ZBLEVBQVkvRixjQUFjLFNBQ2xDMEcsYUFBYSxNQUFPSixHQUNUUCxFQUFZL0YsY0FBYyw0QkFDbEMwRyxhQUFhLEtBQU1KLEdBQzdCUCxDQUFXLEVBc0RoQlksRUFBeUJ2SCxJQUMzQixNQUFNVCxFQUFjb0IsU0FBU0MsY0FBYyxxQkFBcUJaLE9BQzFEd0gsRUFBbUJqSSxFQUFZcUIsY0FBYyw0QkFDekIxQyxFQUFTSyxzQkFDQ04seUJBQXlCK0IsR0FDdEJtQyxxQkFFbkNxRixFQUFpQkMsU0FBVSxFQUMzQmxJLEVBQVlDLFVBQVVxSCxJQUFJLG9CQUUxQlcsRUFBaUJDLFNBQVUsRUFDM0JsSSxFQUFZQyxVQUFVa0ksT0FBTyxrQkFDaEMsRUFFQ0MsRUFBMkIsQ0FBQzNILEVBQVc0SCxLQUN6QyxNQUNNMUcsRUFEY1AsU0FBU0MsY0FBYyxxQkFBcUJaLE1BQzNCWSxjQUFjLGNBRzdDdUQsRUFGbUJqRyxFQUFTSyxzQkFDRU4seUJBQXlCK0IsR0FDdEIvQix5QkFBeUIySixHQUMxRHhELEVBQThCRCxFQUFvQnZDLHFCQUVsRGlHLEdBRDRCMUQsRUFBb0JoQyxvQkFDekJ4QixTQUFTaUcsY0FBYyxRQW9CcEQsT0FuQkFpQixFQUFxQnJJLFVBQVVxSCxJQUFJLGtCQUNuQ2dCLEVBQXFCOUgsUUFBUXVCLG1CQUFxQnNHLEVBQ2xEQyxFQUFxQlYsVUFBWSxnSEFFY25ILEtBQWE0SCxrRkFDNUI1SCxLQUFhNEgsNmRBV0xDLEVBQXFCakgsY0FBYywrQkFDM0N3RyxZQUFjaEQsRUFDOUNsRCxFQUFpQm1HLFlBQVlRLEdBQ3RCQSxDQUFvQixFQWtDekJDLEVBQWlDLENBQUM5SCxFQUFXc0IsS0FDL0MsTUFHTXlHLEVBSGNwSCxTQUFTQyxjQUFjLHFCQUFxQlosT0FDdkJZLGNBQWMsK0JBQStCVSxPQUNoQ1YsY0FBYywrQkFDVEEsY0FBYyxnQ0FHbkV1RCxFQUZtQmpHLEVBQVNLLHNCQUNFTix5QkFBeUIrQixHQUN0Qi9CLHlCQUF5QnFELEdBQ2hFeUcsRUFBMEJOLFFBQVV0RCxFQUFvQmhDLG9CQUNwRGdDLEVBQW9CaEMsb0JBQ3BCNEYsRUFBMEJ2SSxVQUFVcUgsSUFBSSw0QkFFeENrQixFQUEwQnZJLFVBQVVrSSxPQUFPLDJCQUM5QyxFQWlGQ00sRUFBcUJDLElBQ3ZCLE1BQU1DLEVBQW1CaEssRUFBU0ssc0JBQzVCNEosRUFBbUJGLEVBQWVsSSxRQUFRQyxVQUMxQ29JLEVBQW9CRixFQUFpQmpLLHlCQUF5QmtLLEdBRTlERSxFQURZSixFQUFlckgsY0FBYyxjQUNkQSxjQUFjLE9BQzNDd0gsRUFBa0J2RSxpQkFDbEJ3RSxFQUFlZixhQUFhLE1BQU8sMkJBRW5DZSxFQUFlZixhQUFhLE1BQU8sNEJBQ3RDLEVBRUNnQixFQUFnQ0wsSUFDbEMsTUFBTUMsRUFBbUJoSyxFQUFTSyxzQkFDNUI0SixFQUFtQkYsRUFBZWxJLFFBQVFDLFVBQzFDb0ksRUFBb0JGLEVBQWlCaksseUJBQXlCa0ssR0FDOURJLEVBQXFCNUgsU0FBU0MsY0FBYyxrQkFDbEQsR0FBSXdILEVBQWtCdkUsaUJBQWtCLENBQ3BDLE1BQU0yRSxFQUEyQi9JLE1BQU1DLEtBQUtpQixTQUFTRSxpQkFBaUIsaUJBQ3RFLEdBQXdDLElBQXBDMkgsRUFBeUI1SyxPQUN6QjJLLEVBQW1CRSxhQUFhUixFQUFnQk0sRUFBbUJoSSx1QkFDaEUsQ0FDSCxNQUNNbUksRUFBd0JGLEVBRFJBLEVBQXlCNUssT0FBUyxHQUV4RCxJQUFLLE1BQU0rSyxLQUFxQkgsRUFBMEIsQ0FFdEQsR0FBSUwsRUFEMkJRLEVBQWtCNUksUUFBUUMsVUFDVixDQUMzQ3VJLEVBQW1CRSxhQUFhUixFQUFnQlUsR0FDaEQsS0FDSixDQUFXQSxJQUFzQkQsR0FDN0JBLEVBQXNCRSxzQkFBc0IsV0FBWVgsRUFFaEUsQ0FDSixDQUNBQSxFQUFlekksVUFBVXFILElBQUksY0FDakMsQ0FBQyxFQStCTCxNQUFPLENBQUVnQyxlQXhiZS9LLElBQ3BCLE1BQU1nTCxFQUFlbkksU0FBU0MsY0FBYyxZQUN0Q0YsRUFBaUJDLFNBQVNDLGNBQWMsc0JBQ3hDbUksRUFBYXBJLFNBQVNpRyxjQUFjLE9BRXBDb0MsRUFEZTlLLEVBQVNELHlCQUF5QkgsR0FDaEJjLGVBaUJ2QyxPQWhCQW1LLEVBQVd2SixVQUFVcUgsSUFBSSxhQUN6QmtDLEVBQVdoSixRQUFReUMsU0FBVzFFLEVBQzlCaUwsRUFBVzVCLFVBQVksMlpBV0o0QixFQUFXbkksY0FBYyxhQUNqQ3dHLFlBQWM0QixFQUN6QnRJLEVBQWUrSCxhQUFhTSxFQUFZRCxHQUNqQ0MsQ0FBVSxFQWthSUUsd0JBaGFPLENBQUNoSyxFQUFPNEYsS0FDcEMsTUFDTS9HLEVBRGFpQixFQUFnQkMsd0JBQXdCQyxHQUNsQ2MsUUFBUXlDLFNBRTNCSCxFQURZbkUsRUFBU0QseUJBQXlCSCxHQUMxQmMsZUFDMUJpRyxFQUFhcEMsTUFBUUosQ0FBTyxFQTRaNUJ1QyxzQkExWjJCM0YsSUFDM0IsTUFBTUMsRUFBYUgsRUFBZ0JDLHdCQUF3QkMsR0FDckQ0RixFQUFlbEUsU0FBU2lHLGNBQWMsU0FLNUMsT0FKQS9CLEVBQWFyRixVQUFVcUgsSUFBSSxrQkFDM0JoQyxFQUFheUMsYUFBYSxPQUFRLFFBQ2xDcEksRUFBV3VKLGFBQWE1RCxFQUFjM0YsRUFBV2dLLFlBQ2pEckUsRUFBYXNFLFFBQ050RSxDQUFZLEVBbVpJdUUscUJBalpHbkssSUFDMUIsTUFBTUMsRUFBYUgsRUFBZ0JDLHdCQUF3QkMsR0FDckRuQixFQUFRb0IsRUFBV2EsUUFBUXlDLFNBRTNCSCxFQURZbkUsRUFBU0QseUJBQXlCSCxHQUMxQmMsZUFDcEJ5SyxFQUFZMUksU0FBU2lHLGNBQWMsVUFDekN5QyxFQUFVN0osVUFBVXFILElBQUksY0FDeEIsTUFBTXlDLEVBQWdCM0ksU0FBU2lHLGNBQWMsTUFLN0MsT0FKQTBDLEVBQWM5SixVQUFVcUgsSUFBSSxZQUM1QnlDLEVBQWNsQyxZQUFjL0UsRUFDNUJnSCxFQUFVaEMsWUFBWWlDLEdBQ3RCcEssRUFBV3VKLGFBQWFZLEVBQVduSyxFQUFXZ0ssWUFDdkNoSyxDQUFVLEVBcVk0QnFLLHdCQW5ZaEJ6TCxJQUM3QixNQUNNSyxFQURpQndDLFNBQVNDLGNBQWMsc0JBQ1pBLGNBQWMsb0JBQW9COUMsT0FDakQsT0FBZkssR0FHSkEsRUFBV21KLGFBQWEsS0FBTSxjQUFjLEVBOFg1Q2tDLGlCQTVYc0J2SyxJQUNBRixFQUFnQkMsd0JBQXdCQyxHQUNoRHFJLGFBQWEsS0FBTSxjQUFjLEVBMFg3Qm1DLHdCQXhYV0MsU0FDUDNMLElBQWxCMkwsR0FHbUIvSSxTQUFTQyxjQUFjLHNCQUNkQSxjQUFjLG9CQUFvQjhJLE9BQ3pEcEMsYUFBYSxLQUFNLGNBQWMsRUFrWENkLGtCQUMzQ25CLHVCQW5TNEJwRyxJQUM1QixNQUFNWSxFQUFtQmQsRUFBZ0JhLDBCQUEwQlgsR0FDN0Q0RixFQUFlbEUsU0FBU2lHLGNBQWMsU0FLNUMsT0FKQS9CLEVBQWFyRixVQUFVcUgsSUFBSSxjQUMzQmhDLEVBQWF5QyxhQUFhLE9BQVEsUUFDbEN6SCxFQUFpQjRJLGFBQWE1RCxFQUFjaEYsRUFBaUJxSixZQUM3RHJFLEVBQWFzRSxRQUNOdEUsQ0FBWSxFQTRSSzhFLHlCQTFSSyxDQUFDMUssRUFBTzRGLEtBQ3JDLE1BQU14RCxFQUFhdEMsRUFBZ0JlLG9CQUFvQmIsR0FDakQySyxFQUFhN0ssRUFBZ0JnQyxjQUFjOUIsR0FDakQsSUFBSTRLLEVBQ0FELEVBQVdqSyxTQUFTLG1CQUNwQmtLLEVBQWlCeEksRUFBV3pDLGVBQ3JCZ0wsRUFBV2pLLFNBQVMsc0JBQzNCa0ssRUFBaUJ4SSxFQUFXNkIsaUJBQ3JCMEcsRUFBV2pLLFNBQVMseUJBQzNCa0ssRUFBaUJ4SSxFQUFXTyxxQkFDckJnSSxFQUFXakssU0FBUyxxQkFDM0JrSyxFQUFpQnhJLEVBQVdrQyxnQkFFaENzQixFQUFhcEMsTUFBUW9ILENBQWMsRUE2UWVDLDRCQTNRakI3SyxJQUNqQyxNQUFNWSxFQUFtQmQsRUFBZ0JhLDBCQUEwQlgsR0FDN0RvQyxFQUFhdEMsRUFBZ0JlLG9CQUFvQmIsR0FDakRnRixFQUF1QmxGLEVBQWdCaUMsb0JBQW9CL0IsR0FDakUsSUFBSThLLEVBQ0osR0FBSTlGLEVBQXFCdEUsU0FBUyx1QkFBd0IsQ0FDdEQsTUFBTXFLLEVBQVkzSSxFQUFXekMsZUFDN0JtTCxFQUF3QnBKLFNBQVNpRyxjQUFjLE1BQy9DbUQsRUFBc0J2SyxVQUFVcUgsSUFBSSxlQUNwQ2tELEVBQXNCM0MsWUFBYzRDLENBQ3hDLE1BQU8sR0FBSS9GLEVBQXFCdEUsU0FBUywwQkFBMkIsQ0FDaEUsTUFBTXNLLEVBQWM1SSxFQUFXNkIsaUJBQy9CNkcsRUFBd0JwSixTQUFTaUcsY0FBYyxLQUMvQ21ELEVBQXNCdkssVUFBVXFILElBQUksa0JBQ3BDa0QsRUFBc0IzQyxZQUFjLFdBQWE2QyxDQUNyRCxNQUFPLEdBQUloRyxFQUFxQnRFLFNBQVMsNkJBQThCLENBQ25FLE1BQU11SyxFQUFrQjdJLEVBQVdPLHFCQUNuQ21JLEVBQXdCcEosU0FBU2lHLGNBQWMsS0FDL0NtRCxFQUFzQnZLLFVBQVVxSCxJQUFJLHFCQUNwQ2tELEVBQXNCM0MsWUFBYyxnQkFBa0I4QyxDQUMxRCxNQUFPLEdBQUlqRyxFQUFxQnRFLFNBQVMsdUJBQXdCLENBQzdELE1BQU13SyxFQUFZOUksRUFBV2tDLGVBQzdCd0csRUFBd0JwSixTQUFTaUcsY0FBYyxLQUMvQ21ELEVBQXNCdkssVUFBVXFILElBQUksZUFDcENrRCxFQUFzQjNDLFlBQWMsVUFBWStDLENBQ3BELENBQ0F0SyxFQUFpQjRJLGFBQWFzQixFQUF1QmxLLEVBQWlCcUosV0FBVyxFQWtQakYzQix3QkFBdUJJLDJCQUEwQjlCLGdDQXBNWjVHLElBQ3JDLE1BQ01tTCxFQUR1QnJMLEVBQWdCcUIsa0NBQWtDbkIsR0FDekIyQixjQUFjLCtCQUM5RGlFLEVBQWVsRSxTQUFTaUcsY0FBYyxTQUs1QyxPQUpBL0IsRUFBYXJGLFVBQVVxSCxJQUFJLG1CQUMzQmhDLEVBQWF5QyxhQUFhLE9BQVEsUUFDbEM4QyxFQUF5Qi9DLFlBQVl4QyxHQUNyQ0EsRUFBYXNFLFFBQ050RSxDQUFZLEVBNkxuQndGLGtDQTNMc0MsQ0FBQ3BMLEVBQU80RixLQUM5QyxNQUNNdkQsRUFEdUJ2QyxFQUFnQnFCLGtDQUFrQ25CLEdBQy9CYyxRQUFRdUIsbUJBR2xEZ0osRUFGYXZMLEVBQWdCZSxvQkFBb0JiLEdBQ2hCaEIseUJBQXlCcUQsR0FDWE0scUJBQ3JEaUQsRUFBYXBDLE1BQVE2SCxDQUF3QixFQXFMVkMsc0NBbkxRdEwsSUFDM0MsTUFBTW9CLEVBQXVCdEIsRUFBZ0JxQixrQ0FBa0NuQixHQUN6RXFDLEVBQXFCakIsRUFBcUJOLFFBQVF1QixtQkFDbEQ4SSxFQUEyQi9KLEVBQXFCTyxjQUFjLCtCQUU5RFosRUFEY2pCLEVBQWdCTyx5QkFBeUJMLEdBQy9CYyxRQUFRQyxVQUVoQ3NLLEVBRHNCdkwsRUFBZ0JxQyw2QkFBNkJuQyxHQUNwQjJDLHFCQUMvQzRJLEVBQWtDN0osU0FBU2lHLGNBQWMsU0FDL0Q0RCxFQUFnQ2xELGFBQWEsTUFBTyxhQUFhdEgsS0FBYXNCLEtBQzlFa0osRUFBZ0NoTCxVQUFVcUgsSUFBSSw4QkFDOUMyRCxFQUFnQ3BELFlBQWNrRCxFQUM5Q0YsRUFBeUIvQyxZQUFZbUQsRUFBZ0MsRUF3S3JFMUMsaUNBQWdDMkMscUJBdkpOekssSUFDMUIsTUFBTVQsRUFBY29CLFNBQVNDLGNBQWMscUJBQXFCWixPQUUxRHFCLEVBRG1CbkQsRUFBU0ssc0JBQ0VOLHlCQUF5QitCLEdBRXZEcUksRUFEWTlJLEVBQVlxQixjQUFjLGNBQ1hBLGNBQWMsT0FDM0NTLEVBQVd3QyxpQkFDWHdFLEVBQWVmLGFBQWEsTUFBTywyQkFFbkNlLEVBQWVmLGFBQWEsTUFBTyw0QkFDdEMsRUE2SXFEb0QseUJBM0l4QjFLLElBQzlCLE1BQU1ULEVBQWNvQixTQUFTQyxjQUFjLHFCQUFxQlosT0FFMURxQixFQURtQm5ELEVBQVNLLHNCQUNFTix5QkFBeUIrQixHQUN2RDJLLEVBQW1CcEwsRUFBWVEsUUFBUUMsVUFDdkN1SSxFQUFxQjVILFNBQVNDLGNBQWMsa0JBQ2xELEdBQUlTLEVBQVd3QyxpQkFBa0IsQ0FDN0IsTUFBTTJFLEVBQTJCL0ksTUFBTUMsS0FBS2lCLFNBQVNFLGlCQUFpQixpQkFDdEUsR0FBd0MsSUFBcEMySCxFQUF5QjVLLE9BQ3pCMkssRUFBbUJFLGFBQWFsSixFQUFhZ0osRUFBbUJoSSx1QkFDN0QsQ0FDSCxNQUNNbUksRUFBd0JGLEVBRFJBLEVBQXlCNUssT0FBUyxHQUV4RCxJQUFLLE1BQU0rSyxLQUFxQkgsRUFBMEIsQ0FFdEQsR0FBSW1DLEVBRDJCaEMsRUFBa0I1SSxRQUFRQyxVQUNWLENBQzNDdUksRUFBbUJFLGFBQWFsSixFQUFhb0osR0FDN0MsS0FDSixDQUFXQSxJQUFzQkQsR0FDN0JBLEVBQXNCRSxzQkFBc0IsV0FBWXJKLEVBRWhFLENBQ0osQ0FDQUEsRUFBWUMsVUFBVXFILElBQUksY0FDOUIsS0FBTyxDQUNILE1BQU0rRCxFQUE2Qm5MLE1BQU1DLEtBQUs2SSxFQUFtQjFILGlCQUFpQixrQ0FDbEYsR0FBMEMsSUFBdEMrSixFQUEyQmhOLE9BQzNCMkssRUFBbUJsQixZQUFZOUgsT0FDNUIsQ0FDSCxNQUNNc0wsRUFBMEJELEVBRFZBLEVBQTJCaE4sT0FBUyxHQUUxRCxJQUFLLE1BQU1rTixLQUF1QkYsRUFBNEIsQ0FFMUQsR0FBSUQsRUFENkJHLEVBQW9CL0ssUUFBUUMsVUFDWixDQUM3Q3VJLEVBQW1CRSxhQUFhbEosRUFBYXVMLEdBQzdDLEtBQ0osQ0FBV0EsSUFBd0JELEdBQy9CdEMsRUFBbUJsQixZQUFZOUgsRUFBYXNMLEVBRXBELENBQ0osQ0FDQXRMLEVBQVlDLFVBQVVrSSxPQUFPLGNBQ2pDLENBQUMsRUFrR0RxRCwyQkFoRytCLEtBQy9CLE1BQ01DLEVBRG1COU0sRUFBU0ssc0JBQ0dQLG9CQUNyQyxJQUFLLE1BQU1nQyxLQUFhZ0wsRUFBYSxDQUNqQyxNQUFNM0osRUFBYTJKLEVBQVloTCxHQUMvQixRQUFtQmpDLElBQWZzRCxFQUEwQixDQUMxQixNQUFNNEcsRUFBaUJ6QixFQUFnQnhHLEdBQ3ZDZ0ksRUFBa0JDLEdBQ2xCSyxFQUE2QkwsR0FDN0JWLEVBQXNCdkgsR0FDdEJ1RSxFQUFhMEcsaUJBQWlCaEQsR0FDOUIsTUFBTWlELEVBQXVCN0osRUFBV3JELG9CQUN4QyxJQUFLLE1BQU1zRCxLQUFzQjRKLEVBRTdCLFFBQTRCbk4sSUFEQW1OLEVBQXFCNUosR0FDVixDQUNuQyxNQUFNNkosRUFBMEJ4RCxFQUF5QjNILEVBQVdzQixHQUNwRXdHLEVBQStCOUgsRUFBV3NCLEdBQzFDaUQsRUFBYTZHLDBCQUEwQkQsRUFDM0MsQ0FFUixDQUNKLENBQUMsRUEyRTJCN0UseUJBcENFckgsSUFDOUIsTUFBTU0sRUFBY1IsRUFBZ0JPLHlCQUF5QkwsR0FJcEMsQ0FIRE0sRUFBWXFCLGNBQWMsOEJBQ2hDckIsRUFBWXFCLGNBQWMsd0JBQ3RCckIsRUFBWXFCLGNBQWMsZUFFL0J5SyxTQUFTQyxJQUNDN0wsTUFBTUMsS0FBSzRMLEVBQVE5TCxXQUN2QkcsU0FBUyx1QkFDeEIyTCxFQUFROUwsVUFBVWtJLE9BQU8sc0JBQ3pCNEQsRUFBUTlMLFVBQVVxSCxJQUFJLDJCQUV0QnlFLEVBQVE5TCxVQUFVcUgsSUFBSSxzQkFDdEJ5RSxFQUFROUwsVUFBVWtJLE9BQU8seUJBQzVCLEdBQ0gsRUFxQm9ENkQsb0JBbkI3QnRNLElBQ3pCLE1BQ011TSxFQURnQnpNLEVBQWdCa0IsMkJBQTJCaEIsR0FDL0IyQixjQUFjLE9BQzFDNkssRUFBbUJELEVBQVluTSxhQUFhLFNBQ3pCLE9BQXJCb00sR0FBa0QsNkJBQXJCQSxHQUM3QkQsRUFBWWhNLFVBQVVrTSxPQUFPLDRCQUE0QixHQUN6REYsRUFBWWhNLFVBQVVxSCxJQUFJLGdDQUNFLGdDQUFyQjRFLElBQ1BELEVBQVloTSxVQUFVa0ksT0FBTywrQkFDN0I4RCxFQUFZaE0sVUFBVXFILElBQUksNEJBQzdCLEVBVVIsRUFqYzRCLEdDRHZCOEUsRUFDOEIxTSxJQUM1QixNQUNNbkIsRUFEYWlCLEVBQWdCQyx3QkFBd0JDLEdBQ2xDYyxRQUFReUMsU0FDakN0RSxFQUFTTCxXQUFXQyxFQUFNLEVBSjVCNk4sRUFNOEIxTSxJQUM1QixNQUNNbkIsRUFEY2lCLEVBQWdCTyx5QkFBeUJMLEdBQ25DYyxRQUFRQyxVQUNUOUIsRUFBU0ssc0JBQ2pCVixXQUFXQyxFQUFNLEVBVnBDNk4sRUFZd0MxTSxJQUN0QyxNQUNNbkIsRUFEdUJpQixFQUFnQnFCLGtDQUFrQ25CLEdBQzVDYyxRQUFRdUIsbUJBQ2pCdkMsRUFBZ0JlLG9CQUFvQmIsR0FDNUNwQixXQUFXQyxFQUFNLEVDakJyQzhOLEVBQzRCM00sSUFDMUIsTUFBTUMsRUFBYUgsRUFBZ0JDLHdCQUF3QkMsR0FDM0QsSUFBSWlHLEVBQVloRyxFQUFXMEIsY0FBYyxlQUN6QzFCLEVBQVcyTSxZQUFZM0csR0FDdkJBLEVBQVksTUFMZDBHLEVBTzZCM00sSUFDM0IsTUFBTUMsRUFBYUgsRUFBZ0JDLHdCQUF3QkMsR0FDM0QsSUFBSTRGLEVBQWUzRixFQUFXMEIsY0FBYyxTQUM1QzFCLEVBQVcyTSxZQUFZaEgsR0FDdkJBLEVBQWUsSUFBSSxFQVhyQitHLEVBYStCM00sSUFDN0IsSUFBSUMsRUFBYUgsRUFBZ0JDLHdCQUF3QkMsR0FDbEMwQixTQUFTQyxjQUFjLHNCQUMvQmlMLFlBQVkzTSxHQUMzQkEsRUFBYSxJQUFJLEVBakJuQjBNLEVBbUI0QixLQUMxQixNQUFNek4sRUFBYXdDLFNBQVNDLGNBQWMsZ0JBQ3ZCLE9BQWZ6QyxHQUNBQSxFQUFXMk4sZ0JBQWdCLEtBRzlCLEVBekJIRixFQTJCZ0MzTSxJQUM5QixJQUFJTSxFQUFjUixFQUFnQk8seUJBQXlCTCxHQUNuQzBCLFNBQVNDLGNBQWMsa0JBQy9CaUwsWUFBWXRNLEdBQzVCQSxFQUFjLElBQUksRUEvQnBCcU0sRUFpQzBDM00sSUFDeEMsTUFBTVksRUFBbUJkLEVBQWdCYSwwQkFBMEJYLEdBQ25FLElBQUk4SyxFQUF3QmxLLEVBQWlCVSxrQkFDN0NWLEVBQWlCZ00sWUFBWTlCLEdBQzdCQSxFQUF3QixNQXJDMUI2QixFQXVDOEIzTSxJQUM1QixNQUFNWSxFQUFtQmQsRUFBZ0JhLDBCQUEwQlgsR0FDbkUsSUFBSTRGLEVBQWVoRixFQUFpQmUsY0FBYyxTQUNsRGYsRUFBaUJnTSxZQUFZaEgsR0FDN0JBLEVBQWUsSUFBSSxFQTNDckIrRyxFQTZDeUMzTSxJQUN2QyxNQUNNbUwsRUFEZ0JyTCxFQUFnQmtCLDJCQUEyQmhCLEdBQ2xCOE0sdUJBQy9DLElBQUl6QixFQUEyQkYsRUFBeUJ4SixjQUFjLFNBQ3RFd0osRUFBeUJ5QixZQUFZdkIsR0FDckNBLEVBQTJCLElBQUksRUFsRGpDc0IsRUFvRHVDM00sSUFDckMsTUFDTW1MLEVBRHVCckwsRUFBZ0JxQixrQ0FBa0NuQixHQUN6QjJCLGNBQWMsK0JBQ3BFLElBQUlpRSxFQUFldUYsRUFBeUJ4SixjQUFjLG9CQUMxRHdKLEVBQXlCeUIsWUFBWWhILEdBQ3JDQSxFQUFlLElBQUksRUF6RHJCK0csRUEyRHFDM00sSUFDbkMsSUFBSW9CLEVBQXVCdEIsRUFBZ0JxQixrQ0FBa0NuQixHQUNwREYsRUFBZ0JrQyw4QkFBOEJoQyxHQUN0RDRNLFlBQVl4TCxHQUM3QkEsRUFBdUIsSUFBSSxFQS9EN0J1TCxFQWlFNEIsS0FDQ2pMLFNBQVNDLGNBQWMsa0JBQy9Cb0wsaUJBQWlCLEVDNUR0Q3pILEVBQWUsTUFDakIsTUFBTUMsRUFBUyxDQUFDdkYsRUFBT29ELEVBQVEsYUFDM0IsTUFBTTRKLEVBQWM3SixFQUFtREMsR0FDakUwRyxFQUFheEMsRUFBcUJzQyxlQUFlb0QsR0FFdkQsR0FEQUMsRUFBZ0JuRCxHQUNaaEssRUFBZ0IwQixvQkFBcUIsQ0FDckMsTUFBTWlKLEVBQWdCdEgsSUFDdEJtRSxFQUFxQmtELHdCQUF3QkMsRUFDakQsQ0FBQyxFQW1DQzFHLEVBQVUsQ0FBQy9ELEVBQU9OLEVBQU0saUJBQWtCa0UsRUFBUSxnQkFBaUJsQixFQUFZLG1CQUFvQm1CLEVBQU0sYUFBY0MsR0FBTyxFQUFPZCxHQUFVLEtBQ2pKLE1BQU1rSyxFQUFlL0osRUFBOEN6RCxFQUFPa0UsRUFBU2xCLEVBQWFtQixFQUFPQyxFQUFRZCxHQUN6RzBFLEVBQWNKLEVBQXFCQyxnQkFBZ0IyRixHQUV6RCxPQURBbEIsRUFBaUJ0RSxHQUNWd0YsQ0FBWSxFQWtFakJsQixFQUFvQnRFLElBQ3RCdEMsRUFBMENzQyxHQUMxQ3RDLEVBQW1Dc0MsR0FDbkN0QyxFQUE0Q3NDLEdBQzVDdEMsRUFBMENzQyxHQUMxQ3RDLEVBQXdDc0MsR0FDeEN0QyxFQUFtRHNDLEVBQVksRUFFN0R5RSxFQUE2QnZELElBQy9CeEQsRUFBNEN3RCxHQUM1Q3hELEVBQXFEd0QsR0FDckR4RCxFQUE2Q3dELEVBQXFCLEVBTWhFcUUsRUFBbUJuRCxJQUNyQjFFLEVBQXVDMEUsR0FDdkMxRSxFQUF5QzBFLEdBQ3pDMUUsRUFBbUMwRSxFQUFXLEVBNEJsRCxNQUFPLENBQUV2RSxTQUFRSSxzQkF2SmMzRixJQUMzQixJQUFLRixFQUFnQnVCLHdCQUF3QnJCLEdBQVEsQ0FDakQsTUFBTTRGLEVBQWUwQixFQUFxQjNCLHNCQUFzQjNGLEdBQ2hFMk0sRUFBeUMzTSxHQUN6Q3NILEVBQXFCMEMsd0JBQXdCaEssRUFBTzRGLEdBQ3BEUixFQUFrQ1EsRUFDdEMsQ0FBQyxFQWlKbUNDLFVBL0lyQjdGLElBQ2YsR0FBbUIsVUFBZkEsRUFBTW1OLEtBQWtCLENBQ3hCaEssRUFBMENuRCxHQUMxQyxNQUFNQyxFQUFhcUgsRUFBcUI2QyxxQkFBcUJuSyxHQUM3RDJNLEVBQTBDM00sR0FDMUNvRixFQUFtQ25GLEVBQ3ZDLENBQUMsRUF5SThDOEYsVUF2SWhDL0YsSUFHZixHQUZBME0sRUFBb0QxTSxHQUNwRDJNLEVBQTRDM00sR0FDeENGLEVBQWdCeUIscUJBQXFCdkIsR0FBUSxDQUM3QyxNQUFNeUssRUFBZ0J0SCxJQUN0Qm1FLEVBQXFCa0Qsd0JBQXdCQyxFQUNqRCxHQWlJMER4RSxVQS9IM0NqRyxJQUNWRixFQUFnQnlCLHFCQUFxQnZCLEtBQ3RDbUQsRUFBK0NuRCxHQUMvQzJNLElBQ0FyRixFQUFxQmlELGlCQUFpQnZLLEdBQ3RDMk0sSUFDQXJGLEVBQXFCd0UsNkJBQ3hCLEVBeUhEL0gsVUFBU25GLFdBakhPb0IsSUFDaEIwTSxFQUFvRDFNLEdBQ3BEMk0sRUFBNkMzTSxFQUFNLEVBK0c5Qm9HLHVCQTdHT3BHLElBQzVCLElBQUtGLEVBQWdCK0IscUNBQXFDN0IsR0FBUSxDQUM5RDJNLEVBQXVEM00sR0FDdkQsTUFBTTRGLEVBQWUwQixFQUFxQmxCLHVCQUF1QnBHLEdBQ2pFc0gsRUFBcUJvRCx5QkFBeUIxSyxFQUFPNEYsR0FDckRSLEVBQW1DUSxFQUN2QyxDQUFDLEVBdUc0Q1MsV0FyRzdCckcsSUFDRyxVQUFmQSxFQUFNbU4sT0FDTmhLLEVBQWlEbkQsR0FDakRzSCxFQUFxQnVELDRCQUE0QjdLLEdBQ2pEMk0sRUFBMkMzTSxHQUM5QyxFQWdHd0R3RyxtQkE5RmpDeEcsSUFDeEIsTUFBTWUsRUFBWWpCLEVBQWdCd0MsYUFBYXRDLEdBQy9DbUQsRUFBaURuRCxHQUNqRHNILEVBQXFCZ0Isc0JBQXNCdkgsRUFBVSxFQTRGckQyRixvQkExRnlCMUcsSUFDekIsTUFBTWUsRUFBWWpCLEVBQWdCd0MsYUFBYXRDLEdBQ3pDMkksRUFBd0J4RixFQUF3RHBDLEdBQ2hGNkgsRUFBdUJ0QixFQUFxQm9CLHlCQUF5QjNILEVBQVc0SCxHQUN0RndELEVBQTBCdkQsRUFBcUIsRUFzRjFCaEMsZ0NBcEZnQjVHLElBQ3JDLElBQUtGLEVBQWdCb0Msa0NBQWtDbEMsR0FBUSxDQUMzRDJNLEVBQXNEM00sR0FDdEQsTUFBTTRGLEVBQWUwQixFQUFxQlYsZ0NBQWdDNUcsR0FDMUVzSCxFQUFxQjhELGtDQUFrQ3BMLEVBQU80RixHQUM5RFIsRUFBNENRLEVBQ2hELENBQUMsRUE4RXFEaUIsb0JBNUU3QjdHLElBQ04sVUFBZkEsRUFBTW1OLE9BQ05oSyxFQUEyRG5ELEdBQzNEc0gsRUFBcUJnRSxzQ0FBc0N0TCxHQUMzRDJNLEVBQW9EM00sR0FDdkQsRUF3RUQrRyw0QkF0RWlDL0csSUFDakMsTUFBTWUsRUFBWWpCLEVBQWdCd0MsYUFBYXRDLEdBQ3pDcUMsRUFBcUJ2QyxFQUFnQnlDLHNCQUFzQnZDLEdBQ2pFbUQsRUFBMERuRCxHQUMxRHNILEVBQXFCdUIsK0JBQStCOUgsRUFBV3NCLEVBQW1CLEVBa0VyRDRFLG9CQWhFSmpILElBQ3pCME0sRUFBOEQxTSxHQUM5RDJNLEVBQWtEM00sRUFBTSxFQThETm1ILGNBNUQvQm5ILElBQ25CLE1BQU1lLEVBQVlqQixFQUFnQndDLGFBQWF0QyxHQUMvQ21ELEVBQTRDbkQsR0FDNUNzSCxFQUFxQmtFLHFCQUFxQnpLLEdBQzFDdUcsRUFBcUJtRSx5QkFBeUIxSyxFQUFVLEVBd0RTaUwsbUJBQ2pFRyw0QkFBMkI5RSx5QkF2Q0dySCxJQUM5QnNILEVBQXFCRCx5QkFBeUJySCxHQUM5Q3NILEVBQXFCZ0Ysb0JBQW9CdE0sRUFBTSxFQXFDTWlOLGtCQUFpQkcsZ0JBOUJsRCxLQUNwQjdILEVBQU92RixNQUFPLGdCQUNkLE1BQU1lLEVBQVlnRCxFQUFRL0QsTUFBTyx5RUFDN0IsaUtBRUEsd0dBQ0EsK0hBQStILEdBQU0sR0FDeklzSCxFQUFxQmdCLHNCQUFzQnZILEdBQzNDdUcsRUFBcUJrRSxxQkFBcUJ6SyxHQUMxQ3VHLEVBQXFCbUUseUJBQXlCMUssR0FHYixDQUFDQSxJQUNiLENBQ2pCLENBQUMsZ0lBQWdJLEdBQ2pJLENBQUMsNkdBQTZHLEdBQzlHLENBQUMsdU9BRWlELElBQ3pDcUwsU0FBU2lCLElBQ2xCLE1BQU1oTCxFQUFxQmMsRUFBd0RwQyxFQUFXc00sRUFBaUIsR0FBSUEsRUFBaUIsSUFDOUhDLEVBQW9CaEcsRUFBcUJvQix5QkFBeUIzSCxFQUFXc0IsR0FDbkZpRixFQUFxQnVCLCtCQUErQjlILEVBQVdzQixHQUMvRDhKLEVBQTBCbUIsRUFBa0IsR0FDL0MsRUFkREMsQ0FBNkJ4TSxFQUFVLEVBcUI5QyxFQXRLb0IsR0MySXJCcUUsSUFFQUEsSUFDQUEsSUFXQWtDLEVBQXFCZ0Qsd0JBQXdCLEdBRTdDbEYsSUFFQUEsSUFFQUEsSUFFQUEsSUFTQUEsSUFDQUEsSUFDQUEsSUFLQUEsSUFDQUEsSUFFQUEsSUFDQUEsSUFFQUUsRUFBYThILGlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvaGVscGVyX2Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9vYmplY3RfY29udHJvbGxlcl9hZGRfZWRpdF9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3RhYl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3Rhc2tfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2NoZWNrbGlzdF90YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2Fzc2lnbmVyX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvb2JqZWN0X2NvbnRyb2xsZXJfcmVtb3ZlX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX3JlbW92ZS5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCkgPT4ge1xuICAgIGxldCBjaGVja2xpc3QgPSBbXTtcbiAgICBjb25zdCBnZXRUYXNrSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3QubGVuZ3RoIC0gMTtcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBhZGRUYXNrKHRhc2spIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdC5wdXNoKHRhc2spO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcmV0dXJuIGdldFRhc2tJbmRleCgpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVUYXNrKGluZGV4KSB7XG4gICAgICAgICAgICBjaGVja2xpc3RbaW5kZXhdID0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXRDaGVja2xpc3RUYXNrcygpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVja2xpc3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFtpbmRleF07XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH07IiwiLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9MaXN0ID0gKCgpID0+IHtcbiAgICBsZXQgY3VycmVudFRhYiA9IDA7XG4gICAgY29uc3QgZ2V0Q3VycmVudFRhYkluZGV4ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYjtcbiAgICB9O1xuICAgIGNvbnN0IHNldEN1cnJlbnRUYWJJbmRleCA9IChuZXdDdXJyZW50VGFiKSA9PiB7XG4gICAgICAgIGN1cnJlbnRUYWIgPSBuZXdDdXJyZW50VGFiO1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q3VycmVudFRhYk9iamVjdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUYWJPYmplY3Q7XG4gICAgfVxuICAgIGxldCBvYmplY3QgPSB7XG4gICAgICAgIGdldEN1cnJlbnRUYWJJbmRleCxcbiAgICAgICAgc2V0Q3VycmVudFRhYkluZGV4LFxuICAgICAgICBnZXRDdXJyZW50VGFiT2JqZWN0XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59KSgpO1xuXG5leHBvcnQgeyB0b0RvTGlzdCB9OyIsImNvbnN0IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsVGl0bGUpID0+IHtcbiAgICBsZXQgdGl0bGUgPSBpbml0aWFsVGl0bGU7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGdldFRhc2tUaXRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza1RpdGxlKG5ld1RpdGxlKSB7XG4gICAgICAgICAgICB0aXRsZSA9IG5ld1RpdGxlO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0iLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcblxuY29uc3QgaGVscGVyRnVuY3Rpb25zID0gKCgpID0+IHtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFiRWxlbWVudCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB3aGlsZSAodGFiRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSAhPT0gXCJ0YWItdGl0bGVcIikge1xuICAgICAgICAgICAgdGFiRWxlbWVudCA9IHRhYkVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0ZvclRhYklucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBpZiAodGFiRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSBcIklOUFVUXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tJZldhc0N1cnJlbnRUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHRhYkVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IFwiY3VycmVudC10YWJcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0lmT25seU9uZVRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFicyA9IEFycmF5LmZyb20odG9Eb1RhYlNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50YWItdGl0bGVcIikpO1xuICAgICAgICBpZiAodG9Eb1RhYnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza0VsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJ0by1kby10YXNrXCIpKSB7XG4gICAgICAgICAgICB0YXNrRWxlbWVudCA9IHRhc2tFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YXNrRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lciA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRhaW5lciA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrU3ViY29udGFpbmVyLmNsYXNzTGlzdClcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJ0by1kby10YXNrLXN1YmNvbnRhaW5lclwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lciA9IHRhc2tTdWJjb250YWluZXIucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lci5jbGFzc0xpc3QpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhc2tTdWJjb250YWluZXI7XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBpZiAodGFza1N1YmNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSBcIklOUFVUXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFyZ2V0VGFza09iamVjdCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCk7XG4gICAgICAgIHJldHVybiB0YXNrT2JqZWN0O1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IGJ1dHRvbkVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHdoaWxlIChidXR0b25FbGVtZW50LnRhZ05hbWUgIT09IFwiQlVUVE9OXCIpIHtcbiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQgPSBidXR0b25FbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgZ2V0QnV0dG9uVHlwZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBidXR0b25DbGFzc2VzID0gQXJyYXkuZnJvbShidXR0b25FbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIHJldHVybiBidXR0b25DbGFzc2VzO1xuICAgIH07XG4gICAgY29uc3QgZ2V0U3ViY29udGFpbmVyVHlwZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGNvbnN0IHN1YmNvbnRhaW5lckNsYXNzZXMgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXIuY2xhc3NMaXN0KTtcbiAgICAgICAgcmV0dXJuIHN1YmNvbnRhaW5lckNsYXNzZXM7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgY2hlY2tsaXN0RWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0RWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcImNoZWNrbGlzdFwiKSkge1xuICAgICAgICAgICAgY2hlY2tsaXN0RWxlbWVudCA9IGNoZWNrbGlzdEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0RWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0RWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKGNoZWNrbGlzdFRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIHdoaWxlICghY2xhc3NMaXN0LmluY2x1ZGVzKFwiY2hlY2tsaXN0LXRhc2tcIikpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0VGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBjaGVja0ZvckNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza09iamVjdDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhc2tJbmRleCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGdldENoZWNrbGlzdFRhc2tJbmRleCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza0luZGV4O1xuICAgIH07XG4gICAgcmV0dXJuIHsgZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQsIGNoZWNrRm9yVGFiSW5wdXRFbGVtZW50LCBjaGVja0lmV2FzQ3VycmVudFRhYixcbiAgICAgICAgY2hlY2tJZk9ubHlPbmVUYWIsIGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCwgZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcixcbiAgICAgICAgY2hlY2tGb3JUYXNrU3ViY29udGFpbmVySW5wdXRFbGVtZW50LCBnZXRUYXJnZXRUYXNrT2JqZWN0LCBlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudCxcbiAgICAgICAgZ2V0QnV0dG9uVHlwZSwgZ2V0U3ViY29udGFpbmVyVHlwZSwgZW5zdXJlQ29ycmVjdENoZWNrbGlzdEVsZW1lbnQsXG4gICAgICAgIGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCwgY2hlY2tGb3JDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LFxuICAgICAgICBnZXRUYXJnZXRDaGVja2xpc3RUYXNrT2JqZWN0LCBnZXRUYXNrSW5kZXgsIGdldENoZWNrbGlzdFRhc2tJbmRleCwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9OyIsImNvbnN0IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsRGVzY3JpcHRpb24pID0+IHtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSBpbml0aWFsRGVzY3JpcHRpb247XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGdldFRhc2tEZXNjcmlwdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0Rlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0iLCIvLyBvcmlnaW5hbCB3aGVyZSBhbGwgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBnZXQgcmV0dXJuZWQsIHNvIG5vIHByaXZhdGUgZmllbGRzIChjb21wbGV0ZWQgc2hvdWxkIGJlIHByaXZhdGUpXG4vLyBrZWVwaW5nIGZvciBwb3N0ZXJpdHksIHByb2JhYmx5IHdpbGwgZGVsZXRlZCBhdCB0aGUgZW5kXG4vLyBjb25zdCBjYW5Db21wbGV0ZSA9IChvYmplY3QpID0+ICh7XG4vLyAgICAgY29tcGxldGVkOiBmYWxzZSxcbi8vICAgICB0b2dnbGU6ICgpID0+IHtcbi8vICAgICAgICAgaWYgKG9iamVjdC5jb21wbGV0ZWQpIHtcbi8vICAgICAgICAgICAgIG9iamVjdC5jb21wbGV0ZWQgPSBmYWxzZTtcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgIG9iamVjdC5jb21wbGV0ZWQgPSB0cnVlO1xuLy8gICAgICAgICB9O1xuLy8gICAgIH0sXG4vLyAgICAgZ2V0Q29tcGxldGVkU3RhdGU6ICgpID0+IHtcbi8vICAgICAgICAgcmV0dXJuIG9iamVjdC5jb21wbGV0ZWRcbi8vICAgICB9XG4vLyB9KTtcblxuY29uc3QgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsQ29tcGxldGVkU3RhdGUpID0+IHtcbiAgICBsZXQgY29tcGxldGVkID0gaW5pdGlhbENvbXBsZXRlZFN0YXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICB0b2dnbGVDb21wbGV0ZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldENvbXBsZXRlZFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZDtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyB0b0RvVGFzayB9IGZyb20gXCIuL3RvZG9fdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGNoZWNrbGlzdFRhc2tPYmplY3QgfSBmcm9tIFwiLi9jaGVja2xpc3RfdGFza19vYmplY3RcIjtcblxuY29uc3Qgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYlRvVG9kb0FycmF5ID0gKHRhYk5hbWU9XCJOZXcgVGFiXCIpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFiID0gdG9Eb1RhYih0YWJOYW1lKTtcbiAgICAgICAgcmV0dXJuIHRvRG9MaXN0LmFkZFRhc2sobmV3VGFiKTtcbiAgICB9XG4gICAgY29uc3QgZWRpdFRhYk5hbWUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICBjb25zdCB0YXJnZXRUYWIgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICB0YXJnZXRUYWIuc2V0VGFza1RpdGxlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q3VycmVudFRhYiA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbmV3Q3VycmVudFRhYi5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgoaW5kZXgpXG4gICAgfVxuICAgIGNvbnN0IHNldEZpcnN0VGFiVG9DdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJBcnJheSA9IHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCk7XG4gICAgICAgIGxldCBmaXJzdFRhYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCB0YWIgaW4gdGFiQXJyYXkpIHtcbiAgICAgICAgICAgIGlmICh0YWJBcnJheVt0YWJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgodGFiKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRhYiA9IHRhYjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3RUYWI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld1Rhc2tUb1RhYiA9ICh0aXRsZT1cIk5ldyBUYXNrIFRpdGxlXCIsIGR1ZURhdGU9XCJUYXNrIER1ZSBEYXRlXCIsIGRlc2NyaXB0aW9uPVwiVGFzayBEZXNjcmlwdGlvblwiLCBub3Rlcz1cIlRhc2sgTm90ZXNcIiwgcGlubmVkPWZhbHNlLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgbmV3VGFzayA9IHRvRG9UYXNrKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0luZGV4ID0gY3VycmVudFRhYi5hZGRUYXNrKG5ld1Rhc2spO1xuICAgICAgICByZXR1cm4gbmV3VGFza0luZGV4O1xuICAgIH07XG4gICAgY29uc3QgZWRpdFRhc2tPYmplY3RJbmZvID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tUaXRsZVZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXRTdWJjb250YWluZXJUeXBlKGV2ZW50KTtcbiAgICAgICAgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tdGl0bGUtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tPYmplY3Quc2V0VGFza1RpdGxlKG5ld1Rhc2tUaXRsZVZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrT2JqZWN0LnNldFRhc2tEdWVEYXRlKG5ld1Rhc2tUaXRsZVZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrT2JqZWN0LnNldFRhc2tEZXNjcmlwdGlvbihuZXdUYXNrVGl0bGVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1ub3Rlcy1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iamVjdC5zZXRUYXNrTm90ZXMobmV3VGFza1RpdGxlVmFsdWUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIHRhc2tPYmplY3QudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2sgPSAodGFza0luZGV4LCBkZXNjcmlwdGlvbj1cIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uXCIsIGNvbXBsZXRlZD1mYWxzZSkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFzayA9IGNoZWNrbGlzdFRhc2tPYmplY3QoZGVzY3JpcHRpb24sIGNvbXBsZXRlZCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tJbmRleCA9IHRhc2tPYmplY3QuYWRkVGFzayhuZXdDaGVja2xpc3RUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGVkaXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRDaGVja2xpc3RUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICBjaGVja2xpc3RUYXNrT2JqZWN0LnNldFRhc2tEZXNjcmlwdGlvbihuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24pO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tPYmplY3QudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tQaW4gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgdGFza09iamVjdC50b2dnbGVQaW5uZWRTdGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiVG9Ub2RvQXJyYXksIGVkaXRUYWJOYW1lLCB1cGRhdGVDdXJyZW50VGFiLCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYixcbiAgICAgICAgYWRkTmV3VGFza1RvVGFiLCBlZGl0VGFza09iamVjdEluZm8sIHRvZ2dsZVRhc2tDb21wbGV0ZSwgYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzayxcbiAgICAgICAgZWRpdENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiwgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlLCB0b2dnbGVUYXNrUGluLCB9O1xufSkoKTtcblxuZXhwb3J0IHsgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgfTsiLCJpbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb1RhYiA9ICh0aXRsZSkgPT4ge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgdGl0bGVCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIHRpdGxlKSxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCB7IHRvRG9UYWIgfTsiLCJpbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kdWVfZGF0ZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3Bpbm5lZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb1Rhc2sgPSAodGl0bGUsIGR1ZURhdGUsIGRlc2NyaXB0aW9uLCBub3RlcywgcGlubmVkLCBjb21wbGV0ZWQpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksIFxuICAgICAgICBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZGVzY3JpcHRpb24pLFxuICAgICAgICBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkdWVEYXRlKSxcbiAgICAgICAgbm90ZXNCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIG5vdGVzKSxcbiAgICAgICAgLy8gY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudChvYmplY3QpLFxuICAgICAgICBwaW5uZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIHBpbm5lZCksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgY29tcGxldGVkKSxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCB7IHRvRG9UYXNrIH07IiwiY29uc3QgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbER1ZURhdGUpID0+IHtcbiAgICBsZXQgZHVlRGF0ZSA9IGluaXRpYWxEdWVEYXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRHVlRGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkdWVEYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrRHVlRGF0ZShuZXdEdWVEYXRlKSB7XG4gICAgICAgICAgICBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IH0iLCJjb25zdCBub3Rlc0JlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbE5vdGVzKSA9PiB7XG4gICAgbGV0IG5vdGVzID0gaW5pdGlhbE5vdGVzO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrTm90ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gbm90ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tOb3RlcyhuZXdOb3Rlcykge1xuICAgICAgICAgICAgbm90ZXMgPSBuZXdOb3RlcztcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3QgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsUGlubmVkU3RhdGUpID0+IHtcbiAgICBsZXQgcGlubmVkID0gaW5pdGlhbFBpbm5lZFN0YXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICB0b2dnbGVQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChwaW5uZWQpIHtcbiAgICAgICAgICAgICAgICBwaW5uZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBpbm5lZFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBpbm5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcblxuLy8gb3JpZ2luYWwgd2hlcmUgb2JqZWN0IHdvdWxkIG5lZWQgdG8gaGF2ZSBPYmplY3QuYXNzaWduKCkgZm9yIGV2ZXJ5IGluc3RhbmNlXG4vLyBrZWVwaW5nIGZvciBwb3N0ZXJpdHksIHByb2JhYmx5IHdpbGwgZGVsZXRlZCBhdCB0aGUgZW5kXG4vLyBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gKGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gY29uc3QgZ2V0VGFza0Rlc2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIC8vICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgLy8gfTtcbiAgICAvLyBjb25zdCBzZXRUYXNrRGVzY3JpcHRpb24gPSAobmV3RGVzY3JpcHRpb24pID0+IHtcbiAgICAvLyAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAvLyB9O1xuLy8gICAgIHJldHVybiB7IGdldFRhc2tEZXNjcmlwdGlvbiwgc2V0VGFza0Rlc2NyaXB0aW9uIH07XG4vLyB9O1xuXG5jb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gKGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkZXNjcmlwdGlvbiksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgY29tcGxldGVkKVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn1cblxuZXhwb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9OyIsImltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL2NoZWNrbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IERPTVVwZGF0ZUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgZXZlbnRCdW5kbGVyIH0gZnJvbSBcIi4vZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcblxuY29uc3QgZXZlbnRBc3NpZ25lciA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFkZFRhYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhYlwiKTtcbiAgICAgICAgYWRkVGFiQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuYWRkVGFiKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFZGl0QnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYkVkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYWJJbnB1dEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFkZFRhYklucHV0TGlzdGVuZXIgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudEJ1bmRsZXIudXBkYXRlVGFiKVxuICAgIH1cbiAgICBjb25zdCBhZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJSZW1vdmVCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlbW92ZS10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVUYWIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkU3dpdGNoVGFiTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiU3dpdGNoQnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5zd2l0Y2gtdGFiXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFiU3dpdGNoQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuc3dpdGNoVGFiKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYWRkTmV3VGFza0xpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctdG8tZG8tdGFza1wiKTtcbiAgICAgICAgbmV3VGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLm5ld1Rhc2spO1xuICAgIH1cbiAgICBjb25zdCBhZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1JlbW92ZUJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tcmVtb3ZlLXRhc2tcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrUmVtb3ZlQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIucmVtb3ZlVGFzayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRFZGl0VGFza0xpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza0VkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZVRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0NvbXBsZXRlQ2hlY2tib3hlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgdGFza0NvbXBsZXRlQ2hlY2tib3hlcykge1xuICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVUYXNrQ29tcGxldGUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5hZGQtY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIG5ld0NoZWNrbGlzdFRhc2tCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGROZXdDaGVja2xpc3RUYXNrKVxuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC1jaGVja2xpc3QtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGNoZWNrbGlzdEVkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoZWNrbGlzdFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZUNoZWNrbGlzdFRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5jaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzKSB7XG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlbW92ZS1jaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZUNoZWNrbGlzdFRhc2spO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrUGluQnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tcGluXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrUGluQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlVGFza1Bpbik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1RvZ2dsZURpc3BsYXlCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYkxpc3RlbmVyLCBhZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIsIGFkZFRhYklucHV0TGlzdGVuZXIsIGFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyLFxuICAgICAgICBhZGRTd2l0Y2hUYWJMaXN0ZW5lciwgYWRkTmV3VGFza0xpc3RlbmVyLCBhZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIsXG4gICAgICAgIGFkZEVkaXRUYXNrTGlzdGVuZXJzLCBhZGRUYXNrSW5wdXRMaXN0ZW5lciwgYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIsXG4gICAgICAgIGFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lciwgYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMsIGFkZENoZWNrbGlzdFRhc2tJbnB1dExpc3RlbmVyLFxuICAgICAgICBhZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lciwgYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyLCBhZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzLFxuICAgICAgICBhZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMsIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEFzc2lnbmVyIH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vZXZlbnRfYXNzaWduZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9ldmVudF9idW5kbGVyX29iamVjdFwiO1xuXG5jb25zdCBET01Db250cm9sbGVyQWRkRWRpdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IG5ld1RhYk5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBuZXdUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdUYWJPYmplY3RUaXRsZSA9IG5ld1RhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgbmV3VGFiTm9kZS5jbGFzc0xpc3QuYWRkKFwidGFiLXRpdGxlXCIpO1xuICAgICAgICBuZXdUYWJOb2RlLmRhdGFzZXQudGFiSW5kZXggPSBpbmRleDtcbiAgICAgICAgbmV3VGFiTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic3dpdGNoLXRhYlwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cInRhYi1uYW1lXCI+VEFCIE5BTUUgUExBQ0VIT0xERVI8L2gyPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YWIgbmFtZSBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlbW92ZS10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFiIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IHRhYk5hbWVET00gPSBuZXdUYWJOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIudGFiLW5hbWVcIik7XG4gICAgICAgIHRhYk5hbWVET00udGV4dENvbnRlbnQgPSBuZXdUYWJPYmplY3RUaXRsZTtcbiAgICAgICAgdG9Eb1RhYlNlY3Rpb24uaW5zZXJ0QmVmb3JlKG5ld1RhYk5vZGUsIGFkZFRhYkJ1dHRvbik7XG4gICAgICAgIHJldHVybiBuZXdUYWJOb2RlO1xuICAgIH1cbiAgICBjb25zdCBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSA9IChldmVudCwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRhYkVsZW1lbnQuZGF0YXNldC50YWJJbmRleDtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgdGFiTmFtZSA9IHRhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gdGFiTmFtZTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFiLW5hbWUtaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgdGFiRWxlbWVudC5pbnNlcnRCZWZvcmUoaW5wdXRFbGVtZW50LCB0YWJFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiTmFtZUVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBjb25zdCB0YWJCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICB0YWJCdXR0b24uY2xhc3NMaXN0LmFkZChcInN3aXRjaC10YWJcIik7XG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIHRhYkJ1dHRvbk5hbWUuY2xhc3NMaXN0LmFkZChcInRhYi1uYW1lXCIpO1xuICAgICAgICB0YWJCdXR0b25OYW1lLnRleHRDb250ZW50ID0gdGFiTmFtZTtcbiAgICAgICAgdGFiQnV0dG9uLmFwcGVuZENoaWxkKHRhYkJ1dHRvbk5hbWUpO1xuICAgICAgICB0YWJFbGVtZW50Lmluc2VydEJlZm9yZSh0YWJCdXR0b24sIHRhYkVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIHJldHVybiB0YWJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3Qgc2V0RGVmYXVsdEN1cnJlbnRUYWJET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gdG9Eb1RhYlNlY3Rpb24ucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiLWluZGV4PScke2luZGV4fSddYCk7XG4gICAgICAgIGlmIChjdXJyZW50VGFiID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgICAgIGN1cnJlbnRUYWIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjdXJyZW50LXRhYlwiKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEN1cnJlbnRUYWJET00gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q3VycmVudFRhYiA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIG5ld0N1cnJlbnRUYWIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjdXJyZW50LXRhYlwiKTtcbiAgICB9XG4gICAgY29uc3Qgc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIgPSAoZmlyc3RUYWJJbmRleCkgPT4ge1xuICAgICAgICBpZiAoZmlyc3RUYWJJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBmaXJzdFRhYiA9IHRvRG9UYWJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhYi1pbmRleD0nJHtmaXJzdFRhYkluZGV4fSddYClcbiAgICAgICAgZmlyc3RUYWIuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjdXJyZW50LXRhYlwiKTtcbiAgICB9XG4gICAgY29uc3QgYWRkTmV3VGFza1RvRE9NID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCk7XG4gICAgICAgIGNvbnN0IHRvRG9Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICBjb25zdCBuZXdUYXNrTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld1Rhc2tOb2RlLmNsYXNzTGlzdC5hZGQoXCJ0by1kby10YXNrXCIpO1xuICAgICAgICBuZXdUYXNrTm9kZS5kYXRhc2V0LnRhc2tJbmRleCA9IGluZGV4O1xuICAgICAgICBjb25zdCBuZXdUYXNrVGl0bGUgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRGVzY3JpcHRpb24gPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRHVlRGF0ZSA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza05vdGVzID0gbmV3VGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0NvbXBsZXRlSUQgPSBgdG8tZG8tY29tcGxldGUtY2hlY2tib3gtJHtpbmRleH1gO1xuICAgICAgICBuZXdUYXNrTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tdGFzay1vdmVydmlld1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby10aXRsZS1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cInRvLWRvLXRpdGxlXCI+VElUTEUgUExBQ0VIT0xERVI8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tcGluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIiBhbHQ9XCJQaW4gdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stdGl0bGUgZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIHRpdGxlIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvLWRvLXJlbW92ZS10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiSUQgUExBQ0VIT0xERVJcIiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLWxhYmVsXCI+Q29tcGxldGVkOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIlwiIGNsYXNzPVwidG8tZG8tY29tcGxldGUtY2hlY2tib3hcIiBpZD1cIklEIFBMQUNFSE9MREVSXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tdGFzay1jaGFuZ2UtZGlzcGxheVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2hldnJvbi1kb3duLnBuZ1wiIGFsdD1cIkNoYW5nZSB0YXNrIGRpc3BsYXkgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tZHVlLWRhdGVcIj5EVUUgREFURSBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1kdWUtZGF0ZSBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgZHVlIGRhdGUgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tZGVzY3JpcHRpb25cIj5ERVNDUklQVElPTiBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIGRlc2NyaXB0aW9uIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tbm90ZXMtc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tbm90ZXNcIj5OT1RFUyBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLW5vdGVzIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIG5vdGVzIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGFjdGlvbj1cIlwiIGNsYXNzPVwiY2hlY2tsaXN0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrbGlzdC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxlZ2VuZCBjbGFzcz1cImNoZWNrbGlzdC1sYWJlbFwiPkNoZWNrbGlzdDwvbGVnZW5kPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWRkLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGx1cy5wbmdcIiBhbHQ9XCJBZGQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IHRpdGxlRE9NID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby10aXRsZVwiKTtcbiAgICAgICAgdGl0bGVET00udGV4dENvbnRlbnQgPSBuZXdUYXNrVGl0bGU7XG4gICAgICAgIGNvbnN0IGR1ZURhdGVET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWR1ZS1kYXRlXCIpO1xuICAgICAgICBkdWVEYXRlRE9NLnRleHRDb250ZW50ID0gXCJEdWUgT246IFwiICsgbmV3VGFza0R1ZURhdGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uRE9NID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgZGVzY3JpcHRpb25ET00udGV4dENvbnRlbnQgPSBcIkRlc2NyaXB0aW9uOiBcIiArIG5ld1Rhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY29uc3Qgbm90ZXNET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzXCIpO1xuICAgICAgICBub3Rlc0RPTS50ZXh0Q29udGVudCA9IFwiTm90ZXM6IFwiICsgbmV3VGFza05vdGVzO1xuICAgICAgICB0b0RvQ29udGVudC5hcHBlbmRDaGlsZChuZXdUYXNrTm9kZSk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlTGFiZWwgPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwibGFiZWxcIik7XG4gICAgICAgIGNvbXBsZXRlTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIG5ld1Rhc2tDb21wbGV0ZUlEKTtcbiAgICAgICAgY29uc3QgY29tcGxldGVDaGVja2JveCA9IG5ld1Rhc2tOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGNvbXBsZXRlQ2hlY2tib3guc2V0QXR0cmlidXRlKFwiaWRcIiwgbmV3VGFza0NvbXBsZXRlSUQpO1xuICAgICAgICByZXR1cm4gbmV3VGFza05vZGU7XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhc2staW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lci5pbnNlcnRCZWZvcmUoaW5wdXRFbGVtZW50LCB0YXNrU3ViY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSA9IChldmVudCwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvblR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0QnV0dG9uVHlwZShldmVudCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUuaW5jbHVkZXMoXCJlZGl0LXRhc2stdGl0bGVcIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50ID0gdGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlLmluY2x1ZGVzKFwiZWRpdC10YXNrLWR1ZS1kYXRlXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudCA9IHRhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlLmluY2x1ZGVzKFwiZWRpdC10YXNrLWRlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudCA9IHRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZS5pbmNsdWRlcyhcImVkaXQtdGFzay1ub3Rlc1wiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnQgPSB0YXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICB9O1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSB0YXNrU3ViY29udGVudDtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJUeXBlID0gaGVscGVyRnVuY3Rpb25zLmdldFN1YmNvbnRhaW5lclR5cGUoZXZlbnQpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby10aXRsZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrVGl0bGUgPSB0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby10aXRsZVwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IHRhc2tUaXRsZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gdGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLWR1ZS1kYXRlXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gXCJEdWUgT246IFwiICsgdGFza0R1ZURhdGU7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSB0YXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gXCJEZXNjcmlwdGlvbjogXCIgKyB0YXNrRGVzY3JpcHRpb247XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1ub3Rlcy1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrTm90ZXMgPSB0YXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLW5vdGVzXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gXCJOb3RlczogXCIgKyB0YXNrTm90ZXM7XG4gICAgICAgIH07XG4gICAgICAgIHRhc2tTdWJjb250YWluZXIuaW5zZXJ0QmVmb3JlKHRhc2tTdWJjb250ZW50RWxlbWVudCwgdGFza1N1YmNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgY29uc3QgdG9nZ2xlVGFza0RPTUNvbXBsZXRlID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staW5kZXg9JyR7dGFza0luZGV4fSddYCk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlQ2hlY2tib3ggPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gIHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZWRTdGF0ZWQgPSB0YXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgIGlmICh0YXNrQ29tcGxldGVkU3RhdGVkKSB7XG4gICAgICAgICAgICBjb21wbGV0ZUNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGxldGVDaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwidGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9ET00gPSAodGFza0luZGV4LCBuZXdDaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWluZGV4PScke3Rhc2tJbmRleH0nYCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhuZXdDaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrQ29tcGxldGVkID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tOb2RlLmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgbmV3Q2hlY2tsaXN0VGFza05vZGUuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXggPSBuZXdDaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tOb2RlLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke25ld0NoZWNrbGlzdFRhc2tJbmRleH1cIiBjbGFzcz1cImNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIERFU0NSSVBUSU9OIFBMQUNFSE9MREVSXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiRWRpdCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgXG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjaGVja2xpc3RFbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoZWNrbGlzdFRhc2tOb2RlKTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tOb2RlO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSA9IChldmVudCwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBjaGVja2xpc3RUYXNrRWxlbWVudC5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9yXCIsIGBjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7Y2hlY2tsaXN0VGFza0luZGV4fWApO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLmFwcGVuZENoaWxkKGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzay1pbmRleD0nJHt0YXNrSW5kZXh9J11gKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jaGVja2xpc3QtdGFzay1pbmRleD0nJHtjaGVja2xpc3RUYXNrSW5kZXh9J11gKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveCA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94LmNoZWNrZWQgPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgIGlmIChjaGVja2xpc3RUYXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC10YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3guY2xhc3NMaXN0LnJlbW92ZShcImNoZWNrbGlzdC10YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGNoYW5nZVBpbkJ1dHRvbkltYWdlID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staW5kZXg9JyR7dGFza0luZGV4fSddYCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBwaW5CdXR0b24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXBpblwiKVxuICAgICAgICBjb25zdCBwaW5CdXR0b25JbWFnZSA9IHBpbkJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBpZiAodGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24gPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzay1pbmRleD0nJHt0YXNrSW5kZXh9J11gKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50SW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgdGFza0NvbnRlbnRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICBpZiAodGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGlubmVkLXRhc2tcIikpO1xuICAgICAgICAgICAgaWYgKGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uaW5zZXJ0QmVmb3JlKHRhc2tFbGVtZW50LCB0YXNrQ29udGVudFNlY3Rpb24uZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUVuZEluZGV4ID0gbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFBpbm5lZFRhc2tFbGVtZW50ID0gbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzW2FycmF5RW5kSW5kZXhdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGlubmVkVGFza0VsZW1lbnQgb2YgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50SW5kZXggPSBwaW5uZWRUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2tFbGVtZW50SW5kZXggPCBwaW5uZWRUYXNrRWxlbWVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uaW5zZXJ0QmVmb3JlKHRhc2tFbGVtZW50LCBwaW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwaW5uZWRUYXNrRWxlbWVudCA9PT0gbGFzdFBpbm5lZFRhc2tFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UGlubmVkVGFza0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgdGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBpbm5lZC10YXNrXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMgPSBBcnJheS5mcm9tKHRhc2tDb250ZW50U2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLXRhc2s6bm90KC5waW5uZWQtdGFzaylcIikpO1xuICAgICAgICAgICAgaWYgKGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5hcHBlbmRDaGlsZCh0YXNrRWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5RW5kSW5kZXggPSBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RVbnBpbm5lZFRhc2tFbGVtZW50ID0gbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHNbYXJyYXlFbmRJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB1bnBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVucGlubmVkVGFza0VsZW1lbnRJbmRleCA9IHVucGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrRWxlbWVudEluZGV4IDwgdW5waW5uZWRUYXNrRWxlbWVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uaW5zZXJ0QmVmb3JlKHRhc2tFbGVtZW50LCB1bnBpbm5lZFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVucGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RVbnBpbm5lZFRhc2tFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uYXBwZW5kQ2hpbGQodGFza0VsZW1lbnQsIGxhc3RVbnBpbm5lZFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBsaXN0T2ZUYXNrcyA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgZm9yIChjb25zdCB0YXNrSW5kZXggaW4gbGlzdE9mVGFza3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBsaXN0T2ZUYXNrc1t0YXNrSW5kZXhdXG4gICAgICAgICAgICBpZiAodGFza09iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFza0VsZW1lbnQgPSBhZGROZXdUYXNrVG9ET00odGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICBzZXRQaW5CdXR0b25JbWFnZShuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmVhcnJhbmdlUGlubmVkVGFza3NQb3NpdGlvbihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZFRhc2tMaXN0ZW5lcnMobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RPZkNoZWNrbGlzdFRhc2tzID0gdGFza09iamVjdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hlY2tsaXN0VGFza0luZGV4IGluIGxpc3RPZkNoZWNrbGlzdFRhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBsaXN0T2ZDaGVja2xpc3RUYXNrc1tjaGVja2xpc3RUYXNrSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tsaXN0VGFza09iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRWxlbWVudCA9IGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHNldFBpbkJ1dHRvbkltYWdlID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgcGluQnV0dG9uID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1waW5cIik7XG4gICAgICAgIGNvbnN0IHBpbkJ1dHRvbkltYWdlID0gcGluQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgICAgIGlmIChjdXJyZW50VGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdGFza0NvbnRlbnRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBpbm5lZC10YXNrXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYXNrRWxlbWVudCwgdGFza0NvbnRlbnRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWRUYXNrRWxlbWVudEluZGV4ID0gcGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFza0luZGV4IDwgcGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYXNrRWxlbWVudCwgcGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RQaW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBpbm5lZFRhc2tFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5ld1Rhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHRhc2tOb3RlcyA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tbm90ZXMtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgdGFza0NoZWNrbGlzdCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0XCIpO1xuICAgICAgICBjb25zdCBlbGVtZW50c1RvVG9nZ2xlID0gW3Rhc2tEZXNjcmlwdGlvbiwgdGFza05vdGVzLCB0YXNrQ2hlY2tsaXN0XTtcbiAgICAgICAgZWxlbWVudHNUb1RvZ2dsZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50Q2xhc3NlcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwiaGlkZS10by1kby1kZXRhaWxzXCIpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRpc3BsYXktdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgcm90YXRlQ2hldnJvbkJ1dHRvbiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RCdXR0b25FbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgYnV0dG9uSW1hZ2UgPSBidXR0b25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlQ2xhc3MgPSBidXR0b25JbWFnZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgaWYgKGJ1dHRvbkltYWdlQ2xhc3MgPT09IG51bGwgfHwgYnV0dG9uSW1hZ2VDbGFzcyA9PT0gXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIikge1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LnRvZ2dsZShcInJvdGF0ZS1oaWRlLXRhc2stZGV0YWlsc1wiLCBmYWxzZSk7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbkltYWdlQ2xhc3MgPT09IFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpIHtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJyb3RhdGUtZGlzcGxheS10YXNrLWRldGFpbHNcIik7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlLWhpZGUtdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiVG9ET00sIHNldFRhYklucHV0RWxlbWVudFZhbHVlLFxuICAgICAgICBpbnNlcnRUYWJJbnB1dEVsZW1lbnQsIGluc2VydFRhYk5hbWVFbGVtZW50LCBzZXREZWZhdWx0Q3VycmVudFRhYkRPTSxcbiAgICAgICAgc2V0Q3VycmVudFRhYkRPTSwgc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIsIGFkZE5ld1Rhc2tUb0RPTSxcbiAgICAgICAgaW5zZXJ0VGFza0lucHV0RWxlbWVudCwgc2V0VGFza0lucHV0RWxlbWVudFZhbHVlLCBpbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQsXG4gICAgICAgIHRvZ2dsZVRhc2tET01Db21wbGV0ZSwgYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NLCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LFxuICAgICAgICBzZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUsIGluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQsXG4gICAgICAgIHRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSwgY2hhbmdlUGluQnV0dG9uSW1hZ2UsIHNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbixcbiAgICAgICAgbG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIsIHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscywgcm90YXRlQ2hldnJvbkJ1dHRvbiwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5cbmNvbnN0IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZVRhYkZyb21Ub2RvQXJyYXkgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICB0b0RvTGlzdC5yZW1vdmVUYXNrKGluZGV4KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhc2tGcm9tVGFiQXJyYXkgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY3VycmVudFRhYk9iamVjdC5yZW1vdmVUYXNrKGluZGV4KTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0Zyb21UYXNrQXJyYXkgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSBjaGVja2xpc3RUYXNrRWxlbWVudC5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGN1cnJlbnRUYXNrT2JqZWN0LnJlbW92ZVRhc2soaW5kZXgpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiRnJvbVRvZG9BcnJheSwgcmVtb3ZlVGFza0Zyb21UYWJBcnJheSwgcmVtb3ZlQ2hlY2tsaXN0VGFza0Zyb21UYXNrQXJyYXksIH07XG59KSgpO1xuXG5leHBvcnQgeyBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5cbmNvbnN0IERPTUNvbnRyb2xsZXJSZW1vdmUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZVRhYk5hbWVFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBsZXQgc3dpdGNoVGFiID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnN3aXRjaC10YWJcIilcbiAgICAgICAgdGFiRWxlbWVudC5yZW1vdmVDaGlsZChzd2l0Y2hUYWIpO1xuICAgICAgICBzd2l0Y2hUYWIgPSBudWxsXG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgdGFiRWxlbWVudC5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIHRvRG9UYWJTZWN0aW9uLnJlbW92ZUNoaWxkKHRhYkVsZW1lbnQpO1xuICAgICAgICB0YWJFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0Q3VycmVudFRhYlN0YXR1cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3VycmVudC10YWJcIik7XG4gICAgICAgIGlmIChjdXJyZW50VGFiICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50VGFiLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrRWxlbWVudEZyb21ET00gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRvRG9UYXNrU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgdG9Eb1Rhc2tTZWN0aW9uLnJlbW92ZUNoaWxkKHRhc2tFbGVtZW50KTtcbiAgICAgICAgdGFza0VsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGVudEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyLnJlbW92ZUNoaWxkKHRhc2tTdWJjb250ZW50RWxlbWVudCk7XG4gICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IG51bGxcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgIHRhc2tTdWJjb250YWluZXIucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRE9NID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBidXR0b25FbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcImxhYmVsXCIpO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucmVtb3ZlQ2hpbGQoY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1pbnB1dFwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrRWxlbWVudERPTSA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0RWxlbWVudChldmVudCk7XG4gICAgICAgIGNoZWNrbGlzdEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVBbGxUYXNrRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLnJlcGxhY2VDaGlsZHJlbigpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiTmFtZUVsZW1lbnQsIHJlbW92ZVRhYklucHV0RWxlbWVudCwgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00sXG4gICAgICAgIHJlc2V0Q3VycmVudFRhYlN0YXR1cywgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NLCByZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NLFxuICAgICAgICByZW1vdmVUYXNrSW5wdXRFbGVtZW50LCByZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00sIHJlbW92ZUNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQsXG4gICAgICAgIHJlbW92ZUNoZWNrbGlzdFRhc2tFbGVtZW50RE9NLCByZW1vdmVBbGxUYXNrRWxlbWVudHMsIH1cbn0pKCk7XG5cbmV4cG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCB9IGZyb20gXCIuL29iamVjdF9jb250cm9sbGVyX2FkZF9lZGl0X29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgZXZlbnRBc3NpZ25lciB9IGZyb20gXCIuL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCB9IGZyb20gXCIuL29iamVjdF9jb250cm9sbGVyX3JlbW92ZV9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9yZW1vdmVcIjtcblxuY29uc3QgZXZlbnRCdW5kbGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGRUYWIgPSAoZXZlbnQsIHRhYk5hbWU9XCJOZXcgVGFiXCIpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdUYWJUb1RvZG9BcnJheSh0YWJOYW1lKTtcbiAgICAgICAgY29uc3QgbmV3VGFiTm9kZSA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld1RhYlRvRE9NKG5ld1RhYkluZGV4KTtcbiAgICAgICAgYWRkVGFiTGlzdGVuZXJzKG5ld1RhYk5vZGUpO1xuICAgICAgICBpZiAoaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZPbmx5T25lVGFiKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoZmlyc3RUYWJJbmRleClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yVGFiSW5wdXRFbGVtZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiTmFtZUVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFiSW5wdXRFbGVtZW50VmFsdWUoZXZlbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRhYklucHV0TGlzdGVuZXIoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0VGFiTmFtZShldmVudCk7XG4gICAgICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiTmFtZUVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWJJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRTd2l0Y2hUYWJMaXN0ZW5lcih0YWJFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0LnJlbW92ZVRhYkZyb21Ub2RvQXJyYXkoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYkVsZW1lbnRGcm9tRE9NKGV2ZW50KTtcbiAgICAgICAgaWYgKGhlbHBlckZ1bmN0aW9ucy5jaGVja0lmV2FzQ3VycmVudFRhYihldmVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoZmlyc3RUYWJJbmRleClcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZXYXNDdXJyZW50VGFiKGV2ZW50KSkge1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudXBkYXRlQ3VycmVudFRhYihldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlc2V0Q3VycmVudFRhYlN0YXR1cygpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Q3VycmVudFRhYkRPTShldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZUFsbFRhc2tFbGVtZW50cygpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQubG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgbmV3VGFzayA9IChldmVudCwgdGl0bGU9XCJOZXcgVGFzayBUaXRsZVwiLCBkdWVEYXRlPVwiVGFzayBEdWUgRGF0ZVwiLCBkZXNjcmlwdGlvbj1cIlRhc2sgRGVzY3JpcHRpb25cIiwgbm90ZXM9XCJUYXNrIE5vdGVzXCIsIHBpbm5lZD1mYWxzZSwgY29tcGxldGVkPWZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1Rhc2tUb1RhYih0aXRsZSwgZHVlRGF0ZSwgZGVzY3JpcHRpb24sIG5vdGVzLCBwaW5uZWQsIGNvbXBsZXRlZCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tOb2RlID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3VGFza1RvRE9NKG5ld1Rhc2tJbmRleCk7XG4gICAgICAgIGFkZFRhc2tMaXN0ZW5lcnMobmV3VGFza05vZGUpO1xuICAgICAgICByZXR1cm4gbmV3VGFza0luZGV4O1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlVGFza0Zyb21UYWJBcnJheShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NKGV2ZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tGb3JUYXNrU3ViY29udGFpbmVySW5wdXRFbGVtZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhc2tJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFza0lucHV0RWxlbWVudFZhbHVlKGV2ZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmVkaXRUYXNrT2JqZWN0SW5mbyhldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudG9nZ2xlVGFza0NvbXBsZXRlKGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tOb2RlID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NKHRhc2tJbmRleCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhuZXdDaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgfTtcbiAgICBjb25zdCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudChldmVudCkpIHtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRE9NKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlKGV2ZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlQ2hlY2tsaXN0VGFza0Zyb21UYXNrQXJyYXkoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZUNoZWNrbGlzdFRhc2tFbGVtZW50RE9NKGV2ZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tQaW4gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZVRhc2tQaW4oZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5jaGFuZ2VQaW5CdXR0b25JbWFnZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zaGlmdFRhc2tFbGVtZW50UG9zaXRpb24odGFza0luZGV4KTtcbiAgICB9O1xuICAgIC8vIGNvbnN0IGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiID0gKCkgPT4ge1xuICAgIC8vICAgICBmb3IgKGNvbnN0IHRhc2sgKVxuICAgIC8vIH07XG4gICAgY29uc3QgYWRkVGFza0xpc3RlbmVycyA9IChuZXdUYXNrTm9kZSkgPT4ge1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lcihuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhc2tMaXN0ZW5lcnMobmV3VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRvZ2dsZVRhc2tDb21wbGV0ZUxpc3RlbmVyKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXIobmV3VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRvZ2dsZVRhc2tQaW5MaXN0ZW5lcnMobmV3VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVycyhuZXdUYXNrTm9kZSk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzID0gKG5ld0NoZWNrbGlzdFRhc2tOb2RlKSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZUxpc3RlbmVyKG5ld0NoZWNrbGlzdFRhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIobmV3Q2hlY2tsaXN0VGFza05vZGUpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyhldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnJvdGF0ZUNoZXZyb25CdXR0b24oZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFiTGlzdGVuZXJzID0gKG5ld1RhYk5vZGUpID0+IHtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIobmV3VGFiTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXIobmV3VGFiTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkU3dpdGNoVGFiTGlzdGVuZXIobmV3VGFiTm9kZSk7XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5pdGlhbFBhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGFkZFRhYihldmVudCwgXCJJbnN0cnVjdGlvbnNcIik7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IG5ld1Rhc2soZXZlbnQsIFwiUXVpY2sgVGlwcyEgQ2xpY2sgdGhlIHBpbiBidXR0b24gdG8gcGluIGEgdGFzayB0byB0aGUgdG9wIG9mIHRoZSBsaXN0LlwiLFxuICAgICAgICAgICAgYFRvbW9ycm93LCBuZXh0IHdlZWssIG9yIHdoZW5ldmVyIHlvdXIgdGFzayBpcyBkdWUsIHlvdSBjYW4gYWRkIGl0IGhlcmUhXG4gICAgICAgICAgICBDbGljayB0aGUgYXJyb3cgYnV0dG9uIHRvIHRvZ2dsZSBiZXR3ZWVuIHNob3dpbmcgYW5kIGhpZGluZyB0YXNrIGRldGFpbHMuYCxcbiAgICAgICAgICAgIFwiQWRkIGEgZGVzY3JpcHRpb24gb2YgeW91ciB0YXNrIGhlcmUhIENsaWNrIHRoZSBwZW5jaWwgYnV0dG9ucyB0byBlZGl0IHRoZSB2YXJpb3VzIHBhcnRzIG9mIHlvdXIgdGFzay5cIixcbiAgICAgICAgICAgIFwiSm90IGRvd24gc29tZSBub3RlcyBoZXJlISBNYXJrIHlvdXIgdGFzayBhcyBjb21wbGV0ZSB3aGVuIHlvdSdyZSBkb25lLCBvciByZW1vdmUgaXQgZnJvbSB0aGUgbGlzdCBieSBjbGlja2luZyB0aGUgWCBidXR0b24uXCIsIHRydWUsIHRydWUpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVUYXNrRE9NQ29tcGxldGUodGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuY2hhbmdlUGluQnV0dG9uSW1hZ2UodGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uKHRhc2tJbmRleCk7XG4gICAgICAgIGFkZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2sgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGluc3RydWN0aW9ucyA9IFtcbiAgICAgICAgICAgIFtcIklmIHlvdXIgdGFzayBoYXMgbXVsdGlwbGUgc3RlcHMsIHRyeSBicmVha2luZyB0aGVtIGRvd24gaW50byBhIGNoZWNrbGlzdCEgQ2xpY2sgdGhlIHBsdXMgc2lnbiBidXR0b24gdG8gYWRkIHN0ZXBzIGFzIG5lZWRlZC5cIiwgdHJ1ZV0sXG4gICAgICAgICAgICBbXCJIYXZlIGEgbmV3IHRhc2sgeW91IHdhbnQgdG8ga2VlcCB0cmFjayBvZj8gQWRkIGl0IHRvIHRoZSBsaXN0IGJ5IGNsaWNraW5nIG9uIHRoZSAnTmV3IFRhc2snIGJ1dHRvbiBiZWxvdyFcIiwgdHJ1ZV0sXG4gICAgICAgICAgICBbYE9yZ2FuaXplIHRoZSBkaWZmZXJlbnQgdHlwZXMgb2YgdGFza3MgaW4geW91ciBsaWZlIGJ5IGNyZWF0aW5nIHRoZW1lZCB0YWJzLiBcbiAgICAgICAgICAgIENyZWF0ZSBhIG5ldyB0YWIgYnkgY2xpY2tpbmcgb24gdGhlIHBsdXMgc2lnbiBidXR0b24gYXQgdGhlIHRvcCBvZiB0aGUgbGlzdC5cbiAgICAgICAgICAgIENoYW5nZSB0YWJzIGJ5IGNsaWNraW5nIG9uIGRpZmZlcmVudCB0YWIgbmFtZXMuYCwgdHJ1ZV1dO1xuICAgICAgICBpbnN0cnVjdGlvbnMuZm9yRWFjaCgoaW5zdHJ1Y3Rpb25zSXRlbSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzayh0YXNrSW5kZXgsIGluc3RydWN0aW9uc0l0ZW1bMF0sIGluc3RydWN0aW9uc0l0ZW1bMV0pO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza05vZGUgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdDaGVja2xpc3RUYXNrVG9ET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMoY2hlY2tsaXN0VGFza05vZGUpO1xuICAgICAgICB9KVxuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkVGFiLCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQsIHVwZGF0ZVRhYiwgcmVtb3ZlVGFiLCBzd2l0Y2hUYWIsXG4gICAgICAgIG5ld1Rhc2ssIHJlbW92ZVRhc2ssIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsIHVwZGF0ZVRhc2ssIHRvZ2dsZVRhc2tDb21wbGV0ZSxcbiAgICAgICAgYWRkTmV3Q2hlY2tsaXN0VGFzaywgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCwgdXBkYXRlQ2hlY2tsaXN0VGFzayxcbiAgICAgICAgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlLCByZW1vdmVDaGVja2xpc3RUYXNrLCB0b2dnbGVUYXNrUGluLCBhZGRUYXNrTGlzdGVuZXJzLFxuICAgICAgICBhZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzLCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMsIGFkZFRhYkxpc3RlbmVycywgbG9hZEluaXRpYWxQYWdlLCB9O1xufSkoKTtcblxuZXhwb3J0IHsgZXZlbnRCdW5kbGVyIH07IiwiaW1wb3J0IHsgdG9Eb1Rhc2sgfSBmcm9tIFwiLi9vYmplY3RzL3RvZG9fdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL29iamVjdHMvY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9IGZyb20gXCIuL29iamVjdHMvY2hlY2tsaXN0X3Rhc2tfb2JqZWN0XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIHRlc3RpbmcgdG9kbyB0YXNrIG9iamVjdFxuaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2R1ZV9kYXRlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudFwiO1xuXG4vLyB0ZXN0aW5nIGNoZWNrbGlzdCBvYmplY3Rcbi8vIGltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL2NoZWNrbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuLy8gdGVzdGluZyB0YWJzIChhcnJheXMgdGhhdCBjb250YWluIG1hbnkgdG8gZG8gdGFza3MpXG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX3RhYl9vYmplY3RcIjtcblxuLy8gdGVzdGluZyBsaXN0IHRoYXQgY29udGFpbiBldmVyeXRoaW5nXG5pbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL29iamVjdHMvdG9kb19saXN0X29iamVjdFwiO1xuXG4vLyB0ZXN0aW5nIGZvciBET00gY29udHJvbGxlciBvYmplY3RzXG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vb2JqZWN0cy9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vb2JqZWN0cy9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuXG4vLyBsZXQgdGVzdCA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJkZHRlc3RcIik7XG4vLyBjb25zb2xlLmxvZyh0ZXN0KVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGlmICh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIG5vdyB0cnVlXCIpXG4vLyB9IGVsc2Uge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgc3RpbGwgZmFsc2VcIilcbi8vIH1cblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuXG4vLyBpZiAodGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKSB7XG4vLyAgICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBub3cgdHJ1ZVwiKVxuLy8gfSBlbHNlIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIHN0aWxsIGZhbHNlXCIpXG4vLyB9XG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gY29uc29sZS5sb2codGVzdClcblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRUYXNrRGVzY3JpcHRpb24oKSlcbi8vIHRlc3Quc2V0VGFza0Rlc2NyaXB0aW9uKFwid293d2llXCIpXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldFRhc2tEZXNjcmlwdGlvbigpKVxuXG4vLyBsZXQgaW1wb3J0YW50VGFzayA9IHRvRG9UYXNrKFwiTWFrZSBDZXJlYWxcIiwgXCJwYXJ0IG9mIGJyZWFrZmFzdCBwbGFuXCIsIFwidGhpcyBtb3JuaW5nXCIsIFwibWFrZSBzdXJlIHRvIHB1dCBtaWxrIGJhY2sgaW4gZnJpZGdlXCIpO1xuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzaylcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza1RpdGxlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEZXNjcmlwdGlvbigpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRHVlRGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrTm90ZXMoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0UGlubmVkU3RhdGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrVGl0bGUoXCJNYWtlIENoaWNrZW4gQnJvdGhcIilcbi8vIGltcG9ydGFudFRhc2suc2V0VGFza0Rlc2NyaXB0aW9uKFwicmVxdWlyZXMgMSBjaGlja2VuIGFuZCAxIGJyb3RoXCIpXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tEdWVEYXRlKFwiYmVmb3JlIEkgY2F1Z2h0IHRoaXMgY29sZFwiKVxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrTm90ZXMoXCJkb24ndCBzbmVlemUgaW50byBwb3RcIilcbi8vIGltcG9ydGFudFRhc2sudG9nZ2xlUGlubmVkU3RhdGUoKTtcbi8vIGltcG9ydGFudFRhc2sudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcblxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrVGl0bGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEdWVEYXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tOb3RlcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRQaW5uZWRTdGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBpbXBvcnRhbnRUYXNrLmFkZFRhc2sodGVzdClcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG5cblxuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIHRhYjEuYWRkVGFzayhpbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbi8vIGxldCBhbm90aGVySW1wb3J0YW50VGFzayA9IHRvRG9UYXNrKFwiQ2xlYW4gcG90XCIsIFwicGFydCBvZiBjaG9yZXMgcGxhblwiLCBcInRoaXMgYWZ0ZXJub29uXCIsIFwibWFrZSBzdXJlIHRvIHVzZSBzb2FwXCIpO1xuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIHRhYjEuYWRkVGFzayhhbm90aGVySW1wb3J0YW50VGFzaylcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDEpKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMSkuZ2V0VGFza1RpdGxlKCkpXG5cblxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrVGl0bGUoKSlcblxuLy8gLy8gRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWIoMCk7XG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuXG4vLyBsZXQgdGFiMiA9IHRvRG9UYWIoXCJoZWUgaGVlXCIpXG4vLyB0b0RvTGlzdC5hZGRUYXNrKHRhYjIpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuXG4vLyBsZXQgdGFiMSA9IHRvRG9UYWIoXCJEZWZhdWx0IHRlc3RcIilcbi8vIHRvRG9MaXN0LmFkZFRhc2sodGFiMSlcblxuLy8gbGV0IHRhc2sxID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgMFwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIGNvbnNvbGUubG9nKHRhYjEuYWRkVGFzayh0YXNrMSkpXG5cbi8vIGxldCB0YXNrMiA9IHRvRG9UYXNrKFwiTWFrZSBNb25leSBURVNUIEFHQUlOIDFcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIxLmFkZFRhc2sodGFzazIpXG5cbi8vIGxldCB0YXNrMyA9IHRvRG9UYXNrKFwiTWFrZSBNb25leSBURVNUIEFHQUlOIEFHQUlOIDJcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIxLmFkZFRhc2sodGFzazMpXG5cbi8vIGxldCB0YXNrNCA9IHRvRG9UYXNrKFwiTWFrZSBNb25leSBURVNUIEFHQUlOIEFHQUlOIEFHQUlOIDNcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIxLmFkZFRhc2sodGFzazQpXG5cbi8vIGxldCB0YWIyID0gdG9Eb1RhYihcIlRlc3QgZm9yIGxvYWRpbmcgaW4gdGFzayBvYmplY3RzXCIpXG4vLyB0b0RvTGlzdC5hZGRUYXNrKHRhYjIpXG4vLyBsZXQgdGFza0EgPSB0b0RvVGFzayhcIlRFU1QgT0YgVEhFIE9VVERPT1IgV0FSTklORyBTWVNURU1cIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIyLmFkZFRhc2sodGFza0EpXG4vLyBsZXQgdGFza0IgPSB0b0RvVGFzayhcIlRISVMgSVMgT05MWSBBIFRFU1RcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIyLmFkZFRhc2sodGFza0IpXG5cbi8vIGxldCBjaGVja2xpc3RUYXNrQSA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIEFcIilcbi8vIHRhc2tBLmFkZFRhc2soY2hlY2tsaXN0VGFza0EpXG4vLyBsZXQgY2hlY2tsaXN0VGFza0IgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBCXCIpXG4vLyB0YXNrQS5hZGRUYXNrKGNoZWNrbGlzdFRhc2tCKVxuLy8gbGV0IGNoZWNrbGlzdFRhc2tDID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgQ1wiKVxuLy8gdGFza0IuYWRkVGFzayhjaGVja2xpc3RUYXNrQylcbi8vIGxldCBjaGVja2xpc3RUYXNrRCA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIERcIilcbi8vIHRhc2tCLmFkZFRhc2soY2hlY2tsaXN0VGFza0QpXG4vLyBsZXQgY2hlY2tsaXN0VGFza0UgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBEXCIpXG4vLyB0YXNrQi5hZGRUYXNrKGNoZWNrbGlzdFRhc2tFKVxuXG4vLyB0YXNrQi5yZW1vdmVUYXNrKDEpXG5cbmV2ZW50QXNzaWduZXIuYWRkTmV3VGFiTGlzdGVuZXIoKTtcbi8vIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lcigpO1xuXG5cblxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tUaXRsZSgpKVxuXG5ET01Db250cm9sbGVyQWRkRWRpdC5zZXREZWZhdWx0Q3VycmVudFRhYkRPTSgwKVxuXG5ldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyKClcblxuZXZlbnRBc3NpZ25lci5hZGROZXdUYXNrTGlzdGVuZXIoKTtcblxuZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIoKTtcblxuZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFza0xpc3RlbmVycygpO1xuXG4vLyBjb25zdCBoZWggPSAoKSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2coXCJibG9vcFwiKVxuLy8gfVxuXG4vLyBjb25zdCBib2kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpXG4vLyBib2kuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhlaClcblxuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMoKTtcblxuLy8gbGV0IGNoZWNrbGlzdFRhc2sxID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1RcIilcbi8vIHRhc2sxLmFkZFRhc2soY2hlY2tsaXN0VGFzazEpXG5cbmV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyKCk7XG5cbmV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycygpO1xuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMoKTtcblxuZXZlbnRCdW5kbGVyLmxvYWRJbml0aWFsUGFnZSgpOyJdLCJuYW1lcyI6WyJjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCIsIm9iamVjdCIsImNoZWNrbGlzdCIsIk9iamVjdCIsImFzc2lnbiIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsImxlbmd0aCIsInJlbW92ZVRhc2siLCJpbmRleCIsInVuZGVmaW5lZCIsImdldENoZWNrbGlzdFRhc2tzIiwiZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrIiwidG9Eb0xpc3QiLCJjdXJyZW50VGFiIiwiZ2V0Q3VycmVudFRhYkluZGV4Iiwic2V0Q3VycmVudFRhYkluZGV4IiwibmV3Q3VycmVudFRhYiIsImdldEN1cnJlbnRUYWJPYmplY3QiLCJjdXJyZW50VGFiSW5kZXgiLCJ0aXRsZUJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbFRpdGxlIiwidGl0bGUiLCJnZXRUYXNrVGl0bGUiLCJzZXRUYXNrVGl0bGUiLCJuZXdUaXRsZSIsImhlbHBlckZ1bmN0aW9ucyIsImVuc3VyZUNvcnJlY3RUYWJFbGVtZW50IiwiZXZlbnQiLCJ0YWJFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCIsInRhc2tFbGVtZW50IiwiY2xhc3NMaXN0IiwiQXJyYXkiLCJmcm9tIiwiaW5jbHVkZXMiLCJlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyIiwidGFza1N1YmNvbnRhaW5lciIsImdldFRhcmdldFRhc2tPYmplY3QiLCJkYXRhc2V0IiwidGFza0luZGV4IiwiZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQiLCJidXR0b25FbGVtZW50IiwidGFnTmFtZSIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCIsImNoZWNrbGlzdFRhc2tFbGVtZW50IiwiY2hlY2tGb3JUYWJJbnB1dEVsZW1lbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNoZWNrSWZXYXNDdXJyZW50VGFiIiwiY2hlY2tJZk9ubHlPbmVUYWIiLCJ0b0RvVGFiU2VjdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQiLCJnZXRCdXR0b25UeXBlIiwiZ2V0U3ViY29udGFpbmVyVHlwZSIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RFbGVtZW50IiwiY2hlY2tsaXN0RWxlbWVudCIsImNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCIsImdldFRhcmdldENoZWNrbGlzdFRhc2tPYmplY3QiLCJ0YXNrT2JqZWN0IiwiY2hlY2tsaXN0VGFza0luZGV4IiwiZ2V0VGFza0luZGV4IiwiZ2V0Q2hlY2tsaXN0VGFza0luZGV4IiwiZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiZ2V0VGFza0Rlc2NyaXB0aW9uIiwic2V0VGFza0Rlc2NyaXB0aW9uIiwibmV3RGVzY3JpcHRpb24iLCJjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxDb21wbGV0ZWRTdGF0ZSIsImNvbXBsZXRlZCIsInRvZ2dsZUNvbXBsZXRlZFN0YXRlIiwiZ2V0Q29tcGxldGVkU3RhdGUiLCJvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCIsInRhYk5hbWUiLCJuZXdUYWIiLCJ0b0RvVGFiIiwidGFiSW5kZXgiLCJ2YWx1ZSIsInRhYkFycmF5IiwiZmlyc3RUYWIiLCJ0YWIiLCJkdWVEYXRlIiwibm90ZXMiLCJwaW5uZWQiLCJuZXdUYXNrIiwiaW5pdGlhbER1ZURhdGUiLCJnZXRUYXNrRHVlRGF0ZSIsInNldFRhc2tEdWVEYXRlIiwibmV3RHVlRGF0ZSIsImR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxOb3RlcyIsImdldFRhc2tOb3RlcyIsInNldFRhc2tOb3RlcyIsIm5ld05vdGVzIiwibm90ZXNCZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxQaW5uZWRTdGF0ZSIsInRvZ2dsZVBpbm5lZFN0YXRlIiwiZ2V0UGlubmVkU3RhdGUiLCJwaW5uZWRCZWhhdmlvckNvbXBvbmVudCIsInRvRG9UYXNrIiwibmV3VGFza1RpdGxlVmFsdWUiLCJ0YXNrU3ViY29udGFpbmVyVHlwZSIsIm5ld0NoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RUYXNrT2JqZWN0IiwibmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uIiwiZXZlbnRBc3NpZ25lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudEJ1bmRsZXIiLCJhZGRUYWIiLCJzY29wZSIsInRhYkVkaXRCdXR0b25zIiwiYnV0dG9uIiwiaW5zZXJ0VGFiSW5wdXRFbGVtZW50IiwiaW5wdXRFbGVtZW50IiwidXBkYXRlVGFiIiwidGFiUmVtb3ZlQnV0dG9ucyIsInJlbW92ZVRhYiIsInRhYlN3aXRjaEJ1dHRvbnMiLCJzd2l0Y2hUYWIiLCJ0YXNrUmVtb3ZlQnV0dG9ucyIsInRhc2tFZGl0QnV0dG9ucyIsImluc2VydFRhc2tJbnB1dEVsZW1lbnQiLCJ1cGRhdGVUYXNrIiwidGFza0NvbXBsZXRlQ2hlY2tib3hlcyIsImNoZWNrYm94IiwidG9nZ2xlVGFza0NvbXBsZXRlIiwibmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMiLCJhZGROZXdDaGVja2xpc3RUYXNrIiwiY2hlY2tsaXN0RWRpdEJ1dHRvbnMiLCJpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50IiwidXBkYXRlQ2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3hlcyIsInRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSIsImNoZWNrbGlzdFRhc2tSZW1vdmVCdXR0b25zIiwicmVtb3ZlQ2hlY2tsaXN0VGFzayIsInRhc2tQaW5CdXR0b25zIiwidG9nZ2xlVGFza1BpbiIsInRhc2tUb2dnbGVEaXNwbGF5QnV0dG9ucyIsInRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyIsIkRPTUNvbnRyb2xsZXJBZGRFZGl0IiwiYWRkTmV3VGFza1RvRE9NIiwibmV3VGFza09iamVjdCIsInRvRG9Db250ZW50IiwibmV3VGFza05vZGUiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwibmV3VGFza1RpdGxlIiwibmV3VGFza0Rlc2NyaXB0aW9uIiwibmV3VGFza0R1ZURhdGUiLCJuZXdUYXNrTm90ZXMiLCJuZXdUYXNrQ29tcGxldGVJRCIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGVUYXNrRE9NQ29tcGxldGUiLCJjb21wbGV0ZUNoZWNrYm94IiwiY2hlY2tlZCIsInJlbW92ZSIsImFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSIsIm5ld0NoZWNrbGlzdFRhc2tJbmRleCIsIm5ld0NoZWNrbGlzdFRhc2tOb2RlIiwidG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlIiwiY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveCIsInNldFBpbkJ1dHRvbkltYWdlIiwibmV3VGFza0VsZW1lbnQiLCJjdXJyZW50VGFiT2JqZWN0IiwiY3VycmVudFRhc2tJbmRleCIsImN1cnJlbnRUYXNrT2JqZWN0IiwicGluQnV0dG9uSW1hZ2UiLCJyZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uIiwidGFza0NvbnRlbnRTZWN0aW9uIiwibGlzdE9mUGlubmVkVGFza0VsZW1lbnRzIiwiaW5zZXJ0QmVmb3JlIiwibGFzdFBpbm5lZFRhc2tFbGVtZW50IiwicGlubmVkVGFza0VsZW1lbnQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJhZGROZXdUYWJUb0RPTSIsImFkZFRhYkJ1dHRvbiIsIm5ld1RhYk5vZGUiLCJuZXdUYWJPYmplY3RUaXRsZSIsInNldFRhYklucHV0RWxlbWVudFZhbHVlIiwiZmlyc3RDaGlsZCIsImZvY3VzIiwiaW5zZXJ0VGFiTmFtZUVsZW1lbnQiLCJ0YWJCdXR0b24iLCJ0YWJCdXR0b25OYW1lIiwic2V0RGVmYXVsdEN1cnJlbnRUYWJET00iLCJzZXRDdXJyZW50VGFiRE9NIiwic2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIiLCJmaXJzdFRhYkluZGV4Iiwic2V0VGFza0lucHV0RWxlbWVudFZhbHVlIiwiYnV0dG9uVHlwZSIsInRhc2tTdWJjb250ZW50IiwiaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1RpdGxlIiwidGFza0R1ZURhdGUiLCJ0YXNrRGVzY3JpcHRpb24iLCJ0YXNrTm90ZXMiLCJjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24iLCJzZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUiLCJjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24iLCJpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50IiwiY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCIsImNoYW5nZVBpbkJ1dHRvbkltYWdlIiwic2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uIiwidGFza0VsZW1lbnRJbmRleCIsImxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzIiwibGFzdFVucGlubmVkVGFza0VsZW1lbnQiLCJ1bnBpbm5lZFRhc2tFbGVtZW50IiwibG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIiLCJsaXN0T2ZUYXNrcyIsImFkZFRhc2tMaXN0ZW5lcnMiLCJsaXN0T2ZDaGVja2xpc3RUYXNrcyIsIm5ld0NoZWNrbGlzdFRhc2tFbGVtZW50IiwiYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyIsImZvckVhY2giLCJlbGVtZW50Iiwicm90YXRlQ2hldnJvbkJ1dHRvbiIsImJ1dHRvbkltYWdlIiwiYnV0dG9uSW1hZ2VDbGFzcyIsInRvZ2dsZSIsIm9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QiLCJET01Db250cm9sbGVyUmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwicmVwbGFjZUNoaWxkcmVuIiwibmV3VGFiSW5kZXgiLCJhZGRUYWJMaXN0ZW5lcnMiLCJuZXdUYXNrSW5kZXgiLCJjb2RlIiwibG9hZEluaXRpYWxQYWdlIiwiaW5zdHJ1Y3Rpb25zSXRlbSIsImNoZWNrbGlzdFRhc2tOb2RlIiwiYWRkSW5zdHJ1Y3Rpb25zQ2hlY2tsaXN0VGFzayJdLCJzb3VyY2VSb290IjoiIn0=
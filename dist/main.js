(()=>{"use strict";const e=e=>{let t=[];return Object.assign(e,{addTask:e=>(t.push(e),t.length-1),removeTask(e){t[e]=void 0},getChecklistTasks:()=>t,getSpecificChecklistTask:e=>t[e]})},t=(()=>{let s=0;const n=()=>s;let a={getCurrentTabIndex:n,setCurrentTabIndex:e=>{s=e},getCurrentTabObject:()=>{const e=n();return t.getSpecificChecklistTask(e)}};return Object.assign(a,e(a)),a})(),s=(e,t)=>{let s=t;return Object.assign(e,{getTaskTitle:()=>s,setTaskTitle(e){s=e}})},n=(()=>{const e=e=>{let t=e.target.parentElement;for(;"tab-title"!==t.getAttribute("class");)t=t.parentElement;return t},s=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task-subcontainer");)t=t.parentElement,s=Array.from(t.classList);return t},n=e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist-task");)t=t.parentElement,s=Array.from(t.classList);return t},a=e=>document.querySelector(`[data-task-index='${e}']`),o=e=>t.getSpecificChecklistTask(e),c=(e,t)=>o(e).getSpecificChecklistTask(t);return{checkIfWasCurrentTab:t=>"current-tab"===e(t).getAttribute("id"),checkIfOnlyOneTab:()=>{const e=document.querySelector(".to-do-tab-section");return 1===Array.from(e.querySelectorAll(".tab-title")).length},getTaskIndex:e=>{const t=(e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task");)t=t.parentElement,s=Array.from(t.classList);return t})(e);return t.dataset.taskIndex},getChecklistTaskIndex:e=>n(e).dataset.checklistTaskIndex,getTabIndex:t=>e(t).dataset.tabIndex,getNewValue:e=>e.target.value,getTaskSubcontainerType:e=>{const t=s(e),n=Array.from(t.classList);let a;return n.includes("to-do-title-section")?a="Title":n.includes("to-do-due-date-section")?a="Due Date":n.includes("to-do-description-section")?a="Description":n.includes("to-do-notes-section")&&(a="Notes"),a},getTaskSubcontainerElement:(e,t)=>{const s=a(e);let n;return"Title"===t?n=s.querySelector(".to-do-title-section"):"Due Date"===t?n=s.querySelector(".to-do-due-date-section"):"Description"===t?n=s.querySelector(".to-do-description-section"):"Notes"===t&&(n=s.querySelector(".to-do-notes-section")),n},getTaskElement:a,getChecklistTaskElement:(e,t)=>a(e).querySelector(`[data-checklist-task-index='${t}']`),getTabElement:e=>document.querySelector(`[data-tab-index='${e}']`),checkForExistingInputElement:(t,a)=>{let o;return"Tab"===a?o=e(t).querySelector(".tab-name-input"):"Task"===a?o=s(t).querySelector(".task-input"):"Checklist Task"===a&&(o=n(t).querySelector(".checklist-complete-section").querySelector(".checklist-input")),null!==o},tryingToDoubleClick:e=>{const t=a(e);return!!Array.from(t.classList).includes("mid-animation")},getTabObject:o,getTaskObject:c,getChecklistTaskObject:(e,t,s)=>c(e,t).getSpecificChecklistTask(s)}})(),a=(e,t)=>{let s=t;return Object.assign(e,{getTaskDescription:()=>s,setTaskDescription(e){s=e}})},o=(e,t)=>{let s=t;return Object.assign(e,{toggleCompletedState(){s=!s},getCompletedState:()=>s})},c=(n="New Tab")=>{const a=(t=>{let n={};return Object.assign(n,s(n,t),e(n)),n})(n);return t.addTask(a)},i=(e,s)=>{t.getSpecificChecklistTask(e).setTaskTitle(s)},l=e=>{t.setCurrentTabIndex(e)},r=()=>{const e=t.getChecklistTasks();let s;for(const n in e)if(void 0!==e[n])return t.setCurrentTabIndex(n),s=n,s},d=(n="New Task Title",c="Task Due Date",i="Task Description",l="Task Notes",r=!1,d=!1)=>{const k=t.getCurrentTabIndex(),u=t.getSpecificChecklistTask(k),T=((t,n,c,i,l,r)=>{let d={};return Object.assign(d,s(d,t),a(d,c),((e,t)=>{let s=t;return Object.assign(e,{getTaskDueDate:()=>s,setTaskDueDate(e){s=e}})})(d,n),((e,t)=>{let s=t;return Object.assign(e,{getTaskNotes:()=>s,setTaskNotes(e){s=e}})})(d,i),((e,t)=>{let s=t;return Object.assign(e,{togglePinnedState(){s=!s},getPinnedState:()=>s})})(d,l),o(d,r),e(d)),d})(n,c,i,l,r,d);return u.addTask(T)},k=(e,s,n)=>{const a=t.getCurrentTabObject().getSpecificChecklistTask(e);"Title"===s?a.setTaskTitle(n):"Due Date"===s?a.setTaskDueDate(n):"Description"===s?a.setTaskDescription(n):"Notes"===s&&a.setTaskNotes(n)},u=e=>{t.getCurrentTabObject().getSpecificChecklistTask(e).toggleCompletedState()},T=(e,s="Checklist Task Description",n=!1)=>{const c=t.getCurrentTabObject().getSpecificChecklistTask(e),i=((e,t)=>{let s={};return Object.assign(s,a(s,e),o(s,t)),s})(s,n);return c.addTask(i)},g=(e,s,n)=>{t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s).setTaskDescription(n)},m=(e,s)=>{t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s).toggleCompletedState()},p=e=>{t.getCurrentTabObject().getSpecificChecklistTask(e).togglePinnedState()},b=()=>{document.querySelector(".add-tab").addEventListener("click",X.addTab)},h=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-tab"));for(const e of t)e.addEventListener("click",X.insertTabInputElement)},C=e=>{e.addEventListener("keydown",X.updateTab)},f=(e=document)=>{const t=Array.from(e.querySelectorAll(".remove-tab"));for(const e of t)e.addEventListener("click",X.removeTab)},S=(e=document)=>{const t=Array.from(e.querySelectorAll(".switch-tab"));for(const e of t)e.addEventListener("click",X.switchTab)},y=()=>{document.querySelector(".new-to-do-task").addEventListener("click",X.newTask)},E=(e=document)=>{const t=Array.from(e.querySelectorAll(".to-do-remove-task"));for(const e of t)e.addEventListener("click",X.removeTask)},v=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-task"));for(const e of t)e.addEventListener("click",X.insertTaskInputElement)},D=e=>{e.addEventListener("keydown",X.updateTask)},I=(e=document)=>{const t=e.querySelectorAll(".to-do-complete-checkbox");for(const e of t)e.addEventListener("click",X.toggleTaskComplete)},L=(e=document)=>{const t=e.querySelectorAll(".add-checklist-task");for(const e of t)e.addEventListener("click",X.addNewChecklistTask)},O=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-checklist-task"));for(const e of t)e.addEventListener("click",X.insertChecklistTaskInputElement)},A=e=>{e.addEventListener("keydown",X.updateChecklistTask)},q=(e=document)=>{const t=e.querySelectorAll(".checklist-complete-checkbox");for(const e of t)e.addEventListener("click",X.toggleChecklistTaskComplete)},x=(e=document)=>{const t=e.querySelectorAll(".remove-checklist-task");for(const e of t)e.addEventListener("click",X.removeChecklistTask)},N=(e=document)=>{const t=e.querySelectorAll(".to-do-pin");for(const e of t)e.addEventListener("click",X.toggleTaskPin)},w=(e=document)=>{const t=e.querySelectorAll(".to-do-task-change-display");for(const e of t)e.addEventListener("click",X.toggleDisplayTaskDetails)},j=(()=>{const e=e=>{const s=t.getCurrentTabObject().getSpecificChecklistTask(e),n=document.querySelector(".to-do-content"),a=document.createElement("div");a.classList.add("to-do-task"),a.dataset.taskIndex=e;const o=s.getTaskTitle(),c=s.getTaskDescription(),i=s.getTaskDueDate(),l=s.getTaskNotes(),r=`to-do-complete-checkbox-${e}`;return a.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-unpinned.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="ID PLACEHOLDER" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="ID PLACEHOLDER">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer animation-target">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer animation-target">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <div action="" class="checklist animation-target">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </div>\n        ',a.querySelector(".to-do-title").textContent=o,a.querySelector(".to-do-due-date").textContent="Due On: "+i,a.querySelector(".to-do-description").textContent="Description: "+c,a.querySelector(".to-do-notes").textContent="Notes: "+l,n.appendChild(a),a.querySelector("label").setAttribute("for",r),a.querySelector(".to-do-complete-checkbox").setAttribute("id",r),a},s=e=>{const s=n.getTaskElement(e),a=s.querySelector(".to-do-complete-checkbox");t.getCurrentTabObject().getSpecificChecklistTask(e).getCompletedState()?(a.checked=!0,s.classList.add("task-completed")):(a.checked=!1,s.classList.remove("task-completed"))},a=(e,s)=>{const a=n.getTaskElement(e).querySelector(".checklist"),o=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s).getTaskDescription(),c=document.createElement("div");return c.classList.add("checklist-task"),c.dataset.checklistTaskIndex=s,c.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${e}-${s}" class="checklist-complete-checkbox">\n                <label for="checklist-${e}-${s}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,c.querySelector(".checklist-task-description").textContent=o,a.appendChild(c),c},o=(e,s)=>{const a=n.getChecklistTaskElement(e,s).querySelector(".checklist-complete-section").querySelector(".checklist-complete-checkbox"),o=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s);a.checked=o.getCompletedState(),o.getCompletedState()?a.classList.add("checklist-task-completed"):a.classList.remove("checklist-task-completed")},c=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,a=s.getSpecificChecklistTask(n),o=e.querySelector(".to-do-pin").querySelector("img");a.getPinnedState()?o.setAttribute("src","./assets/pin-pinned.png"):o.setAttribute("src","./assets/pin-unpinned.png")},i=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,a=s.getSpecificChecklistTask(n),o=document.querySelector(".to-do-content");if(a.getPinnedState()){const t=Array.from(document.querySelectorAll(".pinned-task"));if(0===t.length)o.insertBefore(e,o.firstElementChild);else{const s=t[t.length-1];for(const a of t){if(n<a.dataset.taskIndex){o.insertBefore(e,a);break}a===s&&s.insertAdjacentElement("afterend",e)}}e.classList.add("pinned-task")}};return{addNewTabToDOM:e=>{const s=document.querySelector(".add-tab"),n=document.querySelector(".to-do-tab-section"),a=document.createElement("div"),o=t.getSpecificChecklistTask(e).getTaskTitle();return a.classList.add("tab-title"),a.dataset.tabIndex=e,a.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',a.querySelector(".tab-name").textContent=o,n.insertBefore(a,s),a},setTabInputElementValue:e=>{const s=n.getTabElement(e).querySelector("input"),a=t.getSpecificChecklistTask(e).getTaskTitle();s.value=a},insertTabInputElement:e=>{const t=n.getTabElement(e),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),t.insertBefore(s,t.firstChild),s.focus(),s},insertTabNameElement:e=>{const s=n.getTabElement(e),a=t.getSpecificChecklistTask(e).getTaskTitle(),o=document.createElement("button");o.classList.add("switch-tab");const c=document.createElement("h2");return c.classList.add("tab-name"),c.textContent=a,o.appendChild(c),s.insertBefore(o,s.firstChild),s},setDefaultCurrentTabDOM:e=>{const t=n.getTabElement(e);null!==t&&t.setAttribute("id","current-tab")},setCurrentTabDOM:e=>{n.getTabElement(e).setAttribute("id","current-tab")},setFirstTabToCurrentTab:e=>{void 0!==e&&n.getTabElement(e).setAttribute("id","current-tab")},addNewTaskToDOM:e,insertTaskInputElement:(e,t)=>{const s=n.getTaskSubcontainerElement(e,t),a=document.createElement("input");return a.classList.add("task-input"),a.setAttribute("type","text"),s.insertBefore(a,s.firstChild),a.focus(),a},setTaskInputElementValue:(e,s)=>{const a=n.getTaskSubcontainerElement(e,s).querySelector("input"),o=t.getCurrentTabObject().getSpecificChecklistTask(e);let c;"Title"===s?c=o.getTaskTitle():"Due Date"===s?c=o.getTaskDueDate():"Description"===s?c=o.getTaskDescription():"Notes"===s&&(c=o.getTaskNotes()),a.value=c},insertTaskSubcontentElement:(e,s)=>{const a=n.getTaskSubcontainerElement(e,s),o=t.getCurrentTabObject().getSpecificChecklistTask(e);let c;if("Title"===s){const e=o.getTaskTitle();c=document.createElement("h3"),c.classList.add("to-do-title"),c.textContent=e}else if("Due Date"===s){const e=o.getTaskDueDate();c=document.createElement("p"),c.classList.add("to-do-due-date"),c.textContent="Due On: "+e}else if("Description"===s){const e=o.getTaskDescription();c=document.createElement("p"),c.classList.add("to-do-description"),c.textContent="Description: "+e}else if("Notes"===s){const e=o.getTaskNotes();c=document.createElement("p"),c.classList.add("to-do-notes"),c.textContent="Notes: "+e}a.insertBefore(c,a.firstChild)},toggleTaskDOMComplete:s,addNewChecklistTaskToDOM:a,insertChecklistTaskInputElement:(e,t)=>{const s=n.getChecklistTaskElement(e,t).querySelector(".checklist-complete-section"),a=document.createElement("input");return a.classList.add("checklist-input"),a.setAttribute("type","text"),s.appendChild(a),a.focus(),a},setChecklistTaskInputElementValue:(e,s)=>{const a=n.getChecklistTaskElement(e,s).querySelector(".checklist-input"),o=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s).getTaskDescription();a.value=o},insertChecklistTaskDescriptionElement:(e,s)=>{const a=n.getChecklistTaskElement(e,s).querySelector(".checklist-complete-section"),o=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s).getTaskDescription(),c=document.createElement("label");c.setAttribute("for",`checklist-${e}-${s}`),c.classList.add("checklist-task-description"),c.textContent=o,a.appendChild(c)},toggleChecklistTaskDOMComplete:o,changePinButtonImage:e=>{const s=n.getTaskElement(e),a=t.getCurrentTabObject().getSpecificChecklistTask(e),o=s.querySelector(".to-do-pin").querySelector("img");a.getPinnedState()?o.setAttribute("src","./assets/pin-pinned.png"):o.setAttribute("src","./assets/pin-unpinned.png")},shiftTaskElementPosition:e=>{const s=n.getTaskElement(e),a=t.getCurrentTabObject().getSpecificChecklistTask(e),o=s.dataset.taskIndex,c=document.querySelector(".to-do-content");if(a.getPinnedState()){const e=Array.from(document.querySelectorAll(".pinned-task"));if(0===e.length)c.insertBefore(s,c.firstElementChild);else{const t=e[e.length-1];for(const n of e){if(o<n.dataset.taskIndex){c.insertBefore(s,n);break}n===t&&t.insertAdjacentElement("afterend",s)}}s.classList.add("pinned-task")}else{const e=Array.from(c.querySelectorAll(".to-do-task:not(.pinned-task)"));if(0===e.length)c.appendChild(s);else{const t=e[e.length-1];for(const n of e){if(o<n.dataset.taskIndex){c.insertBefore(s,n);break}n===t&&c.appendChild(s,t)}}s.classList.remove("pinned-task")}},loadTasksFromNewCurrentTab:()=>{const n=t.getCurrentTabObject().getChecklistTasks();for(const t in n){const l=n[t];if(void 0!==l){const n=e(t);c(n),i(n),s(t),X.addTaskListeners(n);const r=l.getChecklistTasks();for(const e in r)if(void 0!==r[e]){const s=a(t,e);o(t,e),X.addChecklistTaskListeners(s)}}}},toggleDisplayTaskDetails:e=>{const t=n.getTaskElement(e);Array.from(t.querySelectorAll(".animation-target")).forEach((e=>{Array.from(e.classList).includes("hide-to-do-details")?(e.classList.remove("hide-to-do-details"),e.classList.add("display-to-do-details"),e.style.display="flex"):(e.classList.add("hide-to-do-details"),e.classList.remove("display-to-do-details"),setTimeout((()=>{e.style.display="none"}),1e3))})),(e=>{e.classList.add("mid-animation"),setTimeout((()=>{e.classList.remove("mid-animation")}),1e3)})(t)},rotateChevronButton:e=>{const t=n.getTaskElement(e).querySelector(".to-do-task-change-display").querySelector("img"),s=Array.from(t.classList);0===s.length||s.includes("rotate-hide-task-details")?(t.classList.remove("rotate-hide-task-details"),t.classList.add("rotate-display-task-details"),t.classList.add("rotated-chevron")):s.includes("rotate-display-task-details")&&(t.classList.remove("rotate-display-task-details"),t.classList.add("rotate-hide-task-details"),t.classList.remove("rotated-chevron"))},toggleAnimations:(e,t)=>{const s=n.getTaskElement(e),a=s.querySelector(".to-do-task-change-display").querySelector("img"),o=Array.from(s.querySelectorAll(".animation-target"));o.push(a),o.forEach((e=>{"Enable"===t?e.classList.add("no-animations"):"Disable"===t&&e.classList.remove("no-animations")}))}}})(),P=e=>{t.removeTask(e)},$=e=>{t.getCurrentTabObject().removeTask(e)},_=(e,s)=>{t.getCurrentTabObject().getSpecificChecklistTask(e).removeTask(s)},M=e=>{const t=n.getTabElement(e);let s=t.querySelector(".switch-tab");t.removeChild(s),s=null},B=e=>{const t=n.getTabElement(e);let s=t.querySelector("input");t.removeChild(s),s=null},H=e=>{let t=n.getTabElement(e);document.querySelector(".to-do-tab-section").removeChild(t),t=null},R=()=>{const e=document.querySelector("#current-tab");null!==e&&e.removeAttribute("id")},J=e=>{let t=n.getTaskElement(e);document.querySelector(".to-do-content").removeChild(t),t=null},F=(e,t)=>{const s=n.getTaskSubcontainerElement(e,t);let a=s.firstElementChild;s.removeChild(a),a=null},V=(e,t)=>{const s=n.getTaskSubcontainerElement(e,t);let a=s.querySelector("input");s.removeChild(a),a=null},W=(e,t)=>{const s=n.getChecklistTaskElement(e,t),a=s.querySelector(".checklist-complete-section");let o=s.querySelector(".checklist-task-description");a.removeChild(o),o=null},z=(e,t)=>{const s=n.getChecklistTaskElement(e,t).querySelector(".checklist-complete-section");let a=s.querySelector(".checklist-input");s.removeChild(a),a=null},Q=(e,t)=>{const s=n.getTaskElement(e).querySelector(".checklist");let a=n.getChecklistTaskElement(e,t);s.removeChild(a),a=null},U=()=>{document.querySelector(".to-do-content").replaceChildren()},X=(()=>{const e=(e,t="New Tab")=>{const s=c(t),a=j.addNewTabToDOM(s);if(o(a),n.checkIfOnlyOneTab()){const e=r();j.setFirstTabToCurrentTab(e)}},t=(e,t="New Task Title",n="Task Due Date",a="Task Description",o="Task Notes",c=!1,i=!1)=>{const l=d(t,n,a,o,c,i),r=j.addNewTaskToDOM(l);return s(r),l},s=e=>{E(e),v(e),I(e),L(e),N(e),w(e)},a=e=>{O(e),q(e),x(e)},o=e=>{h(e),f(e),S(e)};return{addTab:e,insertTabInputElement:e=>{if(!n.checkForExistingInputElement(e,"Tab")){const t=n.getTabIndex(e),s=j.insertTabInputElement(t);M(t),j.setTabInputElementValue(t),C(s)}},updateTab:e=>{if("Enter"===e.code){const t=n.getTabIndex(e),s=n.getNewValue(e);i(t,s);const a=j.insertTabNameElement(t);B(t),S(a)}},removeTab:e=>{const t=n.getTabIndex(e);if(P(t),H(t),n.checkIfWasCurrentTab(e)){const e=r();j.setFirstTabToCurrentTab(e),U(),j.loadTasksFromNewCurrentTab()}},switchTab:e=>{if(!n.checkIfWasCurrentTab(e)){const t=n.getTabIndex(e);l(t),R(),j.setCurrentTabDOM(t),U(),j.loadTasksFromNewCurrentTab()}},newTask:t,removeTask:e=>{const t=n.getTaskIndex(e);$(t),J(t)},insertTaskInputElement:e=>{if(!n.checkForExistingInputElement(e,"Task")){const t=n.getTaskIndex(e),s=n.getTaskSubcontainerType(e);F(t,s);const a=j.insertTaskInputElement(t,s);j.setTaskInputElementValue(t,s),D(a)}},updateTask:e=>{if("Enter"===e.code){const t=n.getTaskIndex(e),s=n.getTaskSubcontainerType(e),a=n.getNewValue(e);k(t,s,a),j.insertTaskSubcontentElement(t,s),V(t,s)}},toggleTaskComplete:e=>{const t=n.getTaskIndex(e);u(t),j.toggleTaskDOMComplete(t)},addNewChecklistTask:e=>{const t=n.getTaskIndex(e),s=T(t),o=j.addNewChecklistTaskToDOM(t,s);a(o)},insertChecklistTaskInputElement:e=>{if(!n.checkForExistingInputElement(e,"Checklist Task")){const t=n.getTaskIndex(e),s=n.getChecklistTaskIndex(e);W(t,s);const a=j.insertChecklistTaskInputElement(t,s);j.setChecklistTaskInputElementValue(t,s),A(a)}},updateChecklistTask:e=>{if("Enter"===e.code){const t=n.getTaskIndex(e),s=n.getChecklistTaskIndex(e),a=n.getNewValue(e);g(t,s,a),j.insertChecklistTaskDescriptionElement(t,s),z(t,s)}},toggleChecklistTaskComplete:e=>{const t=n.getTaskIndex(e),s=n.getChecklistTaskIndex(e);m(t,s),j.toggleChecklistTaskDOMComplete(t,s)},removeChecklistTask:e=>{const t=n.getTaskIndex(e),s=n.getChecklistTaskIndex(e);_(t,s),Q(t,s)},toggleTaskPin:e=>{const t=n.getTaskIndex(e);j.toggleAnimations(t,"Enable"),p(t),j.changePinButtonImage(t),j.shiftTaskElementPosition(t)},addTaskListeners:s,addChecklistTaskListeners:a,toggleDisplayTaskDetails:e=>{const t=n.getTaskIndex(e);n.tryingToDoubleClick(t)||(j.toggleAnimations(t,"Disable"),j.toggleDisplayTaskDetails(t),j.rotateChevronButton(t))},addTabListeners:o,loadInitialPage:()=>{e(event,"Instructions");const s=t(event,"Quick Tips! Click the pin button to pin a task to the top of the list.","Tomorrow, next week, or whenever your task is due, you can add it here! Click the arrow button to toggle between showing and hiding task details.","Add a description of your task here! Click the pencil buttons to edit the various parts of your task.","Jot down some notes here! Mark your task as complete when you're done, or remove it from the list by clicking the X button.",!0,!0);j.toggleTaskDOMComplete(s),j.changePinButtonImage(s),j.shiftTaskElementPosition(s),(e=>{[["If your task has multiple steps, try breaking them down into a checklist! Click the plus sign button to add steps as needed.",!0],["Have a new task you want to keep track of? Add it to the list by clicking on the 'New Task' button below!",!0],["Organize the different types of tasks in your life by creating themed tabs. Create a new tab by clicking on the plus sign button at the top of the list. Change tabs by clicking on different tab names.",!0]].forEach((t=>{const s=T(e,t[0],t[1]),n=j.addNewChecklistTaskToDOM(e,s);j.toggleChecklistTaskDOMComplete(e,s),a(n)}))})(s)}}})(),G=e=>{const t=`{\n            "title": "${n.getTabObject(e).getTaskTitle()}",\n            "tasks": {}\n        }`,s=JSON.parse(t),a=localStorage.getItem("to_do_list"),o=JSON.parse(a);o.tabs[`tab_${e}`]=s;const c=JSON.stringify(o);localStorage.setItem("to_do_list",c)},K=(e,t)=>{const s=n.getTaskObject(e,t),a=`{\n            "title": "${s.getTaskTitle()}",\n            "due-date": "${s.getTaskDueDate()}",\n            "description": "${s.getTaskDescription()}",\n            "notes": "${s.getTaskNotes()}",\n            "completed": ${s.getCompletedState()},\n            "pinned": ${s.getPinnedState()},\n            "checklist_tasks": {}\n        }`,o=JSON.parse(a),c=localStorage.getItem("to_do_list"),i=JSON.parse(c);i.tabs[`tab_${e}`].tasks[`task_${t}`]=o;const l=JSON.stringify(i);localStorage.setItem("to_do_list",l)},Y=(e,t,s)=>{const a=n.getChecklistTaskObject(e,t,s),o=`{\n            "description": "${a.getTaskDescription()}",\n            "completed": ${a.getCompletedState()}\n        }`,c=JSON.parse(o),i=localStorage.getItem("to_do_list"),l=JSON.parse(i);l.tabs[`tab_${e}`].tasks[`task_${t}`].checklist_tasks[`checklist_task_${s}`]=c;const r=JSON.stringify(l);localStorage.setItem("to_do_list",r)};b(),h(),f(),j.setDefaultCurrentTabDOM(0),S(),y(),E(),v(),I(),L(),O(),q(),x(),N(),w(),X.loadInitialPage(),G(0),K(0,0),Y(0,0,0),Y(0,0,1),Y(0,0,2),console.log(JSON.parse(localStorage.getItem("to_do_list")))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNQyxHQUN4Q0csRUFBMkIsS0FBRSxPQUFPdE4sS0FBbUIsTUFBRSxRQUFRSixLQUFlK04sRUFDaEYsTUFBTUosRUFBNEJOLEtBQUtPLFVBQVVGLEdBQ2pERixhQUFhSyxRQUFRLGFBQWNGLEVBQTBCLEVBeEMvRFQsRUEwQ3VCLENBQUM5TSxFQUFVSixFQUFXZSxLQUMzQyxNQUFNeUQsRUFBc0J4RixFQUFnQjhDLHVCQUF1QjFCLEVBQVVKLEVBQVdlLEdBQ2xGaU4sRUFBeUIsa0NBQ1R4SixFQUFvQnRDLG9EQUN2QnNDLEVBQW9CL0IsaUNBRWpDd0wsRUFBNEJaLEtBQUtDLE1BQU1VLEdBQ3ZDVCxFQUFvQkMsYUFBYUMsUUFBUSxjQUN6Q0MsRUFBdUJMLEtBQUtDLE1BQU1DLEdBQ3hDRyxFQUEyQixLQUFFLE9BQU90TixLQUFtQixNQUFFLFFBQVFKLEtBQThCLGdCQUFFLGtCQUFrQmUsS0FBd0JrTixFQUMzSSxNQUFNTixFQUE0Qk4sS0FBS08sVUFBVUYsR0FDakRGLGFBQWFLLFFBQVEsYUFBY0YsRUFBMEIsRUNpR3JFakosSUFFQUEsSUFDQUEsSUFXQWlDLEVBQXFCa0Qsd0JBQXdCLEdBRTdDbkYsSUFFQUEsSUFFQUEsSUFFQUEsSUFTQUEsSUFDQUEsSUFDQUEsSUFLQUEsSUFDQUEsSUFFQUEsSUFDQUEsSUFFQUUsRUFBYW1JLGtCQUdiRyxFQUFlLEdBQ2ZBLEVBQWdCLEVBQUUsR0FDbEJBLEVBQXlCLEVBQUUsRUFBRSxHQUM3QkEsRUFBeUIsRUFBRSxFQUFFLEdBQzdCQSxFQUF5QixFQUFFLEVBQUUsR0FHN0JnQixRQUFRQyxJQUFJZCxLQUFLQyxNQUFNRSxhQUFhQyxRQUFRLGUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fbGlzdF9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy90aXRsZV9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9oZWxwZXJfZnVuY3Rpb25zLmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL29iamVjdF9jb250cm9sbGVyX2FkZF9lZGl0X29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fdGFiX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fdGFza19vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9kdWVfZGF0ZV9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvY2hlY2tsaXN0X3Rhc2tfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvZXZlbnRfYXNzaWduZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9vYmplY3RfY29udHJvbGxlcl9yZW1vdmVfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvRE9NX2NvbnRyb2xsZXJfcmVtb3ZlLmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvZXZlbnRfYnVuZGxlcl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9zdG9yYWdlX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QpID0+IHtcbiAgICBsZXQgY2hlY2tsaXN0ID0gW107XG4gICAgY29uc3QgZ2V0VGFza0luZGV4ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0Lmxlbmd0aCAtIDE7XG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgYWRkVGFzayh0YXNrKSB7XG4gICAgICAgICAgICBjaGVja2xpc3QucHVzaCh0YXNrKTtcbiAgICAgICAgICAgIC8vIHJldHVybiBjaGVja2xpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJldHVybiBnZXRUYXNrSW5kZXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlVGFzayhpbmRleCkge1xuICAgICAgICAgICAgY2hlY2tsaXN0W2luZGV4XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q2hlY2tsaXN0VGFza3MoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tsaXN0O1xuICAgICAgICB9LFxuICAgICAgICBnZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVja2xpc3RbaW5kZXhdO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9OyIsIi8vIGltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG5jb25zdCB0b0RvTGlzdCA9ICgoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRUYWIgPSAwO1xuICAgIGNvbnN0IGdldEN1cnJlbnRUYWJJbmRleCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUYWI7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDdXJyZW50VGFiSW5kZXggPSAobmV3Q3VycmVudFRhYikgPT4ge1xuICAgICAgICBjdXJyZW50VGFiID0gbmV3Q3VycmVudFRhYjtcbiAgICB9O1xuICAgIGNvbnN0IGdldEN1cnJlbnRUYWJPYmplY3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IGdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50VGFiT2JqZWN0O1xuICAgIH1cbiAgICBsZXQgb2JqZWN0ID0ge1xuICAgICAgICBnZXRDdXJyZW50VGFiSW5kZXgsXG4gICAgICAgIHNldEN1cnJlbnRUYWJJbmRleCxcbiAgICAgICAgZ2V0Q3VycmVudFRhYk9iamVjdFxuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufSkoKTtcblxuZXhwb3J0IHsgdG9Eb0xpc3QgfTsiLCJjb25zdCB0aXRsZUJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbFRpdGxlKSA9PiB7XG4gICAgbGV0IHRpdGxlID0gaW5pdGlhbFRpdGxlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrVGl0bGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tUaXRsZShuZXdUaXRsZSkge1xuICAgICAgICAgICAgdGl0bGUgPSBuZXdUaXRsZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5cbmNvbnN0IGhlbHBlckZ1bmN0aW9ucyA9ICgoKSA9PiB7XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhYkVsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHRhYkVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgIT09IFwidGFiLXRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhYkVsZW1lbnQgPSB0YWJFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YWJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudCA9IChldmVudCwgZWxlbWVudFR5cGUpID0+IHtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGVsZW1lbnRUeXBlID09PSBcIlRhYlwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50ID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYi1uYW1lLWlucHV0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBcIlRhc2tcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWlucHV0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBcIkNoZWNrbGlzdCBUYXNrXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQgPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tJZldhc0N1cnJlbnRUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHRhYkVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IFwiY3VycmVudC10YWJcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0lmT25seU9uZVRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFicyA9IEFycmF5LmZyb20odG9Eb1RhYlNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50YWItdGl0bGVcIikpO1xuICAgICAgICBpZiAodG9Eb1RhYnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza0VsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJ0by1kby10YXNrXCIpKSB7XG4gICAgICAgICAgICB0YXNrRWxlbWVudCA9IHRhc2tFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YXNrRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYXNrU3ViY29udGFpbmVyRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0KVxuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcInRvLWRvLXRhc2stc3ViY29udGFpbmVyXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHRhc2tTdWJjb250YWluZXJFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXJFbGVtZW50LmNsYXNzTGlzdClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbShjaGVja2xpc3RUYXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcImNoZWNrbGlzdC10YXNrXCIpKSB7XG4gICAgICAgICAgICBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKGNoZWNrbGlzdFRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgZ2V0VGFza0luZGV4ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIHJldHVybiB0YXNrSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDaGVja2xpc3RUYXNrSW5kZXggPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBjaGVja2xpc3RUYXNrRWxlbWVudC5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhYkluZGV4ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhYkluZGV4ID0gdGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICByZXR1cm4gdGFiSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBnZXROZXdWYWx1ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFza1N1YmNvbnRhaW5lclR5cGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudENsYXNzZXMgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXJFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInRvLWRvLXRpdGxlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJUeXBlID0gXCJUaXRsZVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJUeXBlID0gXCJEdWUgRGF0ZVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJUeXBlID0gXCJEZXNjcmlwdGlvblwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInRvLWRvLW5vdGVzLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJUeXBlID0gXCJOb3Rlc1wiO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFza1N1YmNvbnRhaW5lclR5cGU7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBnZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10aXRsZS1zZWN0aW9uXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWR1ZS1kYXRlLXNlY3Rpb25cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIk5vdGVzXCIpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1ub3Rlcy1zZWN0aW9uXCIpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrRWxlbWVudCA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWluZGV4PScke3Rhc2tJbmRleH0nXWApO1xuICAgICAgICByZXR1cm4gdGFza0VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGdldENoZWNrbGlzdFRhc2tFbGVtZW50ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jaGVja2xpc3QtdGFzay1pbmRleD0nJHtjaGVja2xpc3RUYXNrSW5kZXh9J11gKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBnZXRUYWJFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWItaW5kZXg9JyR7dGFiSW5kZXh9J11gKTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCB0cnlpbmdUb0RvdWJsZUNsaWNrID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tDbGFzc2VzID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICBpZiAodGFza0NsYXNzZXMuaW5jbHVkZXMoXCJtaWQtYW5pbWF0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhYk9iamVjdCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICByZXR1cm4gdGFiT2JqZWN0O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFza09iamVjdCA9ICh0YWJJbmRleCwgdGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IGdldFRhYk9iamVjdCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSB0YWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIHJldHVybiB0YXNrT2JqZWN0O1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q2hlY2tsaXN0VGFza09iamVjdCA9ICh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza09iamVjdDtcbiAgICB9XG4gICAgcmV0dXJuIHsgY2hlY2tJZldhc0N1cnJlbnRUYWIsIGNoZWNrSWZPbmx5T25lVGFiLCBnZXRUYXNrSW5kZXgsXG4gICAgICAgIGdldENoZWNrbGlzdFRhc2tJbmRleCwgZ2V0VGFiSW5kZXgsIGdldE5ld1ZhbHVlLCBnZXRUYXNrU3ViY29udGFpbmVyVHlwZSxcbiAgICAgICAgZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQsIGdldFRhc2tFbGVtZW50LCBnZXRDaGVja2xpc3RUYXNrRWxlbWVudCxcbiAgICAgICAgZ2V0VGFiRWxlbWVudCwgY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudCwgdHJ5aW5nVG9Eb3VibGVDbGljaywgZ2V0VGFiT2JqZWN0LCBnZXRUYXNrT2JqZWN0LCBnZXRDaGVja2xpc3RUYXNrT2JqZWN0IH07XG59KSgpO1xuXG5leHBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfTsiLCJjb25zdCBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbERlc2NyaXB0aW9uKSA9PiB7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gaW5pdGlhbERlc2NyaXB0aW9uO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRGVzY3JpcHRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tEZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IiwiLy8gb3JpZ2luYWwgd2hlcmUgYWxsIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZ2V0IHJldHVybmVkLCBzbyBubyBwcml2YXRlIGZpZWxkcyAoY29tcGxldGVkIHNob3VsZCBiZSBwcml2YXRlKVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2FuQ29tcGxldGUgPSAob2JqZWN0KSA9PiAoe1xuLy8gICAgIGNvbXBsZXRlZDogZmFsc2UsXG4vLyAgICAgdG9nZ2xlOiAoKSA9PiB7XG4vLyAgICAgICAgIGlmIChvYmplY3QuY29tcGxldGVkKSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gZmFsc2U7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gdHJ1ZTtcbi8vICAgICAgICAgfTtcbi8vICAgICB9LFxuLy8gICAgIGdldENvbXBsZXRlZFN0YXRlOiAoKSA9PiB7XG4vLyAgICAgICAgIHJldHVybiBvYmplY3QuY29tcGxldGVkXG4vLyAgICAgfVxuLy8gfSk7XG5cbmNvbnN0IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbENvbXBsZXRlZFN0YXRlKSA9PiB7XG4gICAgbGV0IGNvbXBsZXRlZCA9IGluaXRpYWxDb21wbGV0ZWRTdGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlQ29tcGxldGVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRDb21wbGV0ZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgdG9Eb1Rhc2sgfSBmcm9tIFwiLi90b2RvX3Rhc2tfb2JqZWN0XCI7XG5pbXBvcnQgeyBjaGVja2xpc3RUYXNrT2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X3Rhc2tfb2JqZWN0XCI7XG5cbmNvbnN0IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0ID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJUb1RvZG9BcnJheSA9ICh0YWJOYW1lPVwiTmV3IFRhYlwiKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RhYiA9IHRvRG9UYWIodGFiTmFtZSk7XG4gICAgICAgIHJldHVybiB0b0RvTGlzdC5hZGRUYXNrKG5ld1RhYik7XG4gICAgfVxuICAgIGNvbnN0IGVkaXRUYWJOYW1lID0gKHRhYkluZGV4LCBuZXdUYWJOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIHRhYk9iamVjdC5zZXRUYXNrVGl0bGUobmV3VGFiTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KHRhYkluZGV4KVxuICAgIH1cbiAgICBjb25zdCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiQXJyYXkgPSB0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICBsZXQgZmlyc3RUYWIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgdGFiIGluIHRhYkFycmF5KSB7XG4gICAgICAgICAgICBpZiAodGFiQXJyYXlbdGFiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KHRhYik7XG4gICAgICAgICAgICAgICAgZmlyc3RUYWIgPSB0YWI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0VGFiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdUYXNrVG9UYWIgPSAodGl0bGU9XCJOZXcgVGFzayBUaXRsZVwiLCBkdWVEYXRlPVwiVGFzayBEdWUgRGF0ZVwiLCBkZXNjcmlwdGlvbj1cIlRhc2sgRGVzY3JpcHRpb25cIiwgbm90ZXM9XCJUYXNrIE5vdGVzXCIsIHBpbm5lZD1mYWxzZSwgY29tcGxldGVkPWZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2sgPSB0b0RvVGFzayh0aXRsZSwgZHVlRGF0ZSwgZGVzY3JpcHRpb24sIG5vdGVzLCBwaW5uZWQsIGNvbXBsZXRlZCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IGN1cnJlbnRUYWIuYWRkVGFzayhuZXdUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGVkaXRUYXNrT2JqZWN0SW5mbyA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUsIG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3Quc2V0VGFza1RpdGxlKG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgdGFza09iamVjdC5zZXRUYXNrRHVlRGF0ZShuZXdUYXNrU3ViY29udGVudFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkRlc2NyaXB0aW9uXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3Quc2V0VGFza0Rlc2NyaXB0aW9uKG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICAgICAgdGFza09iamVjdC5zZXRUYXNrTm90ZXMobmV3VGFza1N1YmNvbnRlbnRWYWx1ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrQ29tcGxldGUgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICB0YXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrID0gKHRhc2tJbmRleCwgZGVzY3JpcHRpb249XCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvblwiLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2sgPSBjaGVja2xpc3RUYXNrT2JqZWN0KGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrSW5kZXggPSB0YXNrT2JqZWN0LmFkZFRhc2sobmV3Q2hlY2tsaXN0VGFzayk7XG4gICAgICAgIHJldHVybiBuZXdDaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBlZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4LCBuZXdEZXNjcmlwdGlvblZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY2hlY2tsaXN0VGFza09iamVjdC5zZXRUYXNrRGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb25WYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjaGVja2xpc3RUYXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrUGluID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgdGFza09iamVjdC50b2dnbGVQaW5uZWRTdGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiVG9Ub2RvQXJyYXksIGVkaXRUYWJOYW1lLCB1cGRhdGVDdXJyZW50VGFiLCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYixcbiAgICAgICAgYWRkTmV3VGFza1RvVGFiLCBlZGl0VGFza09iamVjdEluZm8sIHRvZ2dsZVRhc2tDb21wbGV0ZSwgYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzayxcbiAgICAgICAgZWRpdENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiwgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlLCB0b2dnbGVUYXNrUGluLCB9O1xufSkoKTtcblxuZXhwb3J0IHsgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgfTsiLCJpbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb1RhYiA9ICh0aXRsZSkgPT4ge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgdGl0bGVCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIHRpdGxlKSxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCB7IHRvRG9UYWIgfTsiLCJpbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kdWVfZGF0ZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3Bpbm5lZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb1Rhc2sgPSAodGl0bGUsIGR1ZURhdGUsIGRlc2NyaXB0aW9uLCBub3RlcywgcGlubmVkLCBjb21wbGV0ZWQpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksIFxuICAgICAgICBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZGVzY3JpcHRpb24pLFxuICAgICAgICBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkdWVEYXRlKSxcbiAgICAgICAgbm90ZXNCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIG5vdGVzKSxcbiAgICAgICAgLy8gY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudChvYmplY3QpLFxuICAgICAgICBwaW5uZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIHBpbm5lZCksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgY29tcGxldGVkKSxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCB7IHRvRG9UYXNrIH07IiwiY29uc3QgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbER1ZURhdGUpID0+IHtcbiAgICBsZXQgZHVlRGF0ZSA9IGluaXRpYWxEdWVEYXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRHVlRGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkdWVEYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrRHVlRGF0ZShuZXdEdWVEYXRlKSB7XG4gICAgICAgICAgICBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IH0iLCJjb25zdCBub3Rlc0JlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbE5vdGVzKSA9PiB7XG4gICAgbGV0IG5vdGVzID0gaW5pdGlhbE5vdGVzO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrTm90ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gbm90ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tOb3RlcyhuZXdOb3Rlcykge1xuICAgICAgICAgICAgbm90ZXMgPSBuZXdOb3RlcztcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3QgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsUGlubmVkU3RhdGUpID0+IHtcbiAgICBsZXQgcGlubmVkID0gaW5pdGlhbFBpbm5lZFN0YXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICB0b2dnbGVQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChwaW5uZWQpIHtcbiAgICAgICAgICAgICAgICBwaW5uZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBpbm5lZFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBpbm5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcblxuLy8gb3JpZ2luYWwgd2hlcmUgb2JqZWN0IHdvdWxkIG5lZWQgdG8gaGF2ZSBPYmplY3QuYXNzaWduKCkgZm9yIGV2ZXJ5IGluc3RhbmNlXG4vLyBrZWVwaW5nIGZvciBwb3N0ZXJpdHksIHByb2JhYmx5IHdpbGwgZGVsZXRlZCBhdCB0aGUgZW5kXG4vLyBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gKGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gY29uc3QgZ2V0VGFza0Rlc2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIC8vICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgLy8gfTtcbiAgICAvLyBjb25zdCBzZXRUYXNrRGVzY3JpcHRpb24gPSAobmV3RGVzY3JpcHRpb24pID0+IHtcbiAgICAvLyAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAvLyB9O1xuLy8gICAgIHJldHVybiB7IGdldFRhc2tEZXNjcmlwdGlvbiwgc2V0VGFza0Rlc2NyaXB0aW9uIH07XG4vLyB9O1xuXG5jb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gKGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkZXNjcmlwdGlvbiksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgY29tcGxldGVkKVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn1cblxuZXhwb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9OyIsImltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL2NoZWNrbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IERPTVVwZGF0ZUNvbnRyb2xsZXIgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgZXZlbnRCdW5kbGVyIH0gZnJvbSBcIi4vZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcblxuY29uc3QgZXZlbnRBc3NpZ25lciA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFkZFRhYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhYlwiKTtcbiAgICAgICAgYWRkVGFiQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuYWRkVGFiKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFZGl0QnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYkVkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYWJJbnB1dEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFkZFRhYklucHV0TGlzdGVuZXIgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudEJ1bmRsZXIudXBkYXRlVGFiKVxuICAgIH1cbiAgICBjb25zdCBhZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJSZW1vdmVCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlbW92ZS10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVUYWIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkU3dpdGNoVGFiTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiU3dpdGNoQnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5zd2l0Y2gtdGFiXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFiU3dpdGNoQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuc3dpdGNoVGFiKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgYWRkTmV3VGFza0xpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYXNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uZXctdG8tZG8tdGFza1wiKTtcbiAgICAgICAgbmV3VGFza0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLm5ld1Rhc2spO1xuICAgIH1cbiAgICBjb25zdCBhZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1JlbW92ZUJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tcmVtb3ZlLXRhc2tcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrUmVtb3ZlQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIucmVtb3ZlVGFzayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRFZGl0VGFza0xpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza0VkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZVRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0NvbXBsZXRlQ2hlY2tib3hlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgdGFza0NvbXBsZXRlQ2hlY2tib3hlcykge1xuICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVUYXNrQ29tcGxldGUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5hZGQtY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIG5ld0NoZWNrbGlzdFRhc2tCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGROZXdDaGVja2xpc3RUYXNrKVxuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC1jaGVja2xpc3QtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGNoZWNrbGlzdEVkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoZWNrbGlzdFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZUNoZWNrbGlzdFRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5jaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzKSB7XG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlbW92ZS1jaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZUNoZWNrbGlzdFRhc2spO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrUGluQnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tcGluXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrUGluQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlVGFza1Bpbik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1RvZ2dsZURpc3BsYXlCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYkxpc3RlbmVyLCBhZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIsIGFkZFRhYklucHV0TGlzdGVuZXIsIGFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyLFxuICAgICAgICBhZGRTd2l0Y2hUYWJMaXN0ZW5lciwgYWRkTmV3VGFza0xpc3RlbmVyLCBhZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIsXG4gICAgICAgIGFkZEVkaXRUYXNrTGlzdGVuZXJzLCBhZGRUYXNrSW5wdXRMaXN0ZW5lciwgYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIsXG4gICAgICAgIGFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lciwgYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMsIGFkZENoZWNrbGlzdFRhc2tJbnB1dExpc3RlbmVyLFxuICAgICAgICBhZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lciwgYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyLCBhZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzLFxuICAgICAgICBhZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMsIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEFzc2lnbmVyIH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vZXZlbnRfYXNzaWduZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9ldmVudF9idW5kbGVyX29iamVjdFwiO1xuXG5jb25zdCBET01Db250cm9sbGVyQWRkRWRpdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IG5ld1RhYkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBuZXdUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdUYWJPYmplY3RUaXRsZSA9IG5ld1RhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgbmV3VGFiRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFiLXRpdGxlXCIpO1xuICAgICAgICBuZXdUYWJFbGVtZW50LmRhdGFzZXQudGFiSW5kZXggPSBpbmRleDtcbiAgICAgICAgbmV3VGFiRWxlbWVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic3dpdGNoLXRhYlwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cInRhYi1uYW1lXCI+VEFCIE5BTUUgUExBQ0VIT0xERVI8L2gyPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YWIgbmFtZSBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlbW92ZS10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFiIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IHRhYk5hbWVFbGVtZW50ID0gbmV3VGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYi1uYW1lXCIpO1xuICAgICAgICB0YWJOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld1RhYk9iamVjdFRpdGxlO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFiRWxlbWVudCwgYWRkVGFiQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIG5ld1RhYkVsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IHNldFRhYklucHV0RWxlbWVudFZhbHVlID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSB0YWJOYW1lO1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhYi1uYW1lLWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKGlucHV0RWxlbWVudCwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFRhYk5hbWVFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhYk5hbWUgPSB0YWJPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIHRhYkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwic3dpdGNoLXRhYlwiKTtcbiAgICAgICAgY29uc3QgdGFiQnV0dG9uTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgdGFiQnV0dG9uTmFtZS5jbGFzc0xpc3QuYWRkKFwidGFiLW5hbWVcIik7XG4gICAgICAgIHRhYkJ1dHRvbk5hbWUudGV4dENvbnRlbnQgPSB0YWJOYW1lO1xuICAgICAgICB0YWJCdXR0b24uYXBwZW5kQ2hpbGQodGFiQnV0dG9uTmFtZSk7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRhYkJ1dHRvbiwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXREZWZhdWx0Q3VycmVudFRhYkRPTSA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBpZiAodGFiRWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgICAgICB0YWJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY3VycmVudC10YWJcIik7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDdXJyZW50VGFiRE9NID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0N1cnJlbnRUYWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBuZXdDdXJyZW50VGFiRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYiA9IChmaXJzdFRhYkluZGV4KSA9PiB7XG4gICAgICAgIGlmIChmaXJzdFRhYkluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmlyc3RUYWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQoZmlyc3RUYWJJbmRleCk7XG4gICAgICAgIGZpcnN0VGFiRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBhZGROZXdUYXNrVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3VGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLXRhc2tcIik7XG4gICAgICAgIG5ld1Rhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4ID0gaW5kZXg7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tUaXRsZSA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEZXNjcmlwdGlvbiA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEdWVEYXRlID0gbmV3VGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrTm90ZXMgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICBjb25zdCBuZXdUYXNrQ29tcGxldGVJRCA9IGB0by1kby1jb21wbGV0ZS1jaGVja2JveC0ke2luZGV4fWA7XG4gICAgICAgIG5ld1Rhc2tFbGVtZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby10YXNrLW92ZXJ2aWV3XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLXRpdGxlLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwidG8tZG8tdGl0bGVcIj5USVRMRSBQTEFDRUhPTERFUjwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby1waW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9hc3NldHMvcGluLXVucGlubmVkLnBuZ1wiIGFsdD1cIlBpbiB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay10aXRsZSBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgdGl0bGUgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tcmVtb3ZlLXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIlJlbW92ZSB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tY29tcGxldGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tY29tcGxldGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJJRCBQTEFDRUhPTERFUlwiIGNsYXNzPVwidG8tZG8tY29tcGxldGUtbGFiZWxcIj5Db21wbGV0ZWQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiXCIgY2xhc3M9XCJ0by1kby1jb21wbGV0ZS1jaGVja2JveFwiIGlkPVwiSUQgUExBQ0VIT0xERVJcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jaGV2cm9uLWRvd24ucG5nXCIgYWx0PVwiQ2hhbmdlIHRhc2sgZGlzcGxheSBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0by1kby1kdWUtZGF0ZVwiPkRVRSBEQVRFIFBMQUNFSE9MREVSPC9wPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLWR1ZS1kYXRlIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayBkdWUgZGF0ZSBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyIGFuaW1hdGlvbi10YXJnZXRcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRvLWRvLWRlc2NyaXB0aW9uXCI+REVTQ1JJUFRJT04gUExBQ0VIT0xERVI8L3A+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1kZXNjcmlwdGlvbiBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayBkZXNjcmlwdGlvbiBidXR0b25cIj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLW5vdGVzLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXIgYW5pbWF0aW9uLXRhcmdldFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tbm90ZXNcIj5OT1RFUyBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLW5vdGVzIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIG5vdGVzIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGFjdGlvbj1cIlwiIGNsYXNzPVwiY2hlY2tsaXN0IGFuaW1hdGlvbi10YXJnZXRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tsaXN0LWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8bGVnZW5kIGNsYXNzPVwiY2hlY2tsaXN0LWxhYmVsXCI+Q2hlY2tsaXN0PC9sZWdlbmQ+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJhZGQtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wbHVzLnBuZ1wiIGFsdD1cIkFkZCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgdGl0bGVFbGVtZW50ID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10aXRsZVwiKTtcbiAgICAgICAgdGl0bGVFbGVtZW50LnRleHRDb250ZW50ID0gbmV3VGFza1RpdGxlO1xuICAgICAgICBjb25zdCBkdWVEYXRlRWxlbWVudCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZHVlLWRhdGVcIik7XG4gICAgICAgIGR1ZURhdGVFbGVtZW50LnRleHRDb250ZW50ID0gXCJEdWUgT246IFwiICsgbmV3VGFza0R1ZURhdGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uRWxlbWVudCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGRlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IFwiRGVzY3JpcHRpb246IFwiICsgbmV3VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjb25zdCBub3Rlc0VsZW1lbnQgPSBuZXdUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzXCIpO1xuICAgICAgICBub3Rlc0VsZW1lbnQudGV4dENvbnRlbnQgPSBcIk5vdGVzOiBcIiArIG5ld1Rhc2tOb3RlcztcbiAgICAgICAgdG9Eb0NvbnRlbnQuYXBwZW5kQ2hpbGQobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICBjb25zdCBjb21wbGV0ZUxhYmVsID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcImxhYmVsXCIpO1xuICAgICAgICBjb21wbGV0ZUxhYmVsLnNldEF0dHJpYnV0ZShcImZvclwiLCBuZXdUYXNrQ29tcGxldGVJRCk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlQ2hlY2tib3ggPSBuZXdUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBjb21wbGV0ZUNoZWNrYm94LnNldEF0dHJpYnV0ZShcImlkXCIsIG5ld1Rhc2tDb21wbGV0ZUlEKTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYXNrSW5wdXRFbGVtZW50ID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJFbGVtZW50KHRhc2tJbmRleCwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIHRhc2tTdWJjb250YWluZXIuaW5zZXJ0QmVmb3JlKGlucHV0RWxlbWVudCwgdGFza1N1YmNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXRUYXNrSW5wdXRFbGVtZW50VmFsdWUgPSAodGFza0luZGV4LCBidXR0b25UeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJFbGVtZW50KHRhc2tJbmRleCwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGxldCB0YXNrT2JqZWN0VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3RWYWx1ZSA9IHRhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEdWUgRGF0ZVwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0VmFsdWUgPSB0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0VmFsdWUgPSB0YXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICAgICAgdGFza09iamVjdFZhbHVlID0gdGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gdGFza09iamVjdFZhbHVlO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50ID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250ZW50RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IFwiVGl0bGVcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza1RpdGxlID0gdGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tdGl0bGVcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSB0YXNrVGl0bGU7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEdWUgRGF0ZVwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1kdWUtZGF0ZVwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiRHVlIE9uOiBcIiArIHRhc2tEdWVEYXRlO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiRGVzY3JpcHRpb246IFwiICsgdGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza05vdGVzID0gdGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1ub3Rlc1wiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiTm90ZXM6IFwiICsgdGFza05vdGVzO1xuICAgICAgICB9O1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5pbnNlcnRCZWZvcmUodGFza1N1YmNvbnRlbnRFbGVtZW50LCB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgY29uc3QgdG9nZ2xlVGFza0RPTUNvbXBsZXRlID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjb21wbGV0ZUNoZWNrYm94ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9ICB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVkU3RhdGVkID0gdGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBpZiAodGFza0NvbXBsZXRlZFN0YXRlZCkge1xuICAgICAgICAgICAgY29tcGxldGVDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBsZXRlQ2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NID0gKHRhc2tJbmRleCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhuZXdDaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXggPSBuZXdDaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke25ld0NoZWNrbGlzdFRhc2tJbmRleH1cIiBjbGFzcz1cImNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIERFU0NSSVBUSU9OIFBMQUNFSE9MREVSXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiRWRpdCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgXG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjaGVja2xpc3RFbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLmFwcGVuZENoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgYGNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtjaGVja2xpc3RUYXNrSW5kZXh9YCk7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24uYXBwZW5kQ2hpbGQoY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ID0gY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3guY2hlY2tlZCA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKTtcbiAgICAgICAgaWYgKGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2tsaXN0LXRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hhbmdlUGluQnV0dG9uSW1hZ2UgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBwaW5CdXR0b24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXBpblwiKVxuICAgICAgICBjb25zdCBwaW5CdXR0b25JbWFnZSA9IHBpbkJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBpZiAodGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24gPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudEluZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgaWYgKHRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBpbm5lZC10YXNrXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgdGFza0NvbnRlbnRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWRUYXNrRWxlbWVudEluZGV4ID0gcGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrRWxlbWVudEluZGV4IDwgcGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgcGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RQaW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBpbm5lZFRhc2tFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbSh0YXNrQ29udGVudFNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50by1kby10YXNrOm5vdCgucGlubmVkLXRhc2spXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uYXBwZW5kQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUVuZEluZGV4ID0gbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzW2FycmF5RW5kSW5kZXhdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdW5waW5uZWRUYXNrRWxlbWVudCBvZiBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnBpbm5lZFRhc2tFbGVtZW50SW5kZXggPSB1bnBpbm5lZFRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFza0VsZW1lbnRJbmRleCA8IHVucGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgdW5waW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1bnBpbm5lZFRhc2tFbGVtZW50ID09PSBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmFwcGVuZENoaWxkKHRhc2tFbGVtZW50LCBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicGlubmVkLXRhc2tcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVBbmltYXRpb25zID0gKHRhc2tJbmRleCwgYWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlCdXR0b24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhc2stY2hhbmdlLWRpc3BsYXlcIik7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlID0gdG9nZ2xlRGlzcGxheUJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBjb25zdCBlbGVtZW50c1RvVG9nZ2xlID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGlvbi10YXJnZXRcIikpO1xuICAgICAgICBlbGVtZW50c1RvVG9nZ2xlLnB1c2goYnV0dG9uSW1hZ2UpXG4gICAgICAgIGVsZW1lbnRzVG9Ub2dnbGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJFbmFibGVcIikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm5vLWFuaW1hdGlvbnNcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJEaXNhYmxlXCIpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5vLWFuaW1hdGlvbnNcIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBsaXN0T2ZUYXNrcyA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgZm9yIChjb25zdCB0YXNrSW5kZXggaW4gbGlzdE9mVGFza3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBsaXN0T2ZUYXNrc1t0YXNrSW5kZXhdXG4gICAgICAgICAgICBpZiAodGFza09iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFza0VsZW1lbnQgPSBhZGROZXdUYXNrVG9ET00odGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICBzZXRQaW5CdXR0b25JbWFnZShuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmVhcnJhbmdlUGlubmVkVGFza3NQb3NpdGlvbihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZFRhc2tMaXN0ZW5lcnMobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RPZkNoZWNrbGlzdFRhc2tzID0gdGFza09iamVjdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hlY2tsaXN0VGFza0luZGV4IGluIGxpc3RPZkNoZWNrbGlzdFRhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBsaXN0T2ZDaGVja2xpc3RUYXNrc1tjaGVja2xpc3RUYXNrSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tsaXN0VGFza09iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRWxlbWVudCA9IGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHNldFBpbkJ1dHRvbkltYWdlID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgcGluQnV0dG9uID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1waW5cIik7XG4gICAgICAgIGNvbnN0IHBpbkJ1dHRvbkltYWdlID0gcGluQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgICAgIGlmIChjdXJyZW50VGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdGFza0NvbnRlbnRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBpbm5lZC10YXNrXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYXNrRWxlbWVudCwgdGFza0NvbnRlbnRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWRUYXNrRWxlbWVudEluZGV4ID0gcGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFza0luZGV4IDwgcGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYXNrRWxlbWVudCwgcGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RQaW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBpbm5lZFRhc2tFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5ld1Rhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgZWxlbWVudHNUb1RvZ2dsZSA9IEFycmF5LmZyb20odGFza0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tdGFyZ2V0XCIpKTtcbiAgICAgICAgZWxlbWVudHNUb1RvZ2dsZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50Q2xhc3NlcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwiaGlkZS10by1kby1kZXRhaWxzXCIpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRpc3BsYXktdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcHJldmVudERvdWJsZUNsaWNrKHRhc2tFbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IHByZXZlbnREb3VibGVDbGljayA9ICh0YXNrRWxlbWVudCkgPT4ge1xuICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibWlkLWFuaW1hdGlvblwiKTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibWlkLWFuaW1hdGlvblwiKTtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgfTtcbiAgICBjb25zdCByb3RhdGVDaGV2cm9uQnV0dG9uID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGV2cm9uQnV0dG9uID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCIpO1xuICAgICAgICBjb25zdCBidXR0b25JbWFnZSA9IGNoZXZyb25CdXR0b24ucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcbiAgICAgICAgY29uc3QgYnV0dG9uSW1hZ2VDbGFzc2VzID0gQXJyYXkuZnJvbShidXR0b25JbWFnZS5jbGFzc0xpc3QpO1xuICAgICAgICBpZiAoYnV0dG9uSW1hZ2VDbGFzc2VzLmxlbmd0aCA9PT0gMCB8fCBidXR0b25JbWFnZUNsYXNzZXMuaW5jbHVkZXMoXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIikpIHtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIik7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LmFkZChcInJvdGF0ZWQtY2hldnJvblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25JbWFnZUNsYXNzZXMuaW5jbHVkZXMoXCJyb3RhdGUtZGlzcGxheS10YXNrLWRldGFpbHNcIikpIHtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJyb3RhdGUtZGlzcGxheS10YXNrLWRldGFpbHNcIik7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlLWhpZGUtdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0ZWQtY2hldnJvblwiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYlRvRE9NLCBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0VGFiSW5wdXRFbGVtZW50LCBpbnNlcnRUYWJOYW1lRWxlbWVudCwgc2V0RGVmYXVsdEN1cnJlbnRUYWJET00sXG4gICAgICAgIHNldEN1cnJlbnRUYWJET00sIHNldEZpcnN0VGFiVG9DdXJyZW50VGFiLCBhZGROZXdUYXNrVG9ET00sXG4gICAgICAgIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsIHNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSwgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50LFxuICAgICAgICB0b2dnbGVUYXNrRE9NQ29tcGxldGUsIGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSwgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlLCBpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LFxuICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUsIGNoYW5nZVBpbkJ1dHRvbkltYWdlLCBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24sXG4gICAgICAgIGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiLCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMsIHJvdGF0ZUNoZXZyb25CdXR0b24sIHRvZ2dsZUFuaW1hdGlvbnMsIH07XG59KSgpO1xuXG5leHBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0ID0gKCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVUYWJGcm9tVG9kb0FycmF5ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIHRvRG9MaXN0LnJlbW92ZVRhc2sodGFiSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFza0Zyb21UYWJBcnJheSA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY3VycmVudFRhYk9iamVjdC5yZW1vdmVUYXNrKHRhc2tJbmRleCk7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tGcm9tVGFza0FycmF5ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICB0YXNrT2JqZWN0LnJlbW92ZVRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICB9O1xuICAgIHJldHVybiB7IHJlbW92ZVRhYkZyb21Ub2RvQXJyYXksIHJlbW92ZVRhc2tGcm9tVGFiQXJyYXksIHJlbW92ZUNoZWNrbGlzdFRhc2tGcm9tVGFza0FycmF5LCB9O1xufSkoKTtcblxuZXhwb3J0IHsgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBET01Db250cm9sbGVyUmVtb3ZlID0gKCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVUYWJOYW1lRWxlbWVudCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBsZXQgc3dpdGNoVGFiID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnN3aXRjaC10YWJcIilcbiAgICAgICAgdGFiRWxlbWVudC5yZW1vdmVDaGlsZChzd2l0Y2hUYWIpO1xuICAgICAgICBzd2l0Y2hUYWIgPSBudWxsXG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJJbnB1dEVsZW1lbnQgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICB0YWJFbGVtZW50LnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJFbGVtZW50RnJvbURPTSA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBsZXQgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5yZW1vdmVDaGlsZCh0YWJFbGVtZW50KTtcbiAgICAgICAgdGFiRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZXNldEN1cnJlbnRUYWJTdGF0dXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2N1cnJlbnQtdGFiXCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhYiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudFRhYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBsZXQgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb1Rhc2tTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICB0b0RvVGFza1NlY3Rpb24ucmVtb3ZlQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICB0YXNrRWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00gPSAodGFza0luZGV4LCBidXR0b25UeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJFbGVtZW50KHRhc2tJbmRleCwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGVudEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucmVtb3ZlQ2hpbGQodGFza1N1YmNvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gbnVsbFxuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrSW5wdXRFbGVtZW50ID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00gPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnJlbW92ZUNoaWxkKGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1pbnB1dFwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrRWxlbWVudERPTSA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3RcIik7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNoZWNrbGlzdEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVBbGxUYXNrRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLnJlcGxhY2VDaGlsZHJlbigpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiTmFtZUVsZW1lbnQsIHJlbW92ZVRhYklucHV0RWxlbWVudCwgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00sXG4gICAgICAgIHJlc2V0Q3VycmVudFRhYlN0YXR1cywgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NLCByZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NLFxuICAgICAgICByZW1vdmVUYXNrSW5wdXRFbGVtZW50LCByZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00sIHJlbW92ZUNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQsXG4gICAgICAgIHJlbW92ZUNoZWNrbGlzdFRhc2tFbGVtZW50RE9NLCByZW1vdmVBbGxUYXNrRWxlbWVudHMsIH1cbn0pKCk7XG5cbmV4cG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCB9IGZyb20gXCIuL29iamVjdF9jb250cm9sbGVyX2FkZF9lZGl0X29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgZXZlbnRBc3NpZ25lciB9IGZyb20gXCIuL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCB9IGZyb20gXCIuL29iamVjdF9jb250cm9sbGVyX3JlbW92ZV9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9yZW1vdmVcIjtcblxuY29uc3QgZXZlbnRCdW5kbGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGRUYWIgPSAoZXZlbnQsIHRhYk5hbWU9XCJOZXcgVGFiXCIpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdUYWJUb1RvZG9BcnJheSh0YWJOYW1lKTtcbiAgICAgICAgY29uc3QgbmV3VGFiRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld1RhYlRvRE9NKG5ld1RhYkluZGV4KTtcbiAgICAgICAgYWRkVGFiTGlzdGVuZXJzKG5ld1RhYkVsZW1lbnQpO1xuICAgICAgICBpZiAoaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZPbmx5T25lVGFiKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoZmlyc3RUYWJJbmRleClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yRXhpc3RpbmdJbnB1dEVsZW1lbnQoZXZlbnQsIFwiVGFiXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJJbmRleChldmVudCk7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYWJJbnB1dEVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWJOYW1lRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSh0YWJJbmRleCk7XG4gICAgICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRhYklucHV0TGlzdGVuZXIoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJJbmRleChldmVudCk7XG4gICAgICAgICAgICBjb25zdCBuZXdUYWJOYW1lID0gaGVscGVyRnVuY3Rpb25zLmdldE5ld1ZhbHVlKGV2ZW50KTtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmVkaXRUYWJOYW1lKHRhYkluZGV4LCBuZXdUYWJOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYWJOYW1lRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYklucHV0RWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgICAgICBldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyKHRhYkVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkluZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkluZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVUYWJGcm9tVG9kb0FycmF5KHRhYkluZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWJFbGVtZW50RnJvbURPTSh0YWJJbmRleCk7XG4gICAgICAgIGlmIChoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZldhc0N1cnJlbnRUYWIoZXZlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFRhYkluZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3Quc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNldEZpcnN0VGFiVG9DdXJyZW50VGFiKGZpcnN0VGFiSW5kZXgpXG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZUFsbFRhc2tFbGVtZW50cygpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQubG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZXYXNDdXJyZW50VGFiKGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgdGFiSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudXBkYXRlQ3VycmVudFRhYih0YWJJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlc2V0Q3VycmVudFRhYlN0YXR1cygpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Q3VycmVudFRhYkRPTSh0YWJJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZUFsbFRhc2tFbGVtZW50cygpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQubG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgbmV3VGFzayA9IChldmVudCwgdGl0bGU9XCJOZXcgVGFzayBUaXRsZVwiLCBkdWVEYXRlPVwiVGFzayBEdWUgRGF0ZVwiLCBkZXNjcmlwdGlvbj1cIlRhc2sgRGVzY3JpcHRpb25cIiwgbm90ZXM9XCJUYXNrIE5vdGVzXCIsIHBpbm5lZD1mYWxzZSwgY29tcGxldGVkPWZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1Rhc2tUb1RhYih0aXRsZSwgZHVlRGF0ZSwgZGVzY3JpcHRpb24sIG5vdGVzLCBwaW5uZWQsIGNvbXBsZXRlZCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3VGFza1RvRE9NKG5ld1Rhc2tJbmRleCk7XG4gICAgICAgIGFkZFRhc2tMaXN0ZW5lcnMobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICByZXR1cm4gbmV3VGFza0luZGV4O1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0LnJlbW92ZVRhc2tGcm9tVGFiQXJyYXkodGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrRWxlbWVudEZyb21ET00odGFza0luZGV4KTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudChldmVudCwgXCJUYXNrXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJUeXBlID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJUeXBlKGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFza1N1YmNvbnRlbnRFbGVtZW50RnJvbURPTSh0YXNrSW5kZXgsIHRhc2tTdWJjb250YWluZXJUeXBlKTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhc2tJbnB1dEVsZW1lbnQodGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRUYXNrSW5wdXRFbGVtZW50VmFsdWUodGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRhc2tJbnB1dExpc3RlbmVyKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZVRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyVHlwZShldmVudCk7XG4gICAgICAgICAgICBjb25zdCBuZXdUYXNrU3ViY29udGVudFZhbHVlID0gaGVscGVyRnVuY3Rpb25zLmdldE5ld1ZhbHVlKGV2ZW50KTtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmVkaXRUYXNrT2JqZWN0SW5mbyh0YXNrSW5kZXgsIHRhc2tTdWJjb250YWluZXJUeXBlLCBuZXdUYXNrU3ViY29udGVudFZhbHVlKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhc2tTdWJjb250ZW50RWxlbWVudCh0YXNrSW5kZXgsIHRhc2tTdWJjb250YWluZXJUeXBlKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFza0lucHV0RWxlbWVudCh0YXNrSW5kZXgsIHRhc2tTdWJjb250YWluZXJUeXBlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudG9nZ2xlVGFza0NvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZVRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0luZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIG5ld0NoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0ZvckV4aXN0aW5nSW5wdXRFbGVtZW50KGV2ZW50LCBcIkNoZWNrbGlzdCBUYXNrXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb25WYWx1ZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXROZXdWYWx1ZShldmVudCk7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4LCBuZXdEZXNjcmlwdGlvblZhbHVlKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza1BpbiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlQW5pbWF0aW9ucyh0YXNrSW5kZXgsIFwiRW5hYmxlXCIpO1xuICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC50b2dnbGVUYXNrUGluKHRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmNoYW5nZVBpbkJ1dHRvbkltYWdlKHRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbih0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgLy8gY29uc3QgbG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIgPSAoKSA9PiB7XG4gICAgLy8gICAgIGZvciAoY29uc3QgdGFzayApXG4gICAgLy8gfTtcbiAgICBjb25zdCBhZGRUYXNrTGlzdGVuZXJzID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFza0xpc3RlbmVycyhuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lcihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycyhuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzTGlzdGVuZXJzKG5ld1Rhc2tFbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMgPSAobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpID0+IHtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycyhuZXdDaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZUNoZWNrbGlzdFRhc2tMaXN0ZW5lcihuZXdDaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLnRyeWluZ1RvRG91YmxlQ2xpY2sodGFza0luZGV4KSkge1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlQW5pbWF0aW9ucyh0YXNrSW5kZXgsIFwiRGlzYWJsZVwiKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyh0YXNrSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQucm90YXRlQ2hldnJvbkJ1dHRvbih0YXNrSW5kZXgpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFiTGlzdGVuZXJzID0gKG5ld1RhYkVsZW1lbnQpID0+IHtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIobmV3VGFiRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXIobmV3VGFiRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkU3dpdGNoVGFiTGlzdGVuZXIobmV3VGFiRWxlbWVudCk7XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5pdGlhbFBhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGFkZFRhYihldmVudCwgXCJJbnN0cnVjdGlvbnNcIik7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IG5ld1Rhc2soZXZlbnQsIFwiUXVpY2sgVGlwcyEgQ2xpY2sgdGhlIHBpbiBidXR0b24gdG8gcGluIGEgdGFzayB0byB0aGUgdG9wIG9mIHRoZSBsaXN0LlwiLFxuICAgICAgICAgICAgYFRvbW9ycm93LCBuZXh0IHdlZWssIG9yIHdoZW5ldmVyIHlvdXIgdGFzayBpcyBkdWUsIHlvdSBjYW4gYWRkIGl0IGhlcmUhIENsaWNrIHRoZSBhcnJvdyBidXR0b24gdG8gdG9nZ2xlIGJldHdlZW4gc2hvd2luZyBhbmQgaGlkaW5nIHRhc2sgZGV0YWlscy5gLFxuICAgICAgICAgICAgXCJBZGQgYSBkZXNjcmlwdGlvbiBvZiB5b3VyIHRhc2sgaGVyZSEgQ2xpY2sgdGhlIHBlbmNpbCBidXR0b25zIHRvIGVkaXQgdGhlIHZhcmlvdXMgcGFydHMgb2YgeW91ciB0YXNrLlwiLFxuICAgICAgICAgICAgXCJKb3QgZG93biBzb21lIG5vdGVzIGhlcmUhIE1hcmsgeW91ciB0YXNrIGFzIGNvbXBsZXRlIHdoZW4geW91J3JlIGRvbmUsIG9yIHJlbW92ZSBpdCBmcm9tIHRoZSBsaXN0IGJ5IGNsaWNraW5nIHRoZSBYIGJ1dHRvbi5cIiwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZVRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5jaGFuZ2VQaW5CdXR0b25JbWFnZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zaGlmdFRhc2tFbGVtZW50UG9zaXRpb24odGFza0luZGV4KTtcbiAgICAgICAgYWRkSW5zdHJ1Y3Rpb25zQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgYWRkSW5zdHJ1Y3Rpb25zQ2hlY2tsaXN0VGFzayA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgW1wiSWYgeW91ciB0YXNrIGhhcyBtdWx0aXBsZSBzdGVwcywgdHJ5IGJyZWFraW5nIHRoZW0gZG93biBpbnRvIGEgY2hlY2tsaXN0ISBDbGljayB0aGUgcGx1cyBzaWduIGJ1dHRvbiB0byBhZGQgc3RlcHMgYXMgbmVlZGVkLlwiLCB0cnVlXSxcbiAgICAgICAgICAgIFtcIkhhdmUgYSBuZXcgdGFzayB5b3Ugd2FudCB0byBrZWVwIHRyYWNrIG9mPyBBZGQgaXQgdG8gdGhlIGxpc3QgYnkgY2xpY2tpbmcgb24gdGhlICdOZXcgVGFzaycgYnV0dG9uIGJlbG93IVwiLCB0cnVlXSxcbiAgICAgICAgICAgIFtgT3JnYW5pemUgdGhlIGRpZmZlcmVudCB0eXBlcyBvZiB0YXNrcyBpbiB5b3VyIGxpZmUgYnkgY3JlYXRpbmcgdGhlbWVkIHRhYnMuIENyZWF0ZSBhIG5ldyB0YWIgYnkgY2xpY2tpbmcgb24gdGhlIHBsdXMgc2lnbiBidXR0b24gYXQgdGhlIHRvcCBvZiB0aGUgbGlzdC4gQ2hhbmdlIHRhYnMgYnkgY2xpY2tpbmcgb24gZGlmZmVyZW50IHRhYiBuYW1lcy5gLCB0cnVlXV07XG4gICAgICAgIGluc3RydWN0aW9ucy5mb3JFYWNoKChpbnN0cnVjdGlvbnNJdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKHRhc2tJbmRleCwgaW5zdHJ1Y3Rpb25zSXRlbVswXSwgaW5zdHJ1Y3Rpb25zSXRlbVsxXSk7XG4gICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhjaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIH0pXG4gICAgfTtcbiAgICByZXR1cm4geyBhZGRUYWIsIGluc2VydFRhYklucHV0RWxlbWVudCwgdXBkYXRlVGFiLCByZW1vdmVUYWIsIHN3aXRjaFRhYixcbiAgICAgICAgbmV3VGFzaywgcmVtb3ZlVGFzaywgaW5zZXJ0VGFza0lucHV0RWxlbWVudCwgdXBkYXRlVGFzaywgdG9nZ2xlVGFza0NvbXBsZXRlLFxuICAgICAgICBhZGROZXdDaGVja2xpc3RUYXNrLCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LCB1cGRhdGVDaGVja2xpc3RUYXNrLFxuICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUsIHJlbW92ZUNoZWNrbGlzdFRhc2ssIHRvZ2dsZVRhc2tQaW4sIGFkZFRhc2tMaXN0ZW5lcnMsXG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMsIHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscywgYWRkVGFiTGlzdGVuZXJzLCBsb2FkSW5pdGlhbFBhZ2UsIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEJ1bmRsZXIgfTsiLCJpbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHN0b3JhZ2UgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxpemVUb2RvTGlzdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgZW1wdHlPYmplY3RTdHJpbmcgPSBge1xuICAgICAgICAgICAgXCJjdXJyZW50X3RhYlwiOiAke3RvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpfSxcbiAgICAgICAgICAgIFwidGFic1wiOiB7fVxuICAgICAgICB9YDtcbiAgICAgICAgY29uc3QgcGFyc2VkU3RyaW5nID0gSlNPTi5wYXJzZShlbXB0eU9iamVjdFN0cmluZyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHBhcnNlZFN0cmluZylcbiAgICAgICAgY29uc3Qgc3RyaW5naWZpZWRPYmplY3QgPSBKU09OLnN0cmluZ2lmeShwYXJzZWRTdHJpbmcpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvX2RvX2xpc3RcIiwgc3RyaW5naWZpZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFiID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJPYmplY3QodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJSYXdTdHJpbmcgPSBge1xuICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIiR7dGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpfVwiLFxuICAgICAgICAgICAgXCJ0YXNrc1wiOiB7fVxuICAgICAgICB9YDtcbiAgICAgICAgY29uc3QgdGFiUGFyc2VkU3RyaW5nID0gSlNPTi5wYXJzZSh0YWJSYXdTdHJpbmcpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFJhd1N0cmluZyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9fZG9fbGlzdFwiKTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRTdHJpbmcgPSBKU09OLnBhcnNlKHRvZG9MaXN0UmF3U3RyaW5nKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRTdHJpbmdbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXSA9IHRhYlBhcnNlZFN0cmluZztcbiAgICAgICAgY29uc3QgdG9kb0xpc3RTdHJpbmdpZmllZE9iamVjdCA9IEpTT04uc3RyaW5naWZ5KHRvZG9MaXN0UGFyc2VkU3RyaW5nKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b19kb19saXN0XCIsIHRvZG9MaXN0U3RyaW5naWZpZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdGFza1Jhd1N0cmluZyA9IGB7XG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiJHt0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpfVwiLFxuICAgICAgICAgICAgXCJkdWUtZGF0ZVwiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpfVwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKX1cIixcbiAgICAgICAgICAgIFwibm90ZXNcIjogXCIke3Rhc2tPYmplY3QuZ2V0VGFza05vdGVzKCl9XCIsXG4gICAgICAgICAgICBcImNvbXBsZXRlZFwiOiAke3Rhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKX0sXG4gICAgICAgICAgICBcInBpbm5lZFwiOiAke3Rhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKX0sXG4gICAgICAgICAgICBcImNoZWNrbGlzdF90YXNrc1wiOiB7fVxuICAgICAgICB9YDtcbiAgICAgICAgY29uc3QgdGFza1BhcnNlZFN0cmluZyA9IEpTT04ucGFyc2UodGFza1Jhd1N0cmluZyk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UmF3U3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b19kb19saXN0XCIpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZFN0cmluZyA9IEpTT04ucGFyc2UodG9kb0xpc3RSYXdTdHJpbmcpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZFN0cmluZ1tcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF0gPSB0YXNrUGFyc2VkU3RyaW5nO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFN0cmluZ2lmaWVkT2JqZWN0ID0gSlNPTi5zdHJpbmdpZnkodG9kb0xpc3RQYXJzZWRTdHJpbmcpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvX2RvX2xpc3RcIiwgdG9kb0xpc3RTdHJpbmdpZmllZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRDaGVja2xpc3RUYXNrID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza1Jhd1N0cmluZyA9IGB7XG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiJHtjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpfVwiLFxuICAgICAgICAgICAgXCJjb21wbGV0ZWRcIjogJHtjaGVja2xpc3RUYXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCl9XG4gICAgICAgIH1gO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrUGFyc2VkU3RyaW5nID0gSlNPTi5wYXJzZShjaGVja2xpc3RUYXNrUmF3U3RyaW5nKTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RSYXdTdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvX2RvX2xpc3RcIik7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkU3RyaW5nID0gSlNPTi5wYXJzZSh0b2RvTGlzdFJhd1N0cmluZyk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkU3RyaW5nW1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcImNoZWNrbGlzdF90YXNrc1wiXVtgY2hlY2tsaXN0X3Rhc2tfJHtjaGVja2xpc3RUYXNrSW5kZXh9YF0gPSBjaGVja2xpc3RUYXNrUGFyc2VkU3RyaW5nO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFN0cmluZ2lmaWVkT2JqZWN0ID0gSlNPTi5zdHJpbmdpZnkodG9kb0xpc3RQYXJzZWRTdHJpbmcpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvX2RvX2xpc3RcIiwgdG9kb0xpc3RTdHJpbmdpZmllZE9iamVjdCk7XG4gICAgfTtcbiAgICAvLyBjb25zdCB1cGRhdGVMb2NhbFN0b3JhZ2UgPSAob2JqZWN0VHlwZSwgdGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgLy8gICAgIGNvbnN0IHRvZG9MaXN0UmF3U3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b19kb19saXN0XCIpO1xuICAgIC8vICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZFN0cmluZyA9IEpTT04ucGFyc2UodG9kb0xpc3RSYXdTdHJpbmcpO1xuICAgIC8vICAgICBsZXQgb2JqZWN0UGFyc2VkU3RyaW5nID0gdW5kZWZpbmVkO1xuICAgIC8vICAgICBpZiAob2JqZWN0VHlwZSA9PT0gXCJUYWJcIikge1xuICAgIC8vICAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhYkluZGV4KTtcbiAgICAvLyAgICAgICAgIGNvbnN0IHRhYlJhd1N0cmluZyA9IGB7XG4gICAgLy8gICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIiR7dGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpfVwiLFxuICAgIC8vICAgICAgICAgICAgIFwidGFza3NcIjoge31cbiAgICAvLyAgICAgICAgIH1gO1xuICAgIC8vICAgICAgICAgb2JqZWN0UGFyc2VkU3RyaW5nID0gSlNPTi5wYXJzZSh0YWJSYXdTdHJpbmcpO1xuICAgIC8vICAgICB9IGVsc2UgaWYgKG9iamVjdFR5cGUgPT09IFwiVGFza1wiKSB7XG4gICAgLy8gICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgIC8vICAgICAgICAgY29uc3QgdGFza09iamVjdCA9IHRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAvLyAgICAgICAgIGNvbnN0IHRhc2tSYXdTdHJpbmcgPSBge1xuICAgIC8vICAgICAgICAgICAgIFwidGl0bGVcIjogXCIke3Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCl9XCIsXG4gICAgLy8gICAgICAgICAgICAgXCJkdWUtZGF0ZVwiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpfVwiLFxuICAgIC8vICAgICAgICAgICAgIFwiZGVzY3JpcHRpb25cIjogXCIke3Rhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCl9XCIsXG4gICAgLy8gICAgICAgICAgICAgXCJub3Rlc1wiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrTm90ZXMoKX1cIixcbiAgICAvLyAgICAgICAgICAgICBcImNvbXBsZXRlZFwiOiBcIiR7dGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpfVwiLFxuICAgIC8vICAgICAgICAgICAgIFwicGlubmVkXCI6IFwiJHt0YXNrT2JqZWN0LmdldFBpbm5lZFN0YXRlKCl9XCIsXG4gICAgLy8gICAgICAgICAgICAgXCJjaGVja2xpc3RfdGFza3NcIjoge31cbiAgICAvLyAgICAgICAgIH1gO1xuICAgIC8vICAgICAgICAgb2JqZWN0UGFyc2VkU3RyaW5nID0gSlNPTi5wYXJzZSh0YXNrUmF3U3RyaW5nKTtcbiAgICAvLyAgICAgfVxuICAgIC8vIH07XG4gICAgcmV0dXJuIHsgaW5pdGlhbGl6ZVRvZG9MaXN0LCBhZGRUYWIsIGFkZFRhc2ssIGFkZENoZWNrbGlzdFRhc2t9XG59KSgpO1xuXG5leHBvcnQgeyBzdG9yYWdlIH07IiwiaW1wb3J0IHsgdG9Eb1Rhc2sgfSBmcm9tIFwiLi9vYmplY3RzL3RvZG9fdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL29iamVjdHMvY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9IGZyb20gXCIuL29iamVjdHMvY2hlY2tsaXN0X3Rhc2tfb2JqZWN0XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIHRlc3RpbmcgdG9kbyB0YXNrIG9iamVjdFxuaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2R1ZV9kYXRlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudFwiO1xuXG4vLyB0ZXN0aW5nIGNoZWNrbGlzdCBvYmplY3Rcbi8vIGltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL2NoZWNrbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuLy8gdGVzdGluZyB0YWJzIChhcnJheXMgdGhhdCBjb250YWluIG1hbnkgdG8gZG8gdGFza3MpXG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX3RhYl9vYmplY3RcIjtcblxuLy8gdGVzdGluZyBsaXN0IHRoYXQgY29udGFpbiBldmVyeXRoaW5nXG5pbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL29iamVjdHMvdG9kb19saXN0X29iamVjdFwiO1xuXG4vLyB0ZXN0aW5nIGZvciBET00gY29udHJvbGxlciBvYmplY3RzXG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vb2JqZWN0cy9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vb2JqZWN0cy9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuXG5cbi8vIHRlc3RpbmcgZm9yIHN0b3JhZ2VcbmltcG9ydCB7IHN0b3JhZ2UgfSBmcm9tIFwiLi9vYmplY3RzL3N0b3JhZ2Vfb2JqZWN0XCI7XG5cbi8vIGxldCB0ZXN0ID0gY2hlY2tsaXN0VGFza09iamVjdChcImRkdGVzdFwiKTtcbi8vIGNvbnNvbGUubG9nKHRlc3QpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gaWYgKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSkge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgbm93IHRydWVcIilcbi8vIH0gZWxzZSB7XG4vLyAgICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBzdGlsbCBmYWxzZVwiKVxuLy8gfVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QudG9nZ2xlQ29tcGxldGVkU3RhdGUoKSlcblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG5cbi8vIGlmICh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIG5vdyB0cnVlXCIpXG4vLyB9IGVsc2Uge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgc3RpbGwgZmFsc2VcIilcbi8vIH1cblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0KVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldFRhc2tEZXNjcmlwdGlvbigpKVxuLy8gdGVzdC5zZXRUYXNrRGVzY3JpcHRpb24oXCJ3b3d3aWVcIilcbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG5cbi8vIGxldCBpbXBvcnRhbnRUYXNrID0gdG9Eb1Rhc2soXCJNYWtlIENlcmVhbFwiLCBcInBhcnQgb2YgYnJlYWtmYXN0IHBsYW5cIiwgXCJ0aGlzIG1vcm5pbmdcIiwgXCJtYWtlIHN1cmUgdG8gcHV0IG1pbGsgYmFjayBpbiBmcmlkZ2VcIik7XG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrVGl0bGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEdWVEYXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tOb3RlcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRQaW5uZWRTdGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tUaXRsZShcIk1ha2UgQ2hpY2tlbiBCcm90aFwiKVxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrRGVzY3JpcHRpb24oXCJyZXF1aXJlcyAxIGNoaWNrZW4gYW5kIDEgYnJvdGhcIilcbi8vIGltcG9ydGFudFRhc2suc2V0VGFza0R1ZURhdGUoXCJiZWZvcmUgSSBjYXVnaHQgdGhpcyBjb2xkXCIpXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tOb3RlcyhcImRvbid0IHNuZWV6ZSBpbnRvIHBvdFwiKVxuLy8gaW1wb3J0YW50VGFzay50b2dnbGVQaW5uZWRTdGF0ZSgpO1xuLy8gaW1wb3J0YW50VGFzay50b2dnbGVDb21wbGV0ZWRTdGF0ZSgpO1xuXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tUaXRsZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRGVzY3JpcHRpb24oKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0R1ZURhdGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza05vdGVzKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFBpbm5lZFN0YXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGltcG9ydGFudFRhc2suYWRkVGFzayh0ZXN0KVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrRGVzY3JpcHRpb24oKSlcblxuXG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gdGFiMS5hZGRUYXNrKGltcG9ydGFudFRhc2spXG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrVGl0bGUoKSlcblxuLy8gbGV0IGFub3RoZXJJbXBvcnRhbnRUYXNrID0gdG9Eb1Rhc2soXCJDbGVhbiBwb3RcIiwgXCJwYXJ0IG9mIGNob3JlcyBwbGFuXCIsIFwidGhpcyBhZnRlcm5vb25cIiwgXCJtYWtlIHN1cmUgdG8gdXNlIHNvYXBcIik7XG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gdGFiMS5hZGRUYXNrKGFub3RoZXJJbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMSkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygxKS5nZXRUYXNrVGl0bGUoKSlcblxuXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tUaXRsZSgpKVxuXG4vLyAvLyBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYigwKTtcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG5cbi8vIGxldCB0YWIyID0gdG9Eb1RhYihcImhlZSBoZWVcIilcbi8vIHRvRG9MaXN0LmFkZFRhc2sodGFiMilcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG5cbi8vIGxldCB0YWIxID0gdG9Eb1RhYihcIkRlZmF1bHQgdGVzdFwiKVxuLy8gdG9Eb0xpc3QuYWRkVGFzayh0YWIxKVxuXG4vLyBsZXQgdGFzazEgPSB0b0RvVGFzayhcIk1ha2UgTW9uZXkgVEVTVCAwXCIsIFwiVGFzayBEdWUgRGF0ZVwiLCBcIlRhc2sgRGVzY3JpcHRpb25cIiwgXCJUYXNrIE5vdGVzXCIpO1xuLy8gY29uc29sZS5sb2codGFiMS5hZGRUYXNrKHRhc2sxKSlcblxuLy8gbGV0IHRhc2syID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gMVwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrMilcblxuLy8gbGV0IHRhc2szID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gQUdBSU4gMlwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrMylcblxuLy8gbGV0IHRhc2s0ID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gQUdBSU4gQUdBSU4gM1wiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrNClcblxuLy8gbGV0IHRhYjIgPSB0b0RvVGFiKFwiVGVzdCBmb3IgbG9hZGluZyBpbiB0YXNrIG9iamVjdHNcIilcbi8vIHRvRG9MaXN0LmFkZFRhc2sodGFiMilcbi8vIGxldCB0YXNrQSA9IHRvRG9UYXNrKFwiVEVTVCBPRiBUSEUgT1VURE9PUiBXQVJOSU5HIFNZU1RFTVwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjIuYWRkVGFzayh0YXNrQSlcbi8vIGxldCB0YXNrQiA9IHRvRG9UYXNrKFwiVEhJUyBJUyBPTkxZIEEgVEVTVFwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjIuYWRkVGFzayh0YXNrQilcblxuLy8gbGV0IGNoZWNrbGlzdFRhc2tBID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgQVwiKVxuLy8gdGFza0EuYWRkVGFzayhjaGVja2xpc3RUYXNrQSlcbi8vIGxldCBjaGVja2xpc3RUYXNrQiA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIEJcIilcbi8vIHRhc2tBLmFkZFRhc2soY2hlY2tsaXN0VGFza0IpXG4vLyBsZXQgY2hlY2tsaXN0VGFza0MgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBDXCIpXG4vLyB0YXNrQi5hZGRUYXNrKGNoZWNrbGlzdFRhc2tDKVxuLy8gbGV0IGNoZWNrbGlzdFRhc2tEID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgRFwiKVxuLy8gdGFza0IuYWRkVGFzayhjaGVja2xpc3RUYXNrRClcbi8vIGxldCBjaGVja2xpc3RUYXNrRSA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIERcIilcbi8vIHRhc2tCLmFkZFRhc2soY2hlY2tsaXN0VGFza0UpXG5cbi8vIHRhc2tCLnJlbW92ZVRhc2soMSlcblxuZXZlbnRBc3NpZ25lci5hZGROZXdUYWJMaXN0ZW5lcigpO1xuLy8gZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFiTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyKCk7XG5cblxuXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdClcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbkRPTUNvbnRyb2xsZXJBZGRFZGl0LnNldERlZmF1bHRDdXJyZW50VGFiRE9NKDApXG5cbmV2ZW50QXNzaWduZXIuYWRkU3dpdGNoVGFiTGlzdGVuZXIoKVxuXG5ldmVudEFzc2lnbmVyLmFkZE5ld1Rhc2tMaXN0ZW5lcigpO1xuXG5ldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lcigpO1xuXG5ldmVudEFzc2lnbmVyLmFkZEVkaXRUYXNrTGlzdGVuZXJzKCk7XG5cbi8vIGNvbnN0IGhlaCA9ICgpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhcImJsb29wXCIpXG4vLyB9XG5cbi8vIGNvbnN0IGJvaSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIilcbi8vIGJvaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGVoKVxuXG5ldmVudEFzc2lnbmVyLmFkZFRvZ2dsZVRhc2tDb21wbGV0ZUxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycygpO1xuXG4vLyBsZXQgY2hlY2tsaXN0VGFzazEgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVFwiKVxuLy8gdGFzazEuYWRkVGFzayhjaGVja2xpc3RUYXNrMSlcblxuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIoKTtcblxuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzKCk7XG5ldmVudEFzc2lnbmVyLmFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVycygpO1xuXG5ldmVudEJ1bmRsZXIubG9hZEluaXRpYWxQYWdlKCk7XG5cbi8vIHN0b3JhZ2UuaW5pdGlhbGl6ZVRvZG9MaXN0KCk7XG5zdG9yYWdlLmFkZFRhYigwKVxuc3RvcmFnZS5hZGRUYXNrKDAsMClcbnN0b3JhZ2UuYWRkQ2hlY2tsaXN0VGFzaygwLDAsMClcbnN0b3JhZ2UuYWRkQ2hlY2tsaXN0VGFzaygwLDAsMSlcbnN0b3JhZ2UuYWRkQ2hlY2tsaXN0VGFzaygwLDAsMilcbi8vIGxvY2FsU3RvcmFnZS5jbGVhcigpXG5cbmNvbnNvbGUubG9nKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b19kb19saXN0XCIpKSkiXSwibmFtZXMiOlsiY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQiLCJvYmplY3QiLCJjaGVja2xpc3QiLCJPYmplY3QiLCJhc3NpZ24iLCJhZGRUYXNrIiwidGFzayIsInB1c2giLCJsZW5ndGgiLCJyZW1vdmVUYXNrIiwiaW5kZXgiLCJ1bmRlZmluZWQiLCJnZXRDaGVja2xpc3RUYXNrcyIsImdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayIsInRvRG9MaXN0IiwiY3VycmVudFRhYiIsImdldEN1cnJlbnRUYWJJbmRleCIsInNldEN1cnJlbnRUYWJJbmRleCIsIm5ld0N1cnJlbnRUYWIiLCJnZXRDdXJyZW50VGFiT2JqZWN0IiwiY3VycmVudFRhYkluZGV4IiwidGl0bGVCZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxUaXRsZSIsInRpdGxlIiwiZ2V0VGFza1RpdGxlIiwic2V0VGFza1RpdGxlIiwibmV3VGl0bGUiLCJoZWxwZXJGdW5jdGlvbnMiLCJlbnN1cmVDb3JyZWN0VGFiRWxlbWVudCIsImV2ZW50IiwidGFiRWxlbWVudCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJlbnN1cmVDb3JyZWN0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQiLCJ0YXNrU3ViY29udGFpbmVyRWxlbWVudCIsImNsYXNzTGlzdCIsIkFycmF5IiwiZnJvbSIsImluY2x1ZGVzIiwiZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50IiwiY2hlY2tsaXN0VGFza0VsZW1lbnQiLCJnZXRUYXNrRWxlbWVudCIsInRhc2tJbmRleCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImdldFRhYk9iamVjdCIsInRhYkluZGV4IiwiZ2V0VGFza09iamVjdCIsImNoZWNrSWZXYXNDdXJyZW50VGFiIiwiY2hlY2tJZk9ubHlPbmVUYWIiLCJ0b0RvVGFiU2VjdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnZXRUYXNrSW5kZXgiLCJ0YXNrRWxlbWVudCIsImVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCIsImRhdGFzZXQiLCJnZXRDaGVja2xpc3RUYXNrSW5kZXgiLCJjaGVja2xpc3RUYXNrSW5kZXgiLCJnZXRUYWJJbmRleCIsImdldE5ld1ZhbHVlIiwidmFsdWUiLCJnZXRUYXNrU3ViY29udGFpbmVyVHlwZSIsInRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3NlcyIsInRhc2tTdWJjb250YWluZXJUeXBlIiwiZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQiLCJidXR0b25UeXBlIiwiZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQiLCJnZXRUYWJFbGVtZW50IiwiY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudCIsImVsZW1lbnRUeXBlIiwiaW5wdXRFbGVtZW50IiwidHJ5aW5nVG9Eb3VibGVDbGljayIsImdldENoZWNrbGlzdFRhc2tPYmplY3QiLCJkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbERlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJnZXRUYXNrRGVzY3JpcHRpb24iLCJzZXRUYXNrRGVzY3JpcHRpb24iLCJuZXdEZXNjcmlwdGlvbiIsImNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbENvbXBsZXRlZFN0YXRlIiwiY29tcGxldGVkIiwidG9nZ2xlQ29tcGxldGVkU3RhdGUiLCJnZXRDb21wbGV0ZWRTdGF0ZSIsIm9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IiwidGFiTmFtZSIsIm5ld1RhYiIsInRvRG9UYWIiLCJuZXdUYWJOYW1lIiwidGFiQXJyYXkiLCJmaXJzdFRhYiIsInRhYiIsImR1ZURhdGUiLCJub3RlcyIsInBpbm5lZCIsIm5ld1Rhc2siLCJpbml0aWFsRHVlRGF0ZSIsImdldFRhc2tEdWVEYXRlIiwic2V0VGFza0R1ZURhdGUiLCJuZXdEdWVEYXRlIiwiZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbE5vdGVzIiwiZ2V0VGFza05vdGVzIiwic2V0VGFza05vdGVzIiwibmV3Tm90ZXMiLCJub3Rlc0JlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbFBpbm5lZFN0YXRlIiwidG9nZ2xlUGlubmVkU3RhdGUiLCJnZXRQaW5uZWRTdGF0ZSIsInBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IiwidG9Eb1Rhc2siLCJuZXdUYXNrU3ViY29udGVudFZhbHVlIiwidGFza09iamVjdCIsIm5ld0NoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RUYXNrT2JqZWN0IiwibmV3RGVzY3JpcHRpb25WYWx1ZSIsImV2ZW50QXNzaWduZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnRCdW5kbGVyIiwiYWRkVGFiIiwic2NvcGUiLCJ0YWJFZGl0QnV0dG9ucyIsImJ1dHRvbiIsImluc2VydFRhYklucHV0RWxlbWVudCIsInVwZGF0ZVRhYiIsInRhYlJlbW92ZUJ1dHRvbnMiLCJyZW1vdmVUYWIiLCJ0YWJTd2l0Y2hCdXR0b25zIiwic3dpdGNoVGFiIiwidGFza1JlbW92ZUJ1dHRvbnMiLCJ0YXNrRWRpdEJ1dHRvbnMiLCJpbnNlcnRUYXNrSW5wdXRFbGVtZW50IiwidXBkYXRlVGFzayIsInRhc2tDb21wbGV0ZUNoZWNrYm94ZXMiLCJjaGVja2JveCIsInRvZ2dsZVRhc2tDb21wbGV0ZSIsIm5ld0NoZWNrbGlzdFRhc2tCdXR0b25zIiwiYWRkTmV3Q2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdEVkaXRCdXR0b25zIiwiaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCIsInVwZGF0ZUNoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ZXMiLCJ0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUiLCJjaGVja2xpc3RUYXNrUmVtb3ZlQnV0dG9ucyIsInJlbW92ZUNoZWNrbGlzdFRhc2siLCJ0YXNrUGluQnV0dG9ucyIsInRvZ2dsZVRhc2tQaW4iLCJ0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMiLCJ0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMiLCJET01Db250cm9sbGVyQWRkRWRpdCIsImFkZE5ld1Rhc2tUb0RPTSIsIm5ld1Rhc2tPYmplY3QiLCJ0b0RvQ29udGVudCIsIm5ld1Rhc2tFbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImFkZCIsIm5ld1Rhc2tUaXRsZSIsIm5ld1Rhc2tEZXNjcmlwdGlvbiIsIm5ld1Rhc2tEdWVEYXRlIiwibmV3VGFza05vdGVzIiwibmV3VGFza0NvbXBsZXRlSUQiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlVGFza0RPTUNvbXBsZXRlIiwiY29tcGxldGVDaGVja2JveCIsImNoZWNrZWQiLCJyZW1vdmUiLCJhZGROZXdDaGVja2xpc3RUYXNrVG9ET00iLCJuZXdDaGVja2xpc3RUYXNrSW5kZXgiLCJjaGVja2xpc3RFbGVtZW50IiwibmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uIiwibmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQiLCJ0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUiLCJjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94Iiwic2V0UGluQnV0dG9uSW1hZ2UiLCJjdXJyZW50VGFiT2JqZWN0IiwiY3VycmVudFRhc2tJbmRleCIsImN1cnJlbnRUYXNrT2JqZWN0IiwicGluQnV0dG9uSW1hZ2UiLCJyZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uIiwidGFza0NvbnRlbnRTZWN0aW9uIiwibGlzdE9mUGlubmVkVGFza0VsZW1lbnRzIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJsYXN0UGlubmVkVGFza0VsZW1lbnQiLCJwaW5uZWRUYXNrRWxlbWVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsImFkZE5ld1RhYlRvRE9NIiwiYWRkVGFiQnV0dG9uIiwibmV3VGFiRWxlbWVudCIsIm5ld1RhYk9iamVjdFRpdGxlIiwic2V0VGFiSW5wdXRFbGVtZW50VmFsdWUiLCJmaXJzdENoaWxkIiwiZm9jdXMiLCJpbnNlcnRUYWJOYW1lRWxlbWVudCIsInRhYkJ1dHRvbiIsInRhYkJ1dHRvbk5hbWUiLCJzZXREZWZhdWx0Q3VycmVudFRhYkRPTSIsInNldEN1cnJlbnRUYWJET00iLCJzZXRGaXJzdFRhYlRvQ3VycmVudFRhYiIsImZpcnN0VGFiSW5kZXgiLCJ0YXNrU3ViY29udGFpbmVyIiwic2V0VGFza0lucHV0RWxlbWVudFZhbHVlIiwidGFza09iamVjdFZhbHVlIiwiaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1RpdGxlIiwidGFza0R1ZURhdGUiLCJ0YXNrRGVzY3JpcHRpb24iLCJ0YXNrTm90ZXMiLCJjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24iLCJzZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUiLCJjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24iLCJpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50IiwiY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCIsImNoYW5nZVBpbkJ1dHRvbkltYWdlIiwic2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uIiwidGFza0VsZW1lbnRJbmRleCIsImxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzIiwibGFzdFVucGlubmVkVGFza0VsZW1lbnQiLCJ1bnBpbm5lZFRhc2tFbGVtZW50IiwibG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIiLCJsaXN0T2ZUYXNrcyIsImFkZFRhc2tMaXN0ZW5lcnMiLCJsaXN0T2ZDaGVja2xpc3RUYXNrcyIsImFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMiLCJmb3JFYWNoIiwiZWxlbWVudCIsInN0eWxlIiwiZGlzcGxheSIsInNldFRpbWVvdXQiLCJwcmV2ZW50RG91YmxlQ2xpY2siLCJyb3RhdGVDaGV2cm9uQnV0dG9uIiwiYnV0dG9uSW1hZ2UiLCJidXR0b25JbWFnZUNsYXNzZXMiLCJ0b2dnbGVBbmltYXRpb25zIiwiYWN0aW9uIiwiZWxlbWVudHNUb1RvZ2dsZSIsIm9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QiLCJET01Db250cm9sbGVyUmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXBsYWNlQ2hpbGRyZW4iLCJuZXdUYWJJbmRleCIsImFkZFRhYkxpc3RlbmVycyIsIm5ld1Rhc2tJbmRleCIsImNvZGUiLCJsb2FkSW5pdGlhbFBhZ2UiLCJpbnN0cnVjdGlvbnNJdGVtIiwiYWRkSW5zdHJ1Y3Rpb25zQ2hlY2tsaXN0VGFzayIsInN0b3JhZ2UiLCJ0YWJSYXdTdHJpbmciLCJ0YWJQYXJzZWRTdHJpbmciLCJKU09OIiwicGFyc2UiLCJ0b2RvTGlzdFJhd1N0cmluZyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ0b2RvTGlzdFBhcnNlZFN0cmluZyIsInRvZG9MaXN0U3RyaW5naWZpZWRPYmplY3QiLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwidGFza1Jhd1N0cmluZyIsInRhc2tQYXJzZWRTdHJpbmciLCJjaGVja2xpc3RUYXNrUmF3U3RyaW5nIiwiY2hlY2tsaXN0VGFza1BhcnNlZFN0cmluZyIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9
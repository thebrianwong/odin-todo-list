(()=>{"use strict";const t=()=>{document.querySelector(".add-tab").addEventListener("click",G.addTab)},e=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-tab"));for(const t of e)t.addEventListener("click",G.insertTabInputElement)},s=t=>{t.addEventListener("keydown",G.updateTab)},n=(t=document)=>{const e=Array.from(t.querySelectorAll(".remove-tab"));for(const t of e)t.addEventListener("click",G.removeTab)},a=(t=document)=>{const e=Array.from(t.querySelectorAll(".switch-tab"));for(const t of e)t.addEventListener("click",G.switchTab)},o=()=>{document.querySelector(".new-to-do-task").addEventListener("click",G.addTask)},c=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-task"));for(const t of e)t.addEventListener("click",G.insertTaskInputElement)},i=t=>{t.addEventListener("keydown",G.updateTask)},l=(t=document)=>{const e=t.querySelectorAll(".to-do-pin");for(const t of e)t.addEventListener("click",G.toggleTaskPin)},r=(t=document)=>{const e=t.querySelectorAll(".to-do-complete-checkbox");for(const t of e)t.addEventListener("click",G.toggleTaskComplete)},d=(t=document)=>{const e=Array.from(t.querySelectorAll(".to-do-remove-task"));for(const t of e)t.addEventListener("click",G.removeTask)},k=(t=document)=>{const e=t.querySelectorAll(".add-checklist-task");for(const t of e)t.addEventListener("click",G.addNewChecklistTask)},u=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-checklist-task"));for(const t of e)t.addEventListener("click",G.insertChecklistTaskInputElement)},T=t=>{t.addEventListener("keydown",G.updateChecklistTask)},g=(t=document)=>{const e=t.querySelectorAll(".checklist-complete-checkbox");for(const t of e)t.addEventListener("click",G.toggleChecklistTaskComplete)},b=(t=document)=>{const e=t.querySelectorAll(".remove-checklist-task");for(const t of e)t.addEventListener("click",G.removeChecklistTask)},m=(t=document)=>{const e=t.querySelectorAll(".to-do-task-change-display");for(const t of e)t.addEventListener("click",G.toggleDisplayTaskDetails)},p=t=>{let e=[];return Object.assign(t,{addTask:t=>(e.push(t),e.length-1),removeTask(t){e[t]=void 0},getChecklistTasks:()=>e,getSpecificChecklistTask:t=>e[t]})},h=(()=>{let t=0;const e=()=>t;let s={getCurrentTabIndex:e,setCurrentTabIndex:e=>{t=null===e?null:Number(e)},getCurrentTabObject:()=>{const t=e();return h.getSpecificChecklistTask(t)}};return Object.assign(s,p(s)),s})(),C=(t,e)=>{let s=e;return Object.assign(t,{getTaskTitle:()=>s,setTaskTitle(t){s=t}})},f=(t,e)=>{let s=e;return Object.assign(t,{getTaskDescription:()=>s,setTaskDescription(t){s=t}})},S=(t,e)=>{let s=e;return Object.assign(t,{toggleCompletedState(){s=!s},getCompletedState:()=>s})},y=(t="New Tab")=>{const e=(t=>{let e={};return Object.assign(e,C(e,t),p(e)),e})(t);return h.addTask(e)},E=(t,e)=>{h.getSpecificChecklistTask(t).setTaskTitle(e)},I=t=>{h.setCurrentTabIndex(t)},v=()=>{const t=h.getChecklistTasks();let e;for(const s in t)if(void 0!==t[s])return h.setCurrentTabIndex(s),e=s,e;return h.setCurrentTabIndex(null),null},D=(t,e="New Task Title",s="Task Due Date",n="Task Description",a="Task Notes",o=!1,c=!1)=>{const i=h.getSpecificChecklistTask(t),l=((t,e,s,n,a,o)=>{let c={};return Object.assign(c,C(c,t),f(c,s),((t,e)=>{let s=e;return Object.assign(t,{getTaskDueDate:()=>s,setTaskDueDate(t){s=t}})})(c,e),((t,e)=>{let s=e;return Object.assign(t,{getTaskNotes:()=>s,setTaskNotes(t){s=t}})})(c,n),((t,e)=>{let s=e;return Object.assign(t,{togglePinnedState(){s=!s},getPinnedState:()=>s})})(c,a),S(c,o),p(c)),c})(e,s,n,a,o,c);return i.addTask(l)},L=(t,e,s)=>{const n=h.getCurrentTabObject().getSpecificChecklistTask(t);"Title"===e?n.setTaskTitle(s):"Due Date"===e?n.setTaskDueDate(s):"Description"===e?n.setTaskDescription(s):"Notes"===e&&n.setTaskNotes(s)},x=t=>{h.getCurrentTabObject().getSpecificChecklistTask(t).togglePinnedState()},O=t=>{h.getCurrentTabObject().getSpecificChecklistTask(t).toggleCompletedState()},q=(t,e,s="Checklist Task Description",n=!1)=>{const a=h.getSpecificChecklistTask(t).getSpecificChecklistTask(e),o=((t,e)=>{let s={};return Object.assign(s,f(s,t),S(s,e)),s})(s,n);return a.addTask(o)},A=(t,e,s)=>{h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).setTaskDescription(s)},_=(t,e)=>{h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).toggleCompletedState()},N=(()=>{const t=t=>{let e=t.target.parentElement;for(;"tab-title"!==e.getAttribute("class");)e=e.parentElement;return e},e=t=>{let e=t.target.parentElement,s=Array.from(e.classList);for(;!s.includes("to-do-task-subcontainer");)e=e.parentElement,s=Array.from(e.classList);return e},s=t=>{let e=t.target,s=Array.from(e.classList);for(;!s.includes("checklist-task");)e=e.parentElement,s=Array.from(e.classList);return e},n=t=>document.querySelector(`[data-task-index='${t}']`),a=t=>h.getSpecificChecklistTask(t),o=(t,e)=>a(t).getSpecificChecklistTask(e);return{checkIfWasCurrentTab:e=>"current-tab"===t(e).getAttribute("id"),checkIfOnlyOneTab:()=>{const t=document.querySelector(".to-do-tab-section");return 1===Array.from(t.querySelectorAll(".tab-title")).length},getTaskIndex:t=>{const e=(t=>{let e=t.target.parentElement,s=Array.from(e.classList);for(;!s.includes("to-do-task");)e=e.parentElement,s=Array.from(e.classList);return e})(t);return e.dataset.taskIndex},getChecklistTaskIndex:t=>s(t).dataset.checklistTaskIndex,getTabIndex:e=>t(e).dataset.tabIndex,getNewValue:t=>t.target.value,getTaskSubcontainerType:t=>{const s=e(t),n=Array.from(s.classList);let a;return n.includes("to-do-title-section")?a="Title":n.includes("to-do-due-date-section")?a="Due Date":n.includes("to-do-description-section")?a="Description":n.includes("to-do-notes-section")&&(a="Notes"),a},getTaskSubcontainerElement:(t,e)=>{const s=n(t);let a;return"Title"===e?a=s.querySelector(".to-do-title-section"):"Due Date"===e?a=s.querySelector(".to-do-due-date-section"):"Description"===e?a=s.querySelector(".to-do-description-section"):"Notes"===e&&(a=s.querySelector(".to-do-notes-section")),a},getTaskElement:n,getChecklistTaskElement:(t,e)=>n(t).querySelector(`[data-checklist-task-index='${e}']`),getTabElement:t=>document.querySelector(`[data-tab-index='${t}']`),checkForExistingInputElement:(n,a)=>{let o;return"Tab"===a?o=t(n).querySelector(".tab-name-input"):"Task"===a?o=e(n).querySelector(".task-input"):"Checklist Task"===a&&(o=s(n).querySelector(".checklist-complete-section").querySelector(".checklist-input")),null!==o},tryingToDoubleClick:t=>{const e=n(t);return!!Array.from(e.classList).includes("mid-animation")},getTabObject:a,getTaskObject:o,getChecklistTaskObject:(t,e,s)=>o(t,e).getSpecificChecklistTask(s),checkIfNoMoreTabs:()=>{const t=document.querySelector(".to-do-tab-section");return 0===Array.from(t.querySelectorAll(".tab-title")).length}}})(),$=(()=>{const t=t=>{const e=h.getCurrentTabObject().getSpecificChecklistTask(t),s=document.querySelector(".to-do-content"),n=document.createElement("div");n.classList.add("to-do-task"),n.dataset.taskIndex=t;const a=e.getTaskTitle(),o=e.getTaskDescription(),c=e.getTaskDueDate(),i=e.getTaskNotes(),l=`to-do-complete-checkbox-${t}`;return n.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-unpinned.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="ID PLACEHOLDER" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="ID PLACEHOLDER">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer animation-target">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer animation-target">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <div action="" class="checklist animation-target">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </div>\n        ',n.querySelector(".to-do-title").textContent=a,n.querySelector(".to-do-due-date").textContent="Due On: "+c,n.querySelector(".to-do-description").textContent="Description: "+o,n.querySelector(".to-do-notes").textContent="Notes: "+i,s.appendChild(n),n.querySelector("label").setAttribute("for",l),n.querySelector(".to-do-complete-checkbox").setAttribute("id",l),n},e=t=>{const e=N.getTaskElement(t),s=e.querySelector(".to-do-complete-checkbox");h.getCurrentTabObject().getSpecificChecklistTask(t).getCompletedState()?(s.checked=!0,e.classList.add("task-completed")):(s.checked=!1,e.classList.remove("task-completed"))},s=(t,e)=>{const s=N.getTaskElement(t).querySelector(".checklist"),n=h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).getTaskDescription(),a=document.createElement("div");return a.classList.add("checklist-task"),a.dataset.checklistTaskIndex=e,a.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${t}-${e}" class="checklist-complete-checkbox">\n                <label for="checklist-${t}-${e}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,a.querySelector(".checklist-task-description").textContent=n,s.appendChild(a),a},n=(t,e)=>{const s=N.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section").querySelector(".checklist-complete-checkbox"),n=h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e);s.checked=n.getCompletedState(),n.getCompletedState()?s.classList.add("checklist-task-completed"):s.classList.remove("checklist-task-completed")},a=t=>{const e=N.getTaskElement(t),s=h.getCurrentTabObject().getSpecificChecklistTask(t),n=e.querySelector(".to-do-pin").querySelector("img");s.getPinnedState()?n.setAttribute("src","./assets/pin-pinned.png"):n.setAttribute("src","./assets/pin-unpinned.png")},o=t=>{const e=N.getTaskElement(t),s=h.getCurrentTabObject().getSpecificChecklistTask(t),n=e.dataset.taskIndex,a=document.querySelector(".to-do-content");if(s.getPinnedState()){const t=Array.from(document.querySelectorAll(".pinned-task"));if(0===t.length)a.insertBefore(e,a.firstElementChild);else{const s=t[t.length-1];for(const o of t){if(n<o.dataset.taskIndex){a.insertBefore(e,o);break}o===s&&s.insertAdjacentElement("afterend",e)}}e.classList.add("pinned-task")}else{const t=Array.from(a.querySelectorAll(".to-do-task:not(.pinned-task)"));if(0===t.length)a.appendChild(e);else{const s=t[t.length-1];for(const o of t){if(n<o.dataset.taskIndex){a.insertBefore(e,o);break}o===s&&a.appendChild(e,s)}}e.classList.remove("pinned-task")}};return{addNewTabToDOM:t=>{const e=document.querySelector(".add-tab"),s=document.querySelector(".to-do-tab-section"),n=document.createElement("div"),a=h.getSpecificChecklistTask(t).getTaskTitle();return n.classList.add("tab-title"),n.dataset.tabIndex=t,n.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',n.querySelector(".tab-name").textContent=a,s.insertBefore(n,e),n},insertTabInputElement:t=>{const e=N.getTabElement(t),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),e.insertBefore(s,e.firstChild),s.focus(),s},setTabInputElementValue:t=>{const e=N.getTabElement(t).querySelector("input"),s=h.getSpecificChecklistTask(t).getTaskTitle();e.value=s},insertTabNameElement:t=>{const e=N.getTabElement(t),s=h.getSpecificChecklistTask(t).getTaskTitle(),n=document.createElement("button");n.classList.add("switch-tab");const a=document.createElement("h2");return a.classList.add("tab-name"),a.textContent=s,n.appendChild(a),e.insertBefore(n,e.firstChild),e},addCurrentTabIndicator:()=>{const t=h.getCurrentTabIndex();null!==t&&N.getTabElement(t).setAttribute("id","current-tab")},loadTasksFromNewCurrentTab:()=>{const c=h.getCurrentTabObject().getChecklistTasks();for(const i in c){const l=c[i];if(void 0!==l){const c=t(i);a(i),o(i),e(i),G.addTaskListeners(c);const r=l.getChecklistTasks();for(const t in r)if(void 0!==r[t]){const e=s(i,t);n(i,t),G.addChecklistTaskListeners(e)}}}},addNewTaskToDOM:t,insertTaskInputElement:(t,e)=>{const s=N.getTaskSubcontainerElement(t,e),n=document.createElement("input");return n.classList.add("task-input"),n.setAttribute("type","text"),s.insertBefore(n,s.firstChild),n.focus(),n},setTaskInputElementValue:(t,e)=>{const s=N.getTaskSubcontainerElement(t,e).querySelector("input"),n=h.getCurrentTabObject().getSpecificChecklistTask(t);let a;"Title"===e?a=n.getTaskTitle():"Due Date"===e?a=n.getTaskDueDate():"Description"===e?a=n.getTaskDescription():"Notes"===e&&(a=n.getTaskNotes()),s.value=a},insertTaskSubcontentElement:(t,e)=>{const s=N.getTaskSubcontainerElement(t,e),n=h.getCurrentTabObject().getSpecificChecklistTask(t);let a;if("Title"===e){const t=n.getTaskTitle();a=document.createElement("h3"),a.classList.add("to-do-title"),a.textContent=t}else if("Due Date"===e){const t=n.getTaskDueDate();a=document.createElement("p"),a.classList.add("to-do-due-date"),a.textContent="Due On: "+t}else if("Description"===e){const t=n.getTaskDescription();a=document.createElement("p"),a.classList.add("to-do-description"),a.textContent="Description: "+t}else if("Notes"===e){const t=n.getTaskNotes();a=document.createElement("p"),a.classList.add("to-do-notes"),a.textContent="Notes: "+t}s.insertBefore(a,s.firstChild)},toggleTaskDOMComplete:e,addNewChecklistTaskToDOM:s,insertChecklistTaskInputElement:(t,e)=>{const s=N.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section"),n=document.createElement("input");return n.classList.add("checklist-input"),n.setAttribute("type","text"),s.appendChild(n),n.focus(),n},setChecklistTaskInputElementValue:(t,e)=>{const s=N.getChecklistTaskElement(t,e).querySelector(".checklist-input"),n=h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).getTaskDescription();s.value=n},insertChecklistTaskDescriptionElement:(t,e)=>{const s=N.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section"),n=h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).getTaskDescription(),a=document.createElement("label");a.setAttribute("for",`checklist-${t}-${e}`),a.classList.add("checklist-task-description"),a.textContent=n,s.appendChild(a)},toggleChecklistTaskDOMComplete:n,changePinButtonImage:a,shiftTaskElementPosition:o,toggleDisplayTaskDetails:t=>{const e=N.getTaskElement(t);Array.from(e.querySelectorAll(".animation-target")).forEach((t=>{Array.from(t.classList).includes("hide-to-do-details")?(t.classList.remove("hide-to-do-details"),t.classList.add("display-to-do-details"),t.style.display="flex"):(t.classList.add("hide-to-do-details"),t.classList.remove("display-to-do-details"),setTimeout((()=>{t.style.display="none"}),1e3))})),(t=>{t.classList.add("mid-animation"),setTimeout((()=>{t.classList.remove("mid-animation")}),1e3)})(e)},rotateChevronButton:t=>{const e=N.getTaskElement(t).querySelector(".to-do-task-change-display").querySelector("img"),s=Array.from(e.classList);0===s.length||s.includes("rotate-hide-task-details")?(e.classList.remove("rotate-hide-task-details"),e.classList.add("rotate-display-task-details"),e.classList.add("rotated-chevron")):s.includes("rotate-display-task-details")&&(e.classList.remove("rotate-display-task-details"),e.classList.add("rotate-hide-task-details"),e.classList.remove("rotated-chevron"))},toggleAnimations:(t,e)=>{const s=N.getTaskElement(t),n=s.querySelector(".to-do-task-change-display").querySelector("img"),a=Array.from(s.querySelectorAll(".animation-target"));a.push(n),a.forEach((t=>{"Enable"===e?t.classList.add("no-animations"):"Disable"===e&&t.classList.remove("no-animations")}))}}})(),j=t=>{const e=N.getTabElement(t);let s=e.querySelector(".switch-tab");e.removeChild(s),s=null},w=t=>{const e=N.getTabElement(t);let s=e.querySelector("input");e.removeChild(s),s=null},P=t=>{let e=N.getTabElement(t);document.querySelector(".to-do-tab-section").removeChild(e),e=null},M=()=>{const t=document.querySelector("#current-tab");null!==t&&t.removeAttribute("id")},V=t=>{let e=N.getTaskElement(t);document.querySelector(".to-do-content").removeChild(e),e=null},B=(t,e)=>{const s=N.getTaskSubcontainerElement(t,e);let n=s.firstElementChild;s.removeChild(n),n=null},H=(t,e)=>{const s=N.getTaskSubcontainerElement(t,e);let n=s.querySelector("input");s.removeChild(n),n=null},R=(t,e)=>{const s=N.getChecklistTaskElement(t,e),n=s.querySelector(".checklist-complete-section");let a=s.querySelector(".checklist-task-description");n.removeChild(a),a=null},F=(t,e)=>{const s=N.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section");let n=s.querySelector(".checklist-input");s.removeChild(n),n=null},J=(t,e)=>{const s=N.getTaskElement(t).querySelector(".checklist");let n=N.getChecklistTaskElement(t,e);s.removeChild(n),n=null},z=()=>{document.querySelector(".to-do-content").replaceChildren()},W=t=>{h.removeTask(t)},Q=t=>{h.getCurrentTabObject().removeTask(t)},U=(t,e)=>{h.getCurrentTabObject().getSpecificChecklistTask(t).removeTask(e)},X=(()=>{let t=!1;const e=()=>{const t=localStorage.getItem("to_do_list");return JSON.parse(t)},s=t=>{const e=JSON.stringify(t);localStorage.setItem("to_do_list",e)};return{addTab:t=>{const n=N.getTabObject(t),a=e(),o=`{\n            "title": "${n.getTaskTitle()}",\n            "tasks": {}\n        }`,c=JSON.parse(o);a.tabs[`tab_${t}`]=c,s(a)},setCurrentTab:t=>{const n=e();n.current_tab=null===t?null:Number(t),s(n)},setTabName:t=>{const n=N.getTabObject(t),a=e();a.tabs[`tab_${t}`].title=n.getTaskTitle(),s(a)},getCurrentTabIndex:()=>e().current_tab,getTabTitle:t=>e().tabs[t].title,getTabObjects:()=>X.getLocalStorageValue().tabs,removeTab:t=>{const n=e();n.tabs[`tab_${t}`]=null,s(n)},addTask:(t,n)=>{const a=N.getTaskObject(t,n),o=e(),c=`{\n            "title": "${a.getTaskTitle()}",\n            "due_date": "${a.getTaskDueDate()}",\n            "description": "${a.getTaskDescription()}",\n            "notes": "${a.getTaskNotes()}",\n            "pinned": ${a.getPinnedState()},\n            "completed": ${a.getCompletedState()},\n            "checklist_tasks": {}\n        }`,i=JSON.parse(c);o.tabs[`tab_${t}`].tasks[`task_${n}`]=i,s(o)},setTaskSubcontainerValue:(t,n,a)=>{const o=N.getTaskObject(t,n),c=e();"Title"===a?c.tabs[`tab_${t}`].tasks[`task_${n}`].title=o.getTaskTitle():"Due Date"===a?c.tabs[`tab_${t}`].tasks[`task_${n}`].due_date=o.getTaskDueDate():"Description"===a?c.tabs[`tab_${t}`].tasks[`task_${n}`].description=o.getTaskDescription():"Notes"===a&&(c.tabs[`tab_${t}`].tasks[`task_${n}`].notes=o.getTaskNotes()),s(c)},toggleTaskPinned:(t,n)=>{const a=N.getTaskObject(t,n),o=e();o.tabs[`tab_${t}`].tasks[`task_${n}`].pinned=a.getPinnedState(),s(o)},toggleTaskCompleted:(t,n)=>{const a=N.getTaskObject(t,n),o=e();o.tabs[`tab_${t}`].tasks[`task_${n}`].completed=a.getCompletedState(),s(o)},getTaskValues:(t,s)=>{const n=e();let a=[];const o=n.tabs[t].tasks[s].title;a.push(o);const c=n.tabs[t].tasks[s].due_date;a.push(c);const i=n.tabs[t].tasks[s].description;a.push(i);const l=n.tabs[t].tasks[s].notes;a.push(l);const r=n.tabs[t].tasks[s].pinned;a.push(r);const d=n.tabs[t].tasks[s].completed;return a.push(d),a},getTaskObjects:t=>X.getLocalStorageValue().tabs[`tab_${t}`].tasks,removeTask:(t,n)=>{const a=e();a.tabs[`tab_${t}`].tasks[`task_${n}`]=null,s(a)},addChecklistTask:(t,n,a)=>{const o=N.getChecklistTaskObject(t,n,a),c=e(),i=`{\n            "description": "${o.getTaskDescription()}",\n            "completed": ${o.getCompletedState()}\n        }`,l=JSON.parse(i);c.tabs[`tab_${t}`].tasks[`task_${n}`].checklist_tasks[`checklist_task_${a}`]=l,s(c)},setChecklistTaskDescription:(t,n,a)=>{const o=N.getChecklistTaskObject(t,n,a),c=e();c.tabs[`tab_${t}`].tasks[`task_${n}`].checklist_tasks[`checklist_task_${a}`].description=o.getTaskDescription(),s(c)},toggleChecklistTaskCompleted:(t,n,a)=>{const o=N.getChecklistTaskObject(t,n,a),c=e();c.tabs[`tab_${t}`].tasks[`task_${n}`].checklist_tasks[`checklist_task_${a}`].completed=o.getCompletedState(),s(c)},getChecklistTaskValues:(t,s,n)=>{const a=e();let o=[];const c=a.tabs[t].tasks[s].checklist_tasks[n].description;o.push(c);const i=a.tabs[t].tasks[s].checklist_tasks[n].completed;return o.push(i),o},getChecklistTaskObjects:(t,e)=>X.getLocalStorageValue().tabs[`tab_${t}`].tasks[`task_${e}`].checklist_tasks,removeChecklistTask:(t,n,a)=>{const o=e();o.tabs[`tab_${t}`].tasks[`task_${n}`].checklist_tasks[`checklist_task_${a}`]=null,s(o)},checkForExistingStorage:()=>!!localStorage.getItem("to_do_list"),getLocalStorageValue:e,initializeTodoList:()=>{const t=`{\n            "current_tab": ${h.getCurrentTabIndex()},\n            "tabs": {}\n        }`,e=JSON.parse(t);s(e)},toggleLoading:()=>{t=!t},isLoading:()=>t}})(),G=(()=>{const p=(t,e="New Tab")=>{const s=y(e),n=$.addNewTabToDOM(s);if(C(n),!X.isLoading()&&(X.addTab(s),N.checkIfOnlyOneTab())){const t=v();$.addCurrentTabIndicator(),X.setCurrentTab(t)}return s},C=t=>{e(t),n(t),a(t)},f=(t,e=h.getCurrentTabIndex(),s="New Task Title",n="Task Due Date",a="Task Description",o="Task Notes",c=!1,i=!1)=>{if(null===h.getCurrentTabIndex())return void K();const l=D(e,s,n,a,o,c,i),r=$.addNewTaskToDOM(l);return S(r),X.isLoading()||X.addTask(h.getCurrentTabIndex(),l),l},S=t=>{d(t),c(t),r(t),k(t),l(t),m(t)},G=t=>{u(t),g(t),b(t)},K=()=>{const t=p(event,"Instructions"),e=f(event,t,"Quick Tips! Click the pin button to pin a task to the top of the list.","Tomorrow, next week, or whenever your task is due, you can add it here! Click the arrow button to toggle between showing and hiding task details.","Add a description of your task here! Click the pencil buttons to edit the various parts of your task.","Jot down some notes here! Mark your task as complete when you're done, or remove it from the list by clicking the X button.",!1,!1);$.toggleTaskDOMComplete(e),$.changePinButtonImage(e),$.shiftTaskElementPosition(e),Y(t,e,"If your task has multiple steps, try breaking them down into a checklist! Click the plus sign button to add steps as needed.",!1),Y(t,e,"Have a new task you want to keep track of? Add it to the list by clicking on the 'New Task' button below!",!1),Y(t,e,"Organize the different types of tasks in your life by creating themed tabs. Create a new tab by clicking on the plus sign button at the top of the list. Change tabs by clicking on different tab names.",!1)},Y=(t,e,s,n)=>{const a=q(t,e,s,n),o=$.addNewChecklistTaskToDOM(e,a);$.toggleChecklistTaskDOMComplete(e,a),G(o),X.isLoading()||X.addChecklistTask(t,e,a)},Z=()=>{X.toggleLoading(),tt(),et(),X.toggleLoading()},tt=()=>{const t=X.getCurrentTabIndex();h.setCurrentTabIndex(t)},et=()=>{const t=X.getTabObjects();for(const e in t)if(null===t[e])h.addTask(void 0);else{const t=X.getTabTitle(e),s=p(event,t);st(s,e)}$.addCurrentTabIndicator()},st=(t,e)=>{const s=N.getTabObject(t),n=X.getTaskObjects(t);for(const a in n)if(null===n[a])s.addTask(void 0);else{const s=X.getTaskValues(e,a),n=s[0],o=s[1],c=s[2],i=s[3],l=s[4],r=s[5];let d;t===h.getCurrentTabIndex()?(d=f(event,t,n,o,c,i,l,r),$.toggleTaskDOMComplete(d),$.changePinButtonImage(d),$.shiftTaskElementPosition(d)):d=D(t,n,o,c,i,l,r),nt(t,e,d,a)}},nt=(t,e,s,n)=>{const a=N.getTaskObject(t,s),o=X.getChecklistTaskObjects(t,s);for(const c in o)if(null===o[c])a.addTask(void 0);else{const a=X.getChecklistTaskValues(e,n,c),o=a[0],i=a[1];let l;l=t===h.getCurrentTabIndex()?Y(t,s,o,i):q(t,s,o,i)}},at=()=>{t(),o()};return{addTab:p,insertTabInputElement:t=>{if(!N.checkForExistingInputElement(t,"Tab")){const e=N.getTabIndex(t),n=$.insertTabInputElement(e);j(e),$.setTabInputElementValue(e),s(n)}},updateTab:t=>{if("Enter"===t.code){const e=N.getTabIndex(t),s=N.getNewValue(t);E(e,s);const n=$.insertTabNameElement(e);w(e),a(n),X.setTabName(e)}},switchTab:t=>{if(!N.checkIfWasCurrentTab(t)){const e=N.getTabIndex(t);I(e),M(),$.addCurrentTabIndicator(),z(),$.loadTasksFromNewCurrentTab(),X.setCurrentTab(e)}},removeTab:t=>{const e=N.getTabIndex(t);if(W(e),P(e),X.removeTab(e),N.checkIfWasCurrentTab(t)){const t=v();$.addCurrentTabIndicator(),z(),X.setCurrentTab(t),N.checkIfNoMoreTabs()||$.loadTasksFromNewCurrentTab()}},addTabListeners:C,addTask:f,insertTaskInputElement:t=>{if(!N.checkForExistingInputElement(t,"Task")){const e=N.getTaskIndex(t),s=N.getTaskSubcontainerType(t);B(e,s);const n=$.insertTaskInputElement(e,s);$.setTaskInputElementValue(e,s),i(n)}},updateTask:t=>{if("Enter"===t.code){const e=N.getTaskIndex(t),s=N.getTaskSubcontainerType(t),n=N.getNewValue(t);L(e,s,n),$.insertTaskSubcontentElement(e,s),H(e,s),X.setTaskSubcontainerValue(h.getCurrentTabIndex(),e,s)}},toggleTaskPin:t=>{const e=N.getTaskIndex(t);$.toggleAnimations(e,"Enable"),x(e),$.changePinButtonImage(e),$.shiftTaskElementPosition(e),X.toggleTaskPinned(h.getCurrentTabIndex(),e)},toggleTaskComplete:t=>{const e=N.getTaskIndex(t);O(e),$.toggleTaskDOMComplete(e),X.toggleTaskCompleted(h.getCurrentTabIndex(),e)},removeTask:t=>{const e=N.getTaskIndex(t);Q(e),V(e),X.removeTask(h.getCurrentTabIndex(),e)},addTaskListeners:S,addNewChecklistTask:t=>{const e=h.getCurrentTabIndex(),s=N.getTaskIndex(t),n=q(e,s),a=$.addNewChecklistTaskToDOM(s,n);G(a),X.isLoading()||X.addChecklistTask(h.getCurrentTabIndex(),s,n)},insertChecklistTaskInputElement:t=>{if(!N.checkForExistingInputElement(t,"Checklist Task")){const e=N.getTaskIndex(t),s=N.getChecklistTaskIndex(t);R(e,s);const n=$.insertChecklistTaskInputElement(e,s);$.setChecklistTaskInputElementValue(e,s),T(n)}},updateChecklistTask:t=>{if("Enter"===t.code){const e=N.getTaskIndex(t),s=N.getChecklistTaskIndex(t),n=N.getNewValue(t);A(e,s,n),$.insertChecklistTaskDescriptionElement(e,s),F(e,s),X.setChecklistTaskDescription(h.getCurrentTabIndex(),e,s)}},toggleChecklistTaskComplete:t=>{const e=N.getTaskIndex(t),s=N.getChecklistTaskIndex(t);_(e,s),$.toggleChecklistTaskDOMComplete(e,s),X.toggleChecklistTaskCompleted(h.getCurrentTabIndex(),e,s)},removeChecklistTask:t=>{const e=N.getTaskIndex(t),s=N.getChecklistTaskIndex(t);U(e,s),J(e,s),X.removeChecklistTask(h.getCurrentTabIndex(),e,s)},addChecklistTaskListeners:G,toggleDisplayTaskDetails:t=>{const e=N.getTaskIndex(t);N.tryingToDoubleClick(e)||($.toggleAnimations(e,"Disable"),$.toggleDisplayTaskDetails(e),$.rotateChevronButton(e))},loadInInstructionsPage:K,loadInLocalStorage:Z,loadInTabObjects:et,loadInInitialListeners:at,loadInPage:()=>{at(),X.checkForExistingStorage()?Z():(X.initializeTodoList(),K())}}})();G.loadInPage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXFMMUczRSxvQkFuTHlCK0UsSUFDekIsTUFBTVYsRUFBWVEsRUFBZ0JtQixhQUFhakIsR0FDekNKLEVBQXFCRSxFQUFnQnVCLHNCQUFzQnJCLEdBQ2pFMkgsRUFBOERySSxFQUFXTSxHQUN6RTJILEVBQWtEakksRUFBV00sR0FDN0RnSSxFQUFnQjNNLG9CQUFvQmUsRUFBU0UscUJBQXNCb0QsRUFBV00sRUFBbUIsRUErS2pHZ0csNEJBQ0F6Syx5QkF6SzhCNkUsSUFDOUIsTUFBTVYsRUFBWVEsRUFBZ0JtQixhQUFhakIsR0FDMUNGLEVBQWdCbUMsb0JBQW9CM0MsS0FDckM4QyxFQUFxQmdGLGlCQUFpQjlILEVBQVcsV0FDakQ4QyxFQUFxQmpILHlCQUF5Qm1FLEdBQzlDOEMsRUFBcUI2RSxvQkFBb0IzSCxHQUM1QyxFQW9LRHdMLHlCQUNBRyxxQkFDQUUsb0JBQ0FPLDBCQUNBRSxXQWxDZSxLQUNmRixLQUNJOUQsRUFBZ0IyQywwQkFDaEJVLEtBRUFyRCxFQUFnQjRDLHFCQUNoQk0sSUFDSCxFQTZCUixFQW5Yb0IsR0NQckIvUixFQUFhNlMsWSIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvZXZlbnRfYXNzaWduZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvdG9kb19saXN0X29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9vYmplY3RfY29udHJvbGxlcl9hZGRfZWRpdF9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3RhYl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3Rhc2tfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2NoZWNrbGlzdF90YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2hlbHBlcl9mdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9ET01fY29udHJvbGxlcl9hZGRfZWRpdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX3JlbW92ZS5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL29iamVjdF9jb250cm9sbGVyX3JlbW92ZV9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX2xpc3Rfc3RvcmFnZV9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9ldmVudF9idW5kbGVyX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9ldmVudF9idW5kbGVyX29iamVjdFwiO1xuXG5jb25zdCBldmVudEFzc2lnbmVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBhZGRUYWJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGRUYWIpO1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVkaXRCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtdGFiXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFiRWRpdEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmluc2VydFRhYklucHV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWRkVGFiSW5wdXRMaXN0ZW5lciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50QnVuZGxlci51cGRhdGVUYWIpXG4gICAgfVxuICAgIGNvbnN0IGFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYlJlbW92ZUJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVtb3ZlLXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYlJlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZVRhYik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRTd2l0Y2hUYWJMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJTd2l0Y2hCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnN3aXRjaC10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJTd2l0Y2hCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5zd2l0Y2hUYWIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBhZGROZXdUYXNrTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10by1kby10YXNrXCIpO1xuICAgICAgICBuZXdUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuYWRkVGFzayk7XG4gICAgfVxuICAgIGNvbnN0IGFkZEVkaXRUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VkaXRCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tFZGl0QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuaW5zZXJ0VGFza0lucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYXNrSW5wdXRMaXN0ZW5lciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50QnVuZGxlci51cGRhdGVUYXNrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZVRhc2tQaW5MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrUGluQnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tcGluXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrUGluQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlVGFza1Bpbik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVDaGVja2JveGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVja2JveCBvZiB0YXNrQ29tcGxldGVDaGVja2JveGVzKSB7XG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZVRhc2tDb21wbGV0ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1JlbW92ZUJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tcmVtb3ZlLXRhc2tcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrUmVtb3ZlQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIucmVtb3ZlVGFzayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFkZC1jaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgbmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmFkZE5ld0NoZWNrbGlzdFRhc2spXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEVkaXRCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtY2hlY2tsaXN0LXRhc2tcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiBjaGVja2xpc3RFZGl0QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50QnVuZGxlci51cGRhdGVDaGVja2xpc3RUYXNrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZUxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3hlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrYm94IG9mIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3hlcykge1xuICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tSZW1vdmVCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5yZW1vdmUtY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGNoZWNrbGlzdFRhc2tSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVDaGVja2xpc3RUYXNrKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tUb2dnbGVEaXNwbGF5QnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tdGFzay1jaGFuZ2UtZGlzcGxheVwiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza1RvZ2dsZURpc3BsYXlCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVEaXNwbGF5VGFza0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGROZXdUYWJMaXN0ZW5lcixcbiAgICAgICAgYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyLFxuICAgICAgICBhZGRUYWJJbnB1dExpc3RlbmVyLFxuICAgICAgICBhZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lcixcbiAgICAgICAgYWRkU3dpdGNoVGFiTGlzdGVuZXIsXG4gICAgICAgIGFkZE5ld1Rhc2tMaXN0ZW5lcixcbiAgICAgICAgYWRkRWRpdFRhc2tMaXN0ZW5lcixcbiAgICAgICAgYWRkVGFza0lucHV0TGlzdGVuZXIsXG4gICAgICAgIGFkZFRvZ2dsZVRhc2tQaW5MaXN0ZW5lcixcbiAgICAgICAgYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIsXG4gICAgICAgIGFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lcixcbiAgICAgICAgYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyLFxuICAgICAgICBhZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVyLFxuICAgICAgICBhZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lcixcbiAgICAgICAgYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIsXG4gICAgICAgIGFkZFJlbW92ZUNoZWNrbGlzdFRhc2tMaXN0ZW5lcixcbiAgICAgICAgYWRkVG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzTGlzdGVuZXJcbiAgICB9O1xufSkoKTtcblxuZXhwb3J0IHsgZXZlbnRBc3NpZ25lciB9OyIsImNvbnN0IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCkgPT4ge1xuICAgIGxldCBjaGVja2xpc3QgPSBbXTtcbiAgICBjb25zdCBnZXRUYXNrSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3QubGVuZ3RoIC0gMTtcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBhZGRUYXNrKHRhc2spIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdC5wdXNoKHRhc2spO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcmV0dXJuIGdldFRhc2tJbmRleCgpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVUYXNrKGluZGV4KSB7XG4gICAgICAgICAgICBjaGVja2xpc3RbaW5kZXhdID0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXRDaGVja2xpc3RUYXNrcygpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVja2xpc3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFtpbmRleF07XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH07IiwiLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9MaXN0ID0gKCgpID0+IHtcbiAgICBsZXQgY3VycmVudFRhYiA9IDA7XG4gICAgY29uc3QgZ2V0Q3VycmVudFRhYkluZGV4ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYjtcbiAgICB9O1xuICAgIGNvbnN0IHNldEN1cnJlbnRUYWJJbmRleCA9IChuZXdDdXJyZW50VGFiKSA9PiB7XG4gICAgICAgIGlmIChuZXdDdXJyZW50VGFiID09PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50VGFiID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRUYWIgPSBOdW1iZXIobmV3Q3VycmVudFRhYik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRDdXJyZW50VGFiT2JqZWN0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiSW5kZXggPSBnZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFiSW5kZXgpO1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYk9iamVjdDtcbiAgICB9XG4gICAgbGV0IG9iamVjdCA9IHtcbiAgICAgICAgZ2V0Q3VycmVudFRhYkluZGV4LFxuICAgICAgICBzZXRDdXJyZW50VGFiSW5kZXgsXG4gICAgICAgIGdldEN1cnJlbnRUYWJPYmplY3RcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudChvYmplY3QpLFxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn0pKCk7XG5cbmV4cG9ydCB7IHRvRG9MaXN0IH07IiwiY29uc3QgdGl0bGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxUaXRsZSkgPT4ge1xuICAgIGxldCB0aXRsZSA9IGluaXRpYWxUaXRsZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza1RpdGxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrVGl0bGUobmV3VGl0bGUpIHtcbiAgICAgICAgICAgIHRpdGxlID0gbmV3VGl0bGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSIsImNvbnN0IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsRGVzY3JpcHRpb24pID0+IHtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSBpbml0aWFsRGVzY3JpcHRpb247XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGdldFRhc2tEZXNjcmlwdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0Rlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0iLCIvLyBvcmlnaW5hbCB3aGVyZSBhbGwgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBnZXQgcmV0dXJuZWQsIHNvIG5vIHByaXZhdGUgZmllbGRzIChjb21wbGV0ZWQgc2hvdWxkIGJlIHByaXZhdGUpXG4vLyBrZWVwaW5nIGZvciBwb3N0ZXJpdHksIHByb2JhYmx5IHdpbGwgZGVsZXRlZCBhdCB0aGUgZW5kXG4vLyBjb25zdCBjYW5Db21wbGV0ZSA9IChvYmplY3QpID0+ICh7XG4vLyAgICAgY29tcGxldGVkOiBmYWxzZSxcbi8vICAgICB0b2dnbGU6ICgpID0+IHtcbi8vICAgICAgICAgaWYgKG9iamVjdC5jb21wbGV0ZWQpIHtcbi8vICAgICAgICAgICAgIG9iamVjdC5jb21wbGV0ZWQgPSBmYWxzZTtcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgIG9iamVjdC5jb21wbGV0ZWQgPSB0cnVlO1xuLy8gICAgICAgICB9O1xuLy8gICAgIH0sXG4vLyAgICAgZ2V0Q29tcGxldGVkU3RhdGU6ICgpID0+IHtcbi8vICAgICAgICAgcmV0dXJuIG9iamVjdC5jb21wbGV0ZWRcbi8vICAgICB9XG4vLyB9KTtcblxuY29uc3QgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsQ29tcGxldGVkU3RhdGUpID0+IHtcbiAgICBsZXQgY29tcGxldGVkID0gaW5pdGlhbENvbXBsZXRlZFN0YXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICB0b2dnbGVDb21wbGV0ZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldENvbXBsZXRlZFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZDtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYXNrIH0gZnJvbSBcIi4vdG9kb190YXNrX29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9IGZyb20gXCIuL2NoZWNrbGlzdF90YXNrX29iamVjdFwiO1xuXG5jb25zdCBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiVG9Ub2RvTGlzdCA9ICh0YWJOYW1lPVwiTmV3IFRhYlwiKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RhYiA9IHRvRG9UYWIodGFiTmFtZSk7XG4gICAgICAgIHJldHVybiB0b0RvTGlzdC5hZGRUYXNrKG5ld1RhYik7XG4gICAgfVxuICAgIGNvbnN0IGVkaXRUYWJOYW1lID0gKHRhYkluZGV4LCBuZXdUYWJOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIHRhYk9iamVjdC5zZXRUYXNrVGl0bGUobmV3VGFiTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KHRhYkluZGV4KVxuICAgIH1cbiAgICBjb25zdCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiQXJyYXkgPSB0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICBsZXQgZmlyc3RUYWIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgdGFiIGluIHRhYkFycmF5KSB7XG4gICAgICAgICAgICBpZiAodGFiQXJyYXlbdGFiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KHRhYik7XG4gICAgICAgICAgICAgICAgZmlyc3RUYWIgPSB0YWI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0VGFiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRvRG9MaXN0LnNldEN1cnJlbnRUYWJJbmRleChudWxsKVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH07XG4gICAgY29uc3QgYWRkTmV3VGFza1RvVGFiID0gKHRhYkluZGV4LCB0aXRsZT1cIk5ldyBUYXNrIFRpdGxlXCIsIGR1ZURhdGU9XCJUYXNrIER1ZSBEYXRlXCIsIGRlc2NyaXB0aW9uPVwiVGFzayBEZXNjcmlwdGlvblwiLCBub3Rlcz1cIlRhc2sgTm90ZXNcIiwgcGlubmVkPWZhbHNlLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgbmV3VGFzayA9IHRvRG9UYXNrKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0luZGV4ID0gdGFiT2JqZWN0LmFkZFRhc2sobmV3VGFzayk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBlZGl0VGFza0luZm8gPSAodGFza0luZGV4LCBidXR0b25UeXBlLCBuZXdUYXNrU3ViY29udGVudFZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0LnNldFRhc2tUaXRsZShuZXdUYXNrU3ViY29udGVudFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkR1ZSBEYXRlXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3Quc2V0VGFza0R1ZURhdGUobmV3VGFza1N1YmNvbnRlbnRWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0LnNldFRhc2tEZXNjcmlwdGlvbihuZXdUYXNrU3ViY29udGVudFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIk5vdGVzXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3Quc2V0VGFza05vdGVzKG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza1BpbiA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIHRhc2tPYmplY3QudG9nZ2xlUGlubmVkU3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIHRhc2tPYmplY3QudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2sgPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgZGVzY3JpcHRpb249XCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvblwiLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IHRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFzayA9IGNoZWNrbGlzdFRhc2tPYmplY3QoZGVzY3JpcHRpb24sIGNvbXBsZXRlZCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tJbmRleCA9IHRhc2tPYmplY3QuYWRkVGFzayhuZXdDaGVja2xpc3RUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGVkaXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgsIG5ld0Rlc2NyaXB0aW9uVmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjaGVja2xpc3RUYXNrT2JqZWN0LnNldFRhc2tEZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvblZhbHVlKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tPYmplY3QudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZE5ld1RhYlRvVG9kb0xpc3QsXG4gICAgICAgIGVkaXRUYWJOYW1lLFxuICAgICAgICB1cGRhdGVDdXJyZW50VGFiLFxuICAgICAgICBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYixcbiAgICAgICAgYWRkTmV3VGFza1RvVGFiLFxuICAgICAgICBlZGl0VGFza0luZm8sXG4gICAgICAgIHRvZ2dsZVRhc2tQaW4sXG4gICAgICAgIHRvZ2dsZVRhc2tDb21wbGV0ZSxcbiAgICAgICAgYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzayxcbiAgICAgICAgZWRpdENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbixcbiAgICAgICAgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlXG4gICAgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYWIgPSAodGl0bGUpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFiIH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBub3Rlc0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYXNrID0gKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICB0aXRsZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgdGl0bGUpLCBcbiAgICAgICAgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGRlc2NyaXB0aW9uKSxcbiAgICAgICAgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZHVlRGF0ZSksXG4gICAgICAgIG5vdGVzQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBub3RlcyksXG4gICAgICAgIC8vIGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICAgICAgcGlubmVkQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBwaW5uZWQpLFxuICAgICAgICBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGNvbXBsZXRlZCksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFzayB9OyIsImNvbnN0IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxEdWVEYXRlKSA9PiB7XG4gICAgbGV0IGR1ZURhdGUgPSBpbml0aWFsRHVlRGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza0R1ZURhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZHVlRGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0R1ZURhdGUobmV3RHVlRGF0ZSkge1xuICAgICAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3Qgbm90ZXNCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxOb3RlcykgPT4ge1xuICAgIGxldCBub3RlcyA9IGluaXRpYWxOb3RlcztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza05vdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdGVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrTm90ZXMobmV3Tm90ZXMpIHtcbiAgICAgICAgICAgIG5vdGVzID0gbmV3Tm90ZXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSIsImNvbnN0IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbFBpbm5lZFN0YXRlKSA9PiB7XG4gICAgbGV0IHBpbm5lZCA9IGluaXRpYWxQaW5uZWRTdGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlUGlubmVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAocGlubmVkKSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpbm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwaW5uZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIG9yaWdpbmFsIHdoZXJlIG9iamVjdCB3b3VsZCBuZWVkIHRvIGhhdmUgT2JqZWN0LmFzc2lnbigpIGZvciBldmVyeSBpbnN0YW5jZVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbikgPT4ge1xuICAgIC8vIGNvbnN0IGdldFRhc2tEZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIC8vIH07XG4gICAgLy8gY29uc3Qgc2V0VGFza0Rlc2NyaXB0aW9uID0gKG5ld0Rlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gICAgIGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgLy8gfTtcbi8vICAgICByZXR1cm4geyBnZXRUYXNrRGVzY3JpcHRpb24sIHNldFRhc2tEZXNjcmlwdGlvbiB9O1xuLy8gfTtcblxuY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbiwgY29tcGxldGVkKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZGVzY3JpcHRpb24pLFxuICAgICAgICBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGNvbXBsZXRlZClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59XG5cbmV4cG9ydCB7IGNoZWNrbGlzdFRhc2tPYmplY3QgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcblxuY29uc3QgaGVscGVyRnVuY3Rpb25zID0gKCgpID0+IHtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFiRWxlbWVudCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB3aGlsZSAodGFiRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSAhPT0gXCJ0YWItdGl0bGVcIikge1xuICAgICAgICAgICAgdGFiRWxlbWVudCA9IHRhYkVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0ZvckV4aXN0aW5nSW5wdXRFbGVtZW50ID0gKGV2ZW50LCBlbGVtZW50VHlwZSkgPT4ge1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoZWxlbWVudFR5cGUgPT09IFwiVGFiXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFiLW5hbWUtaW5wdXRcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IFwiVGFza1wiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYXNrU3ViY29udGFpbmVyRWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2staW5wdXRcIik7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudFR5cGUgPT09IFwiQ2hlY2tsaXN0IFRhc2tcIikge1xuICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudCA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1pbnB1dFwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGlucHV0RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0lmV2FzQ3VycmVudFRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBpZiAodGFiRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gXCJjdXJyZW50LXRhYlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrSWZPbmx5T25lVGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJzID0gQXJyYXkuZnJvbSh0b0RvVGFiU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi10aXRsZVwiKSk7XG4gICAgICAgIGlmICh0b0RvVGFicy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YXNrRWxlbWVudCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcInRvLWRvLXRhc2tcIikpIHtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50ID0gdGFza0VsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhc2tFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrU3ViY29udGFpbmVyRWxlbWVudC5jbGFzc0xpc3QpXG4gICAgICAgIHdoaWxlICghY2xhc3NMaXN0LmluY2x1ZGVzKFwidG8tZG8tdGFzay1zdWJjb250YWluZXJcIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXNrU3ViY29udGFpbmVyRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKGNoZWNrbGlzdFRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIHdoaWxlICghY2xhc3NMaXN0LmluY2x1ZGVzKFwiY2hlY2tsaXN0LXRhc2tcIikpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0VGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBnZXRUYXNrSW5kZXggPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgcmV0dXJuIHRhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGdldENoZWNrbGlzdFRhc2tJbmRleCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza0luZGV4O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFiSW5kZXggPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFiSW5kZXggPSB0YWJFbGVtZW50LmRhdGFzZXQudGFiSW5kZXg7XG4gICAgICAgIHJldHVybiB0YWJJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGdldE5ld1ZhbHVlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrU3ViY29udGFpbmVyVHlwZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYXNrU3ViY29udGFpbmVyRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3NlcyA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250YWluZXJUeXBlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGFza1N1YmNvbnRhaW5lckVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwidG8tZG8tdGl0bGUtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBcIlRpdGxlXCI7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lckVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwidG8tZG8tZHVlLWRhdGUtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBcIkR1ZSBEYXRlXCI7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lckVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwidG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBcIkRlc2NyaXB0aW9uXCI7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lckVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwidG8tZG8tbm90ZXMtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBcIk5vdGVzXCI7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YXNrU3ViY29udGFpbmVyVHlwZTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IFwiVGl0bGVcIikge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRpdGxlLXNlY3Rpb25cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEdWUgRGF0ZVwiKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZHVlLWRhdGUtc2VjdGlvblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkRlc2NyaXB0aW9uXCIpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzLXNlY3Rpb25cIik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YXNrU3ViY29udGFpbmVyRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhc2tFbGVtZW50ID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staW5kZXg9JyR7dGFza0luZGV4fSddYCk7XG4gICAgICAgIHJldHVybiB0YXNrRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBnZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWNoZWNrbGlzdC10YXNrLWluZGV4PScke2NoZWNrbGlzdFRhc2tJbmRleH0nXWApO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza0VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGdldFRhYkVsZW1lbnQgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhYi1pbmRleD0nJHt0YWJJbmRleH0nXWApO1xuICAgICAgICByZXR1cm4gdGFiRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHRyeWluZ1RvRG91YmxlQ2xpY2sgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdGFza0NsYXNzZXMgPSBBcnJheS5mcm9tKHRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIGlmICh0YXNrQ2xhc3Nlcy5pbmNsdWRlcyhcIm1pZC1hbmltYXRpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFiT2JqZWN0ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIHJldHVybiB0YWJPYmplY3Q7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrT2JqZWN0ID0gKHRhYkluZGV4LCB0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gZ2V0VGFiT2JqZWN0KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IHRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgcmV0dXJuIHRhc2tPYmplY3Q7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDaGVja2xpc3RUYXNrT2JqZWN0ID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gZ2V0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrT2JqZWN0O1xuICAgIH1cbiAgICBjb25zdCBjaGVja0lmTm9Nb3JlVGFicyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFicyA9IEFycmF5LmZyb20odG9Eb1RhYlNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50YWItdGl0bGVcIikpO1xuICAgICAgICBpZiAodG9Eb1RhYnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGNoZWNrSWZXYXNDdXJyZW50VGFiLCBjaGVja0lmT25seU9uZVRhYiwgZ2V0VGFza0luZGV4LFxuICAgICAgICBnZXRDaGVja2xpc3RUYXNrSW5kZXgsIGdldFRhYkluZGV4LCBnZXROZXdWYWx1ZSwgZ2V0VGFza1N1YmNvbnRhaW5lclR5cGUsXG4gICAgICAgIGdldFRhc2tTdWJjb250YWluZXJFbGVtZW50LCBnZXRUYXNrRWxlbWVudCwgZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQsXG4gICAgICAgIGdldFRhYkVsZW1lbnQsIGNoZWNrRm9yRXhpc3RpbmdJbnB1dEVsZW1lbnQsIHRyeWluZ1RvRG91YmxlQ2xpY2ssIGdldFRhYk9iamVjdCwgZ2V0VGFza09iamVjdCwgZ2V0Q2hlY2tsaXN0VGFza09iamVjdCwgY2hlY2tJZk5vTW9yZVRhYnMgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9OyIsImltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcblxuY29uc3QgRE9NQ29udHJvbGxlckFkZEVkaXQgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYlRvRE9NID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGFkZFRhYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhYlwiKTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBuZXdUYWJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgbmV3VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgbmV3VGFiT2JqZWN0VGl0bGUgPSBuZXdUYWJPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIG5ld1RhYkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhYi10aXRsZVwiKTtcbiAgICAgICAgbmV3VGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4ID0gaW5kZXg7XG4gICAgICAgIG5ld1RhYkVsZW1lbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInN3aXRjaC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJ0YWItbmFtZVwiPlRBQiBOQU1FIFBMQUNFSE9MREVSPC9oMj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFiIG5hbWUgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiUmVtb3ZlIHRhYiBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCB0YWJOYW1lRWxlbWVudCA9IG5ld1RhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWItbmFtZVwiKTtcbiAgICAgICAgdGFiTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdUYWJPYmplY3RUaXRsZTtcbiAgICAgICAgdG9Eb1RhYlNlY3Rpb24uaW5zZXJ0QmVmb3JlKG5ld1RhYkVsZW1lbnQsIGFkZFRhYkJ1dHRvbik7XG4gICAgICAgIHJldHVybiBuZXdUYWJFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhYi1uYW1lLWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKGlucHV0RWxlbWVudCwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IHNldFRhYklucHV0RWxlbWVudFZhbHVlID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSB0YWJOYW1lO1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJOYW1lRWxlbWVudCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBjb25zdCB0YWJCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICB0YWJCdXR0b24uY2xhc3NMaXN0LmFkZChcInN3aXRjaC10YWJcIik7XG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIHRhYkJ1dHRvbk5hbWUuY2xhc3NMaXN0LmFkZChcInRhYi1uYW1lXCIpO1xuICAgICAgICB0YWJCdXR0b25OYW1lLnRleHRDb250ZW50ID0gdGFiTmFtZTtcbiAgICAgICAgdGFiQnV0dG9uLmFwcGVuZENoaWxkKHRhYkJ1dHRvbk5hbWUpO1xuICAgICAgICB0YWJFbGVtZW50Lmluc2VydEJlZm9yZSh0YWJCdXR0b24sIHRhYkVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIHJldHVybiB0YWJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgYWRkQ3VycmVudFRhYkluZGljYXRvciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGlmIChjdXJyZW50VGFiSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIHRhYkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjdXJyZW50LXRhYlwiKTtcbiAgICB9XG4gICAgY29uc3QgbG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGxpc3RPZlRhc2tzID0gY3VycmVudFRhYk9iamVjdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhc2tJbmRleCBpbiBsaXN0T2ZUYXNrcykge1xuICAgICAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGxpc3RPZlRhc2tzW3Rhc2tJbmRleF1cbiAgICAgICAgICAgIGlmICh0YXNrT2JqZWN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXNrRWxlbWVudCA9IGFkZE5ld1Rhc2tUb0RPTSh0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIGNoYW5nZVBpbkJ1dHRvbkltYWdlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgc2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZFRhc2tMaXN0ZW5lcnMobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RPZkNoZWNrbGlzdFRhc2tzID0gdGFza09iamVjdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hlY2tsaXN0VGFza0luZGV4IGluIGxpc3RPZkNoZWNrbGlzdFRhc2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBsaXN0T2ZDaGVja2xpc3RUYXNrc1tjaGVja2xpc3RUYXNrSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tsaXN0VGFza09iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRWxlbWVudCA9IGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld1Rhc2tUb0RPTSA9IChpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCB0b0RvQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBuZXdUYXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tdGFza1wiKTtcbiAgICAgICAgbmV3VGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXggPSBpbmRleDtcbiAgICAgICAgY29uc3QgbmV3VGFza1RpdGxlID0gbmV3VGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0Rlc2NyaXB0aW9uID0gbmV3VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0R1ZURhdGUgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tOb3RlcyA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tDb21wbGV0ZUlEID0gYHRvLWRvLWNvbXBsZXRlLWNoZWNrYm94LSR7aW5kZXh9YDtcbiAgICAgICAgbmV3VGFza0VsZW1lbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLXRhc2stb3ZlcnZpZXdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tdGl0bGUtc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJ0by1kby10aXRsZVwiPlRJVExFIFBMQUNFSE9MREVSPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvLWRvLXBpblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL2Fzc2V0cy9waW4tdW5waW5uZWQucG5nXCIgYWx0PVwiUGluIHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLXRpdGxlIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayB0aXRsZSBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby1yZW1vdmUtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiUmVtb3ZlIHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1jb21wbGV0ZS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1jb21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIklEIFBMQUNFSE9MREVSXCIgY2xhc3M9XCJ0by1kby1jb21wbGV0ZS1sYWJlbFwiPkNvbXBsZXRlZDo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJcIiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIgaWQ9XCJJRCBQTEFDRUhPTERFUlwiPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvLWRvLXRhc2stY2hhbmdlLWRpc3BsYXlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2NoZXZyb24tZG93bi5wbmdcIiBhbHQ9XCJDaGFuZ2UgdGFzayBkaXNwbGF5IGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tZHVlLWRhdGUtc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRvLWRvLWR1ZS1kYXRlXCI+RFVFIERBVEUgUExBQ0VIT0xERVI8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stZHVlLWRhdGUgZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIGR1ZSBkYXRlIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXIgYW5pbWF0aW9uLXRhcmdldFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tZGVzY3JpcHRpb25cIj5ERVNDUklQVElPTiBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIGRlc2NyaXB0aW9uIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tbm90ZXMtc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lciBhbmltYXRpb24tdGFyZ2V0XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0by1kby1ub3Rlc1wiPk5PVEVTIFBMQUNFSE9MREVSPC9wPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stbm90ZXMgZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgbm90ZXMgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgYWN0aW9uPVwiXCIgY2xhc3M9XCJjaGVja2xpc3QgYW5pbWF0aW9uLXRhcmdldFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2xpc3QtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsZWdlbmQgY2xhc3M9XCJjaGVja2xpc3QtbGFiZWxcIj5DaGVja2xpc3Q8L2xlZ2VuZD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFkZC1jaGVja2xpc3QtdGFza1wiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BsdXMucG5nXCIgYWx0PVwiQWRkIGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCB0aXRsZUVsZW1lbnQgPSBuZXdUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRpdGxlXCIpO1xuICAgICAgICB0aXRsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdUYXNrVGl0bGU7XG4gICAgICAgIGNvbnN0IGR1ZURhdGVFbGVtZW50ID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1kdWUtZGF0ZVwiKTtcbiAgICAgICAgZHVlRGF0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkR1ZSBPbjogXCIgKyBuZXdUYXNrRHVlRGF0ZTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25FbGVtZW50ID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgZGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gXCJEZXNjcmlwdGlvbjogXCIgKyBuZXdUYXNrRGVzY3JpcHRpb247XG4gICAgICAgIGNvbnN0IG5vdGVzRWxlbWVudCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tbm90ZXNcIik7XG4gICAgICAgIG5vdGVzRWxlbWVudC50ZXh0Q29udGVudCA9IFwiTm90ZXM6IFwiICsgbmV3VGFza05vdGVzO1xuICAgICAgICB0b0RvQ29udGVudC5hcHBlbmRDaGlsZChuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlTGFiZWwgPSBuZXdUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwibGFiZWxcIik7XG4gICAgICAgIGNvbXBsZXRlTGFiZWwuc2V0QXR0cmlidXRlKFwiZm9yXCIsIG5ld1Rhc2tDb21wbGV0ZUlEKTtcbiAgICAgICAgY29uc3QgY29tcGxldGVDaGVja2JveCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGNvbXBsZXRlQ2hlY2tib3guc2V0QXR0cmlidXRlKFwiaWRcIiwgbmV3VGFza0NvbXBsZXRlSUQpO1xuICAgICAgICByZXR1cm4gbmV3VGFza0VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFRhc2tJbnB1dEVsZW1lbnQgPSAodGFza0luZGV4LCBidXR0b25UeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQodGFza0luZGV4LCBidXR0b25UeXBlKTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhc2staW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lci5pbnNlcnRCZWZvcmUoaW5wdXRFbGVtZW50LCB0YXNrU3ViY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQodGFza0luZGV4LCBidXR0b25UeXBlKTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgbGV0IHRhc2tPYmplY3RWYWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IFwiVGl0bGVcIikge1xuICAgICAgICAgICAgdGFza09iamVjdFZhbHVlID0gdGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkR1ZSBEYXRlXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3RWYWx1ZSA9IHRhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkRlc2NyaXB0aW9uXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3RWYWx1ZSA9IHRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJOb3Rlc1wiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0VmFsdWUgPSB0YXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICB9O1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSB0YXNrT2JqZWN0VmFsdWU7XG4gICAgfTtcbiAgICBjb25zdCBpbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQgPSAodGFza0luZGV4LCBidXR0b25UeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJFbGVtZW50KHRhc2tJbmRleCwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrVGl0bGUgPSB0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby10aXRsZVwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IHRhc2tUaXRsZTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkR1ZSBEYXRlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gdGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLWR1ZS1kYXRlXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gXCJEdWUgT246IFwiICsgdGFza0R1ZURhdGU7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSB0YXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gXCJEZXNjcmlwdGlvbjogXCIgKyB0YXNrRGVzY3JpcHRpb247XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJOb3Rlc1wiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrTm90ZXMgPSB0YXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLW5vdGVzXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gXCJOb3RlczogXCIgKyB0YXNrTm90ZXM7XG4gICAgICAgIH07XG4gICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50Lmluc2VydEJlZm9yZSh0YXNrU3ViY29udGVudEVsZW1lbnQsIHRhc2tTdWJjb250YWluZXJFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBjb25zdCB0b2dnbGVUYXNrRE9NQ29tcGxldGUgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlQ2hlY2tib3ggPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gIHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZWRTdGF0ZWQgPSB0YXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgIGlmICh0YXNrQ29tcGxldGVkU3RhdGVkKSB7XG4gICAgICAgICAgICBjb21wbGV0ZUNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGxldGVDaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwidGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9ET00gPSAodGFza0luZGV4LCBuZXdDaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0XCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKG5ld0NoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC10YXNrXCIpO1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrRWxlbWVudC5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleCA9IG5ld0NoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke25ld0NoZWNrbGlzdFRhc2tJbmRleH1cIiBjbGFzcz1cImNoZWNrbGlzdC1jb21wbGV0ZS1jaGVja2JveFwiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7bmV3Q2hlY2tsaXN0VGFza0luZGV4fVwiIGNsYXNzPVwiY2hlY2tsaXN0LXRhc2stZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgREVTQ1JJUFRJT04gUExBQ0VIT0xERVJcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC1jaGVja2xpc3QtdGFza1wiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlbW92ZS1jaGVja2xpc3QtdGFza1wiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJFZGl0IGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIGBcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9IG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LXRhc2stZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb247XG4gICAgICAgIGNoZWNrbGlzdEVsZW1lbnQuYXBwZW5kQ2hpbGQobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICByZXR1cm4gbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24uYXBwZW5kQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1pbnB1dFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBjb25zdCBpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnNldEF0dHJpYnV0ZShcImZvclwiLCBgY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke2NoZWNrbGlzdFRhc2tJbmRleH1gKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2stZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb247XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5hcHBlbmRDaGlsZChjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3ggPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jaGVja2VkID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBpZiAoY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94LmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2xpc3QtdGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGFuZ2VQaW5CdXR0b25JbWFnZSA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHBpbkJ1dHRvbiA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tcGluXCIpXG4gICAgICAgIGNvbnN0IHBpbkJ1dHRvbkltYWdlID0gcGluQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgICAgIHRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKVxuICAgICAgICAgICAgPyBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKVxuICAgICAgICAgICAgOiBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tdW5waW5uZWQucG5nXCIpO1xuICAgIH07XG4gICAgY29uc3Qgc2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnRJbmRleCA9IHRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICBjb25zdCB0YXNrQ29udGVudFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIGlmICh0YXNrT2JqZWN0LmdldFBpbm5lZFN0YXRlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5waW5uZWQtdGFza1wiKSk7XG4gICAgICAgICAgICBpZiAobGlzdE9mUGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUodGFza0VsZW1lbnQsIHRhc2tDb250ZW50U2VjdGlvbi5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5RW5kSW5kZXggPSBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGlubmVkVGFza0VsZW1lbnQgPSBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHNbYXJyYXlFbmRJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwaW5uZWRUYXNrRWxlbWVudCBvZiBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlubmVkVGFza0VsZW1lbnRJbmRleCA9IHBpbm5lZFRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFza0VsZW1lbnRJbmRleCA8IHBpbm5lZFRhc2tFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUodGFza0VsZW1lbnQsIHBpbm5lZFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBpbm5lZFRhc2tFbGVtZW50ID09PSBsYXN0UGlubmVkVGFza0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQaW5uZWRUYXNrRWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCB0YXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicGlubmVkLXRhc2tcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cyA9IEFycmF5LmZyb20odGFza0NvbnRlbnRTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tdGFzazpub3QoLnBpbm5lZC10YXNrKVwiKSk7XG4gICAgICAgICAgICBpZiAobGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmFwcGVuZENoaWxkKHRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFVucGlubmVkVGFza0VsZW1lbnQgPSBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHVucGlubmVkVGFza0VsZW1lbnQgb2YgbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5waW5uZWRUYXNrRWxlbWVudEluZGV4ID0gdW5waW5uZWRUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2tFbGVtZW50SW5kZXggPCB1bnBpbm5lZFRhc2tFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUodGFza0VsZW1lbnQsIHVucGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodW5waW5uZWRUYXNrRWxlbWVudCA9PT0gbGFzdFVucGlubmVkVGFza0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5hcHBlbmRDaGlsZCh0YXNrRWxlbWVudCwgbGFzdFVucGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBpbm5lZC10YXNrXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBlbGVtZW50c1RvVG9nZ2xlID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGlvbi10YXJnZXRcIikpO1xuICAgICAgICBlbGVtZW50c1RvVG9nZ2xlLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRDbGFzc2VzID0gQXJyYXkuZnJvbShlbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudENsYXNzZXMuaW5jbHVkZXMoXCJoaWRlLXRvLWRvLWRldGFpbHNcIikpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlLXRvLWRvLWRldGFpbHNcIik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZGlzcGxheS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJoaWRlLXRvLWRvLWRldGFpbHNcIik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzcGxheS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBwcmV2ZW50RG91YmxlQ2xpY2sodGFza0VsZW1lbnQpO1xuICAgIH07XG4gICAgY29uc3QgcHJldmVudERvdWJsZUNsaWNrID0gKHRhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtaWQtYW5pbWF0aW9uXCIpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtaWQtYW5pbWF0aW9uXCIpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICB9O1xuICAgIGNvbnN0IHJvdGF0ZUNoZXZyb25CdXR0b24gPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZXZyb25CdXR0b24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhc2stY2hhbmdlLWRpc3BsYXlcIik7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlID0gY2hldnJvbkJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBjb25zdCBidXR0b25JbWFnZUNsYXNzZXMgPSBBcnJheS5mcm9tKGJ1dHRvbkltYWdlLmNsYXNzTGlzdCk7XG4gICAgICAgIGlmIChidXR0b25JbWFnZUNsYXNzZXMubGVuZ3RoID09PSAwIHx8IGJ1dHRvbkltYWdlQ2xhc3Nlcy5pbmNsdWRlcyhcInJvdGF0ZS1oaWRlLXRhc2stZGV0YWlsc1wiKSkge1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0ZS1oaWRlLXRhc2stZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5hZGQoXCJyb3RhdGUtZGlzcGxheS10YXNrLWRldGFpbHNcIik7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlZC1jaGV2cm9uXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbkltYWdlQ2xhc3Nlcy5pbmNsdWRlcyhcInJvdGF0ZS1kaXNwbGF5LXRhc2stZGV0YWlsc1wiKSkge1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LnJlbW92ZShcInJvdGF0ZS1kaXNwbGF5LXRhc2stZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5hZGQoXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIik7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlZC1jaGV2cm9uXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlQW5pbWF0aW9ucyA9ICh0YXNrSW5kZXgsIGFjdGlvbikgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2dnbGVEaXNwbGF5QnV0dG9uID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCIpO1xuICAgICAgICBjb25zdCBidXR0b25JbWFnZSA9IHRvZ2dsZURpc3BsYXlCdXR0b24ucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcbiAgICAgICAgY29uc3QgZWxlbWVudHNUb1RvZ2dsZSA9IEFycmF5LmZyb20odGFza0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hbmltYXRpb24tdGFyZ2V0XCIpKTtcbiAgICAgICAgZWxlbWVudHNUb1RvZ2dsZS5wdXNoKGJ1dHRvbkltYWdlKVxuICAgICAgICBlbGVtZW50c1RvVG9nZ2xlLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChhY3Rpb24gPT09IFwiRW5hYmxlXCIpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJuby1hbmltYXRpb25zXCIpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwiRGlzYWJsZVwiKXtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJuby1hbmltYXRpb25zXCIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGROZXdUYWJUb0RPTSxcbiAgICAgICAgaW5zZXJ0VGFiSW5wdXRFbGVtZW50LFxuICAgICAgICBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0VGFiTmFtZUVsZW1lbnQsXG4gICAgICAgIGFkZEN1cnJlbnRUYWJJbmRpY2F0b3IsXG4gICAgICAgIGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiLFxuICAgICAgICBhZGROZXdUYXNrVG9ET00sXG4gICAgICAgIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsXG4gICAgICAgIHNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50LFxuICAgICAgICB0b2dnbGVUYXNrRE9NQ29tcGxldGUsXG4gICAgICAgIGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSxcbiAgICAgICAgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlLFxuICAgICAgICBpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LFxuICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUsXG4gICAgICAgIGNoYW5nZVBpbkJ1dHRvbkltYWdlLFxuICAgICAgICBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24sXG4gICAgICAgIHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyxcbiAgICAgICAgcm90YXRlQ2hldnJvbkJ1dHRvbixcbiAgICAgICAgdG9nZ2xlQW5pbWF0aW9uc1xuICAgIH07XG59KSgpO1xuXG5leHBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBET01Db250cm9sbGVyUmVtb3ZlID0gKCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVUYWJOYW1lRWxlbWVudCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBsZXQgc3dpdGNoVGFiID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnN3aXRjaC10YWJcIilcbiAgICAgICAgdGFiRWxlbWVudC5yZW1vdmVDaGlsZChzd2l0Y2hUYWIpO1xuICAgICAgICBzd2l0Y2hUYWIgPSBudWxsXG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJJbnB1dEVsZW1lbnQgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICB0YWJFbGVtZW50LnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJFbGVtZW50RnJvbURPTSA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBsZXQgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5yZW1vdmVDaGlsZCh0YWJFbGVtZW50KTtcbiAgICAgICAgdGFiRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZXNldEN1cnJlbnRUYWJTdGF0dXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2N1cnJlbnQtdGFiXCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhYiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudFRhYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBsZXQgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb1Rhc2tTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICB0b0RvVGFza1NlY3Rpb24ucmVtb3ZlQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICB0YXNrRWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00gPSAodGFza0luZGV4LCBidXR0b25UeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJFbGVtZW50KHRhc2tJbmRleCwgYnV0dG9uVHlwZSk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGVudEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucmVtb3ZlQ2hpbGQodGFza1N1YmNvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gbnVsbFxuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrSW5wdXRFbGVtZW50ID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00gPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnJlbW92ZUNoaWxkKGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1pbnB1dFwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrRWxlbWVudERPTSA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3RcIik7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNoZWNrbGlzdEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVBbGxUYXNrRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLnJlcGxhY2VDaGlsZHJlbigpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiTmFtZUVsZW1lbnQsIHJlbW92ZVRhYklucHV0RWxlbWVudCwgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00sXG4gICAgICAgIHJlc2V0Q3VycmVudFRhYlN0YXR1cywgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NLCByZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NLFxuICAgICAgICByZW1vdmVUYXNrSW5wdXRFbGVtZW50LCByZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00sIHJlbW92ZUNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQsXG4gICAgICAgIHJlbW92ZUNoZWNrbGlzdFRhc2tFbGVtZW50RE9NLCByZW1vdmVBbGxUYXNrRWxlbWVudHMsIH1cbn0pKCk7XG5cbmV4cG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXRcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcblxuY29uc3Qgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlVGFiRnJvbVRvZG9BcnJheSA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICB0b0RvTGlzdC5yZW1vdmVUYXNrKHRhYkluZGV4KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhc2tGcm9tVGFiQXJyYXkgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGN1cnJlbnRUYWJPYmplY3QucmVtb3ZlVGFzayh0YXNrSW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheSA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgdGFza09iamVjdC5yZW1vdmVUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgfTtcbiAgICByZXR1cm4geyByZW1vdmVUYWJGcm9tVG9kb0FycmF5LCByZW1vdmVUYXNrRnJvbVRhYkFycmF5LCByZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheSwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcblxuY29uc3QgdG9kb0xpc3RTdG9yYWdlID0gKCgpID0+IHtcbiAgICBsZXQgbG9hZGluZ0luQ29udGVudCA9IGZhbHNlO1xuICAgIGNvbnN0IGFkZFRhYiA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiT2JqZWN0KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBjb25zdCB0YWJKU09OU3RyaW5nID0gYHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCIke3RhYk9iamVjdC5nZXRUYXNrVGl0bGUoKX1cIixcbiAgICAgICAgICAgIFwidGFza3NcIjoge31cbiAgICAgICAgfWA7XG4gICAgICAgIGNvbnN0IHRhYlBhcnNlZE9iamVjdCA9IEpTT04ucGFyc2UodGFiSlNPTlN0cmluZyk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF0gPSB0YWJQYXJzZWRPYmplY3Q7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHNldEN1cnJlbnRUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0YWJJbmRleCA9PT0gbnVsbFxuICAgICAgICAgICAgPyAodG9kb0xpc3RQYXJzZWRPYmplY3RbXCJjdXJyZW50X3RhYlwiXSA9IG51bGwpXG4gICAgICAgICAgICA6ICh0b2RvTGlzdFBhcnNlZE9iamVjdFtcImN1cnJlbnRfdGFiXCJdID0gTnVtYmVyKHRhYkluZGV4KSk7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KVxuICAgIH07XG4gICAgY29uc3Qgc2V0VGFiTmFtZSA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiT2JqZWN0KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGl0bGVcIl0gPSB0YWJPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEN1cnJlbnRUYWJJbmRleCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiSW5kZXggPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcImN1cnJlbnRfdGFiXCJdO1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYkluZGV4O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFiVGl0bGUgPSAodGFiS2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgY29uc3QgdGFiVGl0bGUgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRpdGxlXCJdO1xuICAgICAgICByZXR1cm4gdGFiVGl0bGU7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYWJPYmplY3RzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IHRvZG9MaXN0U3RvcmFnZS5nZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBjb25zdCB0YWJPYmplY3RzID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdO1xuICAgICAgICByZXR1cm4gdGFiT2JqZWN0cztcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYiA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF0gPSBudWxsO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYXNrID0gKHRhYkluZGV4LCB0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrT2JqZWN0KHRhYkluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGNvbnN0IHRhc2tKU09OU3RyaW5nID0gYHtcbiAgICAgICAgICAgIFwidGl0bGVcIjogXCIke3Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCl9XCIsXG4gICAgICAgICAgICBcImR1ZV9kYXRlXCI6IFwiJHt0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCl9XCIsXG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiJHt0YXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpfVwiLFxuICAgICAgICAgICAgXCJub3Rlc1wiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrTm90ZXMoKX1cIixcbiAgICAgICAgICAgIFwicGlubmVkXCI6ICR7dGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpfSxcbiAgICAgICAgICAgIFwiY29tcGxldGVkXCI6ICR7dGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpfSxcbiAgICAgICAgICAgIFwiY2hlY2tsaXN0X3Rhc2tzXCI6IHt9XG4gICAgICAgIH1gO1xuICAgICAgICBjb25zdCB0YXNrUGFyc2VkT2JqZWN0ID0gSlNPTi5wYXJzZSh0YXNrSlNPTlN0cmluZyk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXSA9IHRhc2tQYXJzZWRPYmplY3Q7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHNldFRhc2tTdWJjb250YWluZXJWYWx1ZSA9ICh0YWJJbmRleCwgdGFza0luZGV4LCBzdWJjb250YWluZXJUeXBlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBpZiAoc3ViY29udGFpbmVyVHlwZSA9PT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJ0aXRsZVwiXSA9IHRhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3ViY29udGFpbmVyVHlwZSA9PT0gXCJEdWUgRGF0ZVwiKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJkdWVfZGF0ZVwiXSA9IHRhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdWJjb250YWluZXJUeXBlID09PSBcIkRlc2NyaXB0aW9uXCIpIHtcbiAgICAgICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcImRlc2NyaXB0aW9uXCJdID0gdGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdWJjb250YWluZXJUeXBlID09PSBcIk5vdGVzXCIpIHtcbiAgICAgICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcIm5vdGVzXCJdID0gdGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza1Bpbm5lZCA9ICh0YWJJbmRleCwgdGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJwaW5uZWRcIl0gPSB0YXNrT2JqZWN0LmdldFBpbm5lZFN0YXRlKCk7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZWQgPSAodGFiSW5kZXgsIHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1wiY29tcGxldGVkXCJdID0gdGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrVmFsdWVzID0gKHRhYktleSwgdGFza0tleSkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGxldCB0YXNrVmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IHRhc2tUaXRsZSA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGFza3NcIl1bdGFza0tleV1bXCJ0aXRsZVwiXTtcbiAgICAgICAgdGFza1ZhbHVlcy5wdXNoKHRhc2tUaXRsZSk7XG4gICAgICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0YXNrc1wiXVt0YXNrS2V5XVtcImR1ZV9kYXRlXCJdO1xuICAgICAgICB0YXNrVmFsdWVzLnB1c2godGFza0R1ZURhdGUpO1xuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRhc2tzXCJdW3Rhc2tLZXldW1wiZGVzY3JpcHRpb25cIl07XG4gICAgICAgIHRhc2tWYWx1ZXMucHVzaCh0YXNrRGVzY3JpcHRpb24pO1xuICAgICAgICBjb25zdCB0YXNrTm90ZXMgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRhc2tzXCJdW3Rhc2tLZXldW1wibm90ZXNcIl07XG4gICAgICAgIHRhc2tWYWx1ZXMucHVzaCh0YXNrTm90ZXMpO1xuICAgICAgICBjb25zdCB0YXNrUGlubmVkID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0YXNrc1wiXVt0YXNrS2V5XVtcInBpbm5lZFwiXTtcbiAgICAgICAgdGFza1ZhbHVlcy5wdXNoKHRhc2tQaW5uZWQpO1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVkID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0YXNrc1wiXVt0YXNrS2V5XVtcImNvbXBsZXRlZFwiXTtcbiAgICAgICAgdGFza1ZhbHVlcy5wdXNoKHRhc2tDb21wbGV0ZWQpO1xuICAgICAgICByZXR1cm4gdGFza1ZhbHVlcztcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhc2tPYmplY3RzID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gdG9kb0xpc3RTdG9yYWdlLmdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3RzID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdO1xuICAgICAgICByZXR1cm4gdGFza09iamVjdHM7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYXNrID0gKHRhYkluZGV4LCB0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF0gPSBudWxsO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRDaGVja2xpc3RUYXNrID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSlNPTlN0cmluZyA9IGB7XG4gICAgICAgICAgICBcImRlc2NyaXB0aW9uXCI6IFwiJHtjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpfVwiLFxuICAgICAgICAgICAgXCJjb21wbGV0ZWRcIjogJHtjaGVja2xpc3RUYXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCl9XG4gICAgICAgIH1gO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrUGFyc2VkT2JqZWN0ID0gSlNPTi5wYXJzZShjaGVja2xpc3RUYXNrSlNPTlN0cmluZyk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcImNoZWNrbGlzdF90YXNrc1wiXVtgY2hlY2tsaXN0X3Rhc2tfJHtjaGVja2xpc3RUYXNrSW5kZXh9YF0gPSBjaGVja2xpc3RUYXNrUGFyc2VkT2JqZWN0O1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBcbiAgICBcbiAgICBcbiAgICBcbiAgICBcbiAgICBjb25zdCBzZXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcImNoZWNrbGlzdF90YXNrc1wiXVtgY2hlY2tsaXN0X3Rhc2tfJHtjaGVja2xpc3RUYXNrSW5kZXh9YF1bXCJkZXNjcmlwdGlvblwiXSA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZWQgPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcImNoZWNrbGlzdF90YXNrc1wiXVtgY2hlY2tsaXN0X3Rhc2tfJHtjaGVja2xpc3RUYXNrSW5kZXh9YF1bXCJjb21wbGV0ZWRcIl0gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IGdldENoZWNrbGlzdFRhc2tWYWx1ZXMgPSAodGFiS2V5LCB0YXNrS2V5LCBjaGVja2xpc3RUYXNrS2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tWYWx1ZXMgPSBbXTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0YXNrc1wiXVt0YXNrS2V5XVtcImNoZWNrbGlzdF90YXNrc1wiXVtjaGVja2xpc3RUYXNrS2V5XVtcImRlc2NyaXB0aW9uXCJdO1xuICAgICAgICBjaGVja2xpc3RUYXNrVmFsdWVzLnB1c2goY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0NvbXBsZXRlZCA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGFza3NcIl1bdGFza0tleV1bXCJjaGVja2xpc3RfdGFza3NcIl1bY2hlY2tsaXN0VGFza0tleV1bXCJjb21wbGV0ZWRcIl07XG4gICAgICAgIGNoZWNrbGlzdFRhc2tWYWx1ZXMucHVzaChjaGVja2xpc3RUYXNrQ29tcGxldGVkKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tWYWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDaGVja2xpc3RUYXNrT2JqZWN0cyA9ICh0YWJJbmRleCwgdGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gdG9kb0xpc3RTdG9yYWdlLmdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3RzID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1wiY2hlY2tsaXN0X3Rhc2tzXCJdO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza09iamVjdHM7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcImNoZWNrbGlzdF90YXNrc1wiXVtgY2hlY2tsaXN0X3Rhc2tfJHtjaGVja2xpc3RUYXNrSW5kZXh9YF0gPSBudWxsO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0ZvckV4aXN0aW5nU3RvcmFnZSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9fZG9fbGlzdFwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGdldExvY2FsU3RvcmFnZVZhbHVlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdEpTT05TdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvX2RvX2xpc3RcIik7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gSlNPTi5wYXJzZSh0b2RvTGlzdEpTT05TdHJpbmcpO1xuICAgICAgICByZXR1cm4gdG9kb0xpc3RQYXJzZWRPYmplY3Q7XG4gICAgfTtcbiAgICBjb25zdCB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSA9IChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCB1cGRhdGVkSlNPTlN0cmluZ1ZhbHVlID0gSlNPTi5zdHJpbmdpZnkobmV3VmFsdWUpO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInRvX2RvX2xpc3RcIiwgdXBkYXRlZEpTT05TdHJpbmdWYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCBpbml0aWFsaXplVG9kb0xpc3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0SlNPTlN0cmluZyA9IGB7XG4gICAgICAgICAgICBcImN1cnJlbnRfdGFiXCI6ICR7dG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCl9LFxuICAgICAgICAgICAgXCJ0YWJzXCI6IHt9XG4gICAgICAgIH1gO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IEpTT04ucGFyc2UodG9kb0xpc3RKU09OU3RyaW5nKTtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlTG9hZGluZyA9ICgpID0+IHtcbiAgICAgICAgbG9hZGluZ0luQ29udGVudCA/IGxvYWRpbmdJbkNvbnRlbnQgPSBmYWxzZSA6IGxvYWRpbmdJbkNvbnRlbnQgPSB0cnVlO1xuICAgIH07XG4gICAgY29uc3QgaXNMb2FkaW5nID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gbG9hZGluZ0luQ29udGVudDtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFRhYixcbiAgICAgICAgc2V0Q3VycmVudFRhYixcbiAgICAgICAgc2V0VGFiTmFtZSxcbiAgICAgICAgZ2V0Q3VycmVudFRhYkluZGV4LFxuICAgICAgICBnZXRUYWJUaXRsZSxcbiAgICAgICAgZ2V0VGFiT2JqZWN0cyxcbiAgICAgICAgcmVtb3ZlVGFiLFxuICAgICAgICBhZGRUYXNrLFxuICAgICAgICBzZXRUYXNrU3ViY29udGFpbmVyVmFsdWUsXG4gICAgICAgIHRvZ2dsZVRhc2tQaW5uZWQsXG4gICAgICAgIHRvZ2dsZVRhc2tDb21wbGV0ZWQsXG4gICAgICAgIGdldFRhc2tWYWx1ZXMsXG4gICAgICAgIGdldFRhc2tPYmplY3RzLFxuICAgICAgICByZW1vdmVUYXNrLFxuICAgICAgICBhZGRDaGVja2xpc3RUYXNrLFxuICAgICAgICBzZXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24sXG4gICAgICAgIHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZWQsXG4gICAgICAgIGdldENoZWNrbGlzdFRhc2tWYWx1ZXMsXG4gICAgICAgIGdldENoZWNrbGlzdFRhc2tPYmplY3RzLFxuICAgICAgICByZW1vdmVDaGVja2xpc3RUYXNrLFxuICAgICAgICBjaGVja0ZvckV4aXN0aW5nU3RvcmFnZSxcbiAgICAgICAgZ2V0TG9jYWxTdG9yYWdlVmFsdWUsXG4gICAgICAgIGluaXRpYWxpemVUb2RvTGlzdCxcbiAgICAgICAgdG9nZ2xlTG9hZGluZyxcbiAgICAgICAgaXNMb2FkaW5nXG4gICAgfVxufSkoKTtcblxuZXhwb3J0IHsgdG9kb0xpc3RTdG9yYWdlIH07IiwiaW1wb3J0IHsgZXZlbnRBc3NpZ25lciB9IGZyb20gXCIuL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCB9IGZyb20gXCIuL29iamVjdF9jb250cm9sbGVyX2FkZF9lZGl0X29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlclJlbW92ZSB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX3JlbW92ZVwiO1xuaW1wb3J0IHsgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCB9IGZyb20gXCIuL29iamVjdF9jb250cm9sbGVyX3JlbW92ZV9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcbmltcG9ydCB7IHRvZG9MaXN0U3RvcmFnZSB9IGZyb20gXCIuL3RvZG9fbGlzdF9zdG9yYWdlX29iamVjdFwiO1xuXG5jb25zdCBldmVudEJ1bmRsZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZFRhYiA9IChldmVudCwgdGFiTmFtZT1cIk5ldyBUYWJcIikgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1RhYlRvVG9kb0xpc3QodGFiTmFtZSk7XG4gICAgICAgIGNvbnN0IG5ld1RhYkVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdUYWJUb0RPTShuZXdUYWJJbmRleCk7XG4gICAgICAgIGFkZFRhYkxpc3RlbmVycyhuZXdUYWJFbGVtZW50KTtcbiAgICAgICAgaWYgKCF0b2RvTGlzdFN0b3JhZ2UuaXNMb2FkaW5nKCkpIHtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5hZGRUYWIobmV3VGFiSW5kZXgpO1xuICAgICAgICAgICAgaWYgKGhlbHBlckZ1bmN0aW9ucy5jaGVja0lmT25seU9uZVRhYigpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnNldEZpcnN0VGFiVG9DdXJyZW50VGFiKCk7XG4gICAgICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkQ3VycmVudFRhYkluZGljYXRvcigpXG4gICAgICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnNldEN1cnJlbnRUYWIoZmlyc3RUYWJJbmRleCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdUYWJJbmRleFxuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudChldmVudCwgXCJUYWJcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYkluZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkluZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhYklucHV0RWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYk5hbWVFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNldFRhYklucHV0RWxlbWVudFZhbHVlKHRhYkluZGV4KTtcbiAgICAgICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVGFiSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYkluZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkluZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1RhYk5hbWUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0TmV3VmFsdWUoZXZlbnQpO1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuZWRpdFRhYk5hbWUodGFiSW5kZXgsIG5ld1RhYk5hbWUpO1xuICAgICAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhYk5hbWVFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiSW5wdXRFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgICAgIGV2ZW50QXNzaWduZXIuYWRkU3dpdGNoVGFiTGlzdGVuZXIodGFiRWxlbWVudCk7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2Uuc2V0VGFiTmFtZSh0YWJJbmRleCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiSW5kZXgoZXZlbnQpO1xuICAgICAgICBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0LnJlbW92ZVRhYkZyb21Ub2RvQXJyYXkodGFiSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYkVsZW1lbnRGcm9tRE9NKHRhYkluZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnJlbW92ZVRhYih0YWJJbmRleCk7XG4gICAgICAgIGlmIChoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZldhc0N1cnJlbnRUYWIoZXZlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFRhYkluZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3Quc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZEN1cnJlbnRUYWJJbmRpY2F0b3IoKVxuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVBbGxUYXNrRWxlbWVudHMoKTtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5zZXRDdXJyZW50VGFiKGZpcnN0VGFiSW5kZXgpO1xuICAgICAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZk5vTW9yZVRhYnMoKSkge1xuICAgICAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0lmV2FzQ3VycmVudFRhYihldmVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhYkluZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkluZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnVwZGF0ZUN1cnJlbnRUYWIodGFiSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZXNldEN1cnJlbnRUYWJTdGF0dXMoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZEN1cnJlbnRUYWJJbmRpY2F0b3IoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQWxsVGFza0VsZW1lbnRzKCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5sb2FkVGFza3NGcm9tTmV3Q3VycmVudFRhYigpO1xuICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnNldEN1cnJlbnRUYWIodGFiSW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYWJMaXN0ZW5lcnMgPSAobmV3VGFiRWxlbWVudCkgPT4ge1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lcihuZXdUYWJFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lcihuZXdUYWJFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRTd2l0Y2hUYWJMaXN0ZW5lcihuZXdUYWJFbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhc2sgPSAoXG4gICAgICAgIGV2ZW50LFxuICAgICAgICB0YWJJbmRleD10b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSxcbiAgICAgICAgdGl0bGU9XCJOZXcgVGFzayBUaXRsZVwiLFxuICAgICAgICBkdWVEYXRlPVwiVGFzayBEdWUgRGF0ZVwiLFxuICAgICAgICBkZXNjcmlwdGlvbj1cIlRhc2sgRGVzY3JpcHRpb25cIixcbiAgICAgICAgbm90ZXM9XCJUYXNrIE5vdGVzXCIsXG4gICAgICAgIHBpbm5lZD1mYWxzZSxcbiAgICAgICAgY29tcGxldGVkPWZhbHNlXG4gICAgKSA9PiB7XG4gICAgICAgIGlmICh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgbG9hZEluSW5zdHJ1Y3Rpb25zUGFnZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBuZXdUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdUYXNrVG9UYWIoXG4gICAgICAgICAgICB0YWJJbmRleCxcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgZHVlRGF0ZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgbm90ZXMsXG4gICAgICAgICAgICBwaW5uZWQsXG4gICAgICAgICAgICBjb21wbGV0ZWRcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0VsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdUYXNrVG9ET00obmV3VGFza0luZGV4KTtcbiAgICAgICAgYWRkVGFza0xpc3RlbmVycyhuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGlmICghdG9kb0xpc3RTdG9yYWdlLmlzTG9hZGluZygpKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2UuYWRkVGFzayh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSwgbmV3VGFza0luZGV4KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tJbmRleDtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0ZvckV4aXN0aW5nSW5wdXRFbGVtZW50KGV2ZW50LCBcIlRhc2tcIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lclR5cGUoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NKHRhc2tJbmRleCwgdGFza1N1YmNvbnRhaW5lclR5cGUpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFza0lucHV0RWxlbWVudCh0YXNrSW5kZXgsIHRhc2tTdWJjb250YWluZXJUeXBlKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSh0YXNrSW5kZXgsIHRhc2tTdWJjb250YWluZXJUeXBlKTtcbiAgICAgICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVGFza0lucHV0TGlzdGVuZXIoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlVGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJUeXBlID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tTdWJjb250YWluZXJUeXBlKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2tTdWJjb250ZW50VmFsdWUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0TmV3VmFsdWUoZXZlbnQpO1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuZWRpdFRhc2tJbmZvKHRhc2tJbmRleCwgdGFza1N1YmNvbnRhaW5lclR5cGUsIG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50KHRhc2tJbmRleCwgdGFza1N1YmNvbnRhaW5lclR5cGUpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrSW5wdXRFbGVtZW50KHRhc2tJbmRleCwgdGFza1N1YmNvbnRhaW5lclR5cGUpO1xuICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnNldFRhc2tTdWJjb250YWluZXJWYWx1ZSh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSwgdGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrUGluID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVBbmltYXRpb25zKHRhc2tJbmRleCwgXCJFbmFibGVcIik7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZVRhc2tQaW4odGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuY2hhbmdlUGluQnV0dG9uSW1hZ2UodGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uKHRhc2tJbmRleCk7XG4gICAgICAgIHRvZG9MaXN0U3RvcmFnZS50b2dnbGVUYXNrUGlubmVkKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCB0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC50b2dnbGVUYXNrQ29tcGxldGUodGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgIHRvZG9MaXN0U3RvcmFnZS50b2dnbGVUYXNrQ29tcGxldGVkKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCB0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVUYXNrRnJvbVRhYkFycmF5KHRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NKHRhc2tJbmRleCk7XG4gICAgICAgIHRvZG9MaXN0U3RvcmFnZS5yZW1vdmVUYXNrKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCB0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFza0xpc3RlbmVycyA9IChuZXdUYXNrRWxlbWVudCkgPT4ge1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lcihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhc2tMaXN0ZW5lcihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lcihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVyKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcihuZXdUYXNrRWxlbWVudCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKHRhYkluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIG5ld0NoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBpZiAoIXRvZG9MaXN0U3RvcmFnZS5pc0xvYWRpbmcoKSkge1xuICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLmFkZENoZWNrbGlzdFRhc2sodG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudChldmVudCwgXCJDaGVja2xpc3QgVGFza1wiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRE9NKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgIGV2ZW50QXNzaWduZXIuYWRkQ2hlY2tsaXN0VGFza0lucHV0TGlzdGVuZXIoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNoZWNrbGlzdFRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IG5ld0Rlc2NyaXB0aW9uVmFsdWUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0TmV3VmFsdWUoZXZlbnQpO1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuZWRpdENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbih0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCwgbmV3RGVzY3JpcHRpb25WYWx1ZSk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2Uuc2V0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC50b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICB0b2RvTGlzdFN0b3JhZ2UudG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlZCh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlQ2hlY2tsaXN0VGFza0Zyb21UYXNrQXJyYXkodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZUNoZWNrbGlzdFRhc2tFbGVtZW50RE9NKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnJlbW92ZUNoZWNrbGlzdFRhc2sodG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMgPSAobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpID0+IHtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVyKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lcihuZXdDaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMudHJ5aW5nVG9Eb3VibGVDbGljayh0YXNrSW5kZXgpKSB7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVBbmltYXRpb25zKHRhc2tJbmRleCwgXCJEaXNhYmxlXCIpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzKHRhc2tJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5yb3RhdGVDaGV2cm9uQnV0dG9uKHRhc2tJbmRleCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5JbnN0cnVjdGlvbnNQYWdlID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJJbmRleCA9IGFkZFRhYihldmVudCwgXCJJbnN0cnVjdGlvbnNcIik7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGFkZFRhc2soXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgXCJRdWljayBUaXBzISBDbGljayB0aGUgcGluIGJ1dHRvbiB0byBwaW4gYSB0YXNrIHRvIHRoZSB0b3Agb2YgdGhlIGxpc3QuXCIsXG4gICAgICAgICAgICBcIlRvbW9ycm93LCBuZXh0IHdlZWssIG9yIHdoZW5ldmVyIHlvdXIgdGFzayBpcyBkdWUsIHlvdSBjYW4gYWRkIGl0IGhlcmUhIENsaWNrIHRoZSBhcnJvdyBidXR0b24gdG8gdG9nZ2xlIGJldHdlZW4gc2hvd2luZyBhbmQgaGlkaW5nIHRhc2sgZGV0YWlscy5cIixcbiAgICAgICAgICAgIFwiQWRkIGEgZGVzY3JpcHRpb24gb2YgeW91ciB0YXNrIGhlcmUhIENsaWNrIHRoZSBwZW5jaWwgYnV0dG9ucyB0byBlZGl0IHRoZSB2YXJpb3VzIHBhcnRzIG9mIHlvdXIgdGFzay5cIixcbiAgICAgICAgICAgIFwiSm90IGRvd24gc29tZSBub3RlcyBoZXJlISBNYXJrIHlvdXIgdGFzayBhcyBjb21wbGV0ZSB3aGVuIHlvdSdyZSBkb25lLCBvciByZW1vdmUgaXQgZnJvbSB0aGUgbGlzdCBieSBjbGlja2luZyB0aGUgWCBidXR0b24uXCIsXG4gICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZVRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5jaGFuZ2VQaW5CdXR0b25JbWFnZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zaGlmdFRhc2tFbGVtZW50UG9zaXRpb24odGFza0luZGV4KTtcbiAgICAgICAgYWRkTG9hZGVkSW5DaGVja2xpc3RUYXNrKFxuICAgICAgICAgICAgdGFiSW5kZXgsXG4gICAgICAgICAgICB0YXNrSW5kZXgsXG4gICAgICAgICAgICBcIklmIHlvdXIgdGFzayBoYXMgbXVsdGlwbGUgc3RlcHMsIHRyeSBicmVha2luZyB0aGVtIGRvd24gaW50byBhIGNoZWNrbGlzdCEgQ2xpY2sgdGhlIHBsdXMgc2lnbiBidXR0b24gdG8gYWRkIHN0ZXBzIGFzIG5lZWRlZC5cIixcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICAgIGFkZExvYWRlZEluQ2hlY2tsaXN0VGFzayhcbiAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgdGFza0luZGV4LFxuICAgICAgICAgICAgXCJIYXZlIGEgbmV3IHRhc2sgeW91IHdhbnQgdG8ga2VlcCB0cmFjayBvZj8gQWRkIGl0IHRvIHRoZSBsaXN0IGJ5IGNsaWNraW5nIG9uIHRoZSAnTmV3IFRhc2snIGJ1dHRvbiBiZWxvdyFcIixcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgICAgIGFkZExvYWRlZEluQ2hlY2tsaXN0VGFzayh0YWJJbmRleCxcbiAgICAgICAgICAgIHRhc2tJbmRleCxcbiAgICAgICAgICAgIFwiT3JnYW5pemUgdGhlIGRpZmZlcmVudCB0eXBlcyBvZiB0YXNrcyBpbiB5b3VyIGxpZmUgYnkgY3JlYXRpbmcgdGhlbWVkIHRhYnMuIENyZWF0ZSBhIG5ldyB0YWIgYnkgY2xpY2tpbmcgb24gdGhlIHBsdXMgc2lnbiBidXR0b24gYXQgdGhlIHRvcCBvZiB0aGUgbGlzdC4gQ2hhbmdlIHRhYnMgYnkgY2xpY2tpbmcgb24gZGlmZmVyZW50IHRhYiBuYW1lcy5cIixcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRMb2FkZWRJbkNoZWNrbGlzdFRhc2sgPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgZGVzY3JpcHRpb24sIGNvbXBsZXRlZCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKHRhYkluZGV4LCB0YXNrSW5kZXgsIGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMoY2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBpZiAoIXRvZG9MaXN0U3RvcmFnZS5pc0xvYWRpbmcoKSkge1xuICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLmFkZENoZWNrbGlzdFRhc2sodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KVxuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgbG9hZEluTG9jYWxTdG9yYWdlID0gKCkgPT4ge1xuICAgICAgICB0b2RvTGlzdFN0b3JhZ2UudG9nZ2xlTG9hZGluZygpO1xuICAgICAgICBsb2FkSW5DdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgbG9hZEluVGFiT2JqZWN0cygpXG4gICAgICAgIHRvZG9MaXN0U3RvcmFnZS50b2dnbGVMb2FkaW5nKCk7XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5DdXJyZW50VGFiSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IHRvZG9MaXN0U3RvcmFnZS5nZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KGN1cnJlbnRUYWJJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5UYWJPYmplY3RzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3RzID0gdG9kb0xpc3RTdG9yYWdlLmdldFRhYk9iamVjdHMoKTtcbiAgICAgICAgZm9yIChjb25zdCB0YWJLZXkgaW4gdGFiT2JqZWN0cykge1xuICAgICAgICAgICAgaWYgKHRhYk9iamVjdHNbdGFiS2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRvRG9MaXN0LmFkZFRhc2sodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFiVGl0bGUgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0VGFiVGl0bGUodGFiS2V5KVxuICAgICAgICAgICAgICAgIGNvbnN0IHRhYkluZGV4ID0gYWRkVGFiKGV2ZW50LCB0YWJUaXRsZSlcbiAgICAgICAgICAgICAgICBsb2FkSW5UYXNrT2JqZWN0cyh0YWJJbmRleCwgdGFiS2V5KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZEN1cnJlbnRUYWJJbmRpY2F0b3IoKVxuICAgIH07XG4gICAgY29uc3QgbG9hZEluVGFza09iamVjdHMgPSAodGFiSW5kZXgsIHRhYktleSkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiT2JqZWN0KHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdHMgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0VGFza09iamVjdHModGFiSW5kZXgpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhc2tLZXkgaW4gdGFza09iamVjdHMpIHtcbiAgICAgICAgICAgIGlmICh0YXNrT2JqZWN0c1t0YXNrS2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRhYk9iamVjdC5hZGRUYXNrKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tWYWx1ZXMgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0VGFza1ZhbHVlcyh0YWJLZXksIHRhc2tLZXkpXG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1RpdGxlID0gdGFza1ZhbHVlc1swXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tWYWx1ZXNbMV07XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdGFza1ZhbHVlc1syXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrTm90ZXMgPSB0YXNrVmFsdWVzWzNdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tQaW5uZWQgPSB0YXNrVmFsdWVzWzRdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZWQgPSB0YXNrVmFsdWVzWzVdO1xuICAgICAgICAgICAgICAgIGxldCB0YXNrSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhYkluZGV4ID09PSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSkge1xuICAgICAgICAgICAgICAgICAgICB0YXNrSW5kZXggPSBhZGRUYXNrKFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tEdWVEYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0Rlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza05vdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1Bpbm5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb21wbGV0ZWRcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmNoYW5nZVBpbkJ1dHRvbkltYWdlKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbih0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1Rhc2tUb1RhYihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1RpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0R1ZURhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrTm90ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrUGlubmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2FkSW5DaGVja2xpc3RUYXNrT2JqZWN0cyh0YWJJbmRleCwgdGFiS2V5LCB0YXNrSW5kZXgsIHRhc2tLZXkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJbkNoZWNrbGlzdFRhc2tPYmplY3RzID0gKHRhYkluZGV4LCB0YWJLZXksIHRhc2tJbmRleCwgdGFza0tleSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3RzID0gdG9kb0xpc3RTdG9yYWdlLmdldENoZWNrbGlzdFRhc2tPYmplY3RzKHRhYkluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrbGlzdFRhc2tLZXkgaW4gY2hlY2tsaXN0VGFza09iamVjdHMpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2xpc3RUYXNrT2JqZWN0c1tjaGVja2xpc3RUYXNrS2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRhc2tPYmplY3QuYWRkVGFzayh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrVmFsdWVzID0gdG9kb0xpc3RTdG9yYWdlLmdldENoZWNrbGlzdFRhc2tWYWx1ZXModGFiS2V5LCB0YXNrS2V5LCBjaGVja2xpc3RUYXNrS2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrVmFsdWVzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tDb21wbGV0ZWQgPSBjaGVja2xpc3RUYXNrVmFsdWVzWzFdO1xuICAgICAgICAgICAgICAgIGxldCBjaGVja2xpc3RUYXNrSW5kZXggPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKHRhYkluZGV4ID09PSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2xpc3RUYXNrSW5kZXggPSBhZGRMb2FkZWRJbkNoZWNrbGlzdFRhc2sodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uLCBjaGVja2xpc3RUYXNrQ29tcGxldGVkKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2sodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uLCBjaGVja2xpc3RUYXNrQ29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJbkluaXRpYWxMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkTmV3VGFiTGlzdGVuZXIoKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGROZXdUYXNrTGlzdGVuZXIoKTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJblBhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGxvYWRJbkluaXRpYWxMaXN0ZW5lcnMoKTtcbiAgICAgICAgaWYgKHRvZG9MaXN0U3RvcmFnZS5jaGVja0ZvckV4aXN0aW5nU3RvcmFnZSgpKSB7XG4gICAgICAgICAgICBsb2FkSW5Mb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5pbml0aWFsaXplVG9kb0xpc3QoKTs7XG4gICAgICAgICAgICBsb2FkSW5JbnN0cnVjdGlvbnNQYWdlKCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRUYWIsXG4gICAgICAgIGluc2VydFRhYklucHV0RWxlbWVudCxcbiAgICAgICAgdXBkYXRlVGFiLFxuICAgICAgICBzd2l0Y2hUYWIsXG4gICAgICAgIHJlbW92ZVRhYixcbiAgICAgICAgYWRkVGFiTGlzdGVuZXJzLFxuICAgICAgICBhZGRUYXNrLFxuICAgICAgICBpbnNlcnRUYXNrSW5wdXRFbGVtZW50LFxuICAgICAgICB1cGRhdGVUYXNrLFxuICAgICAgICB0b2dnbGVUYXNrUGluLFxuICAgICAgICB0b2dnbGVUYXNrQ29tcGxldGUsXG4gICAgICAgIHJlbW92ZVRhc2ssXG4gICAgICAgIGFkZFRhc2tMaXN0ZW5lcnMsXG4gICAgICAgIGFkZE5ld0NoZWNrbGlzdFRhc2ssXG4gICAgICAgIGluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQsXG4gICAgICAgIHVwZGF0ZUNoZWNrbGlzdFRhc2ssXG4gICAgICAgIHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSxcbiAgICAgICAgcmVtb3ZlQ2hlY2tsaXN0VGFzayxcbiAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyxcbiAgICAgICAgdG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzLFxuICAgICAgICBsb2FkSW5JbnN0cnVjdGlvbnNQYWdlLFxuICAgICAgICBsb2FkSW5Mb2NhbFN0b3JhZ2UsXG4gICAgICAgIGxvYWRJblRhYk9iamVjdHMsXG4gICAgICAgIGxvYWRJbkluaXRpYWxMaXN0ZW5lcnMsXG4gICAgICAgIGxvYWRJblBhZ2UsXG4gICAgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IGV2ZW50QnVuZGxlciB9OyIsImltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL29iamVjdHMvZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcblxuZXZlbnRCdW5kbGVyLmxvYWRJblBhZ2UoKTsiXSwibmFtZXMiOlsiZXZlbnRBc3NpZ25lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudEJ1bmRsZXIiLCJhZGRUYWIiLCJzY29wZSIsInRhYkVkaXRCdXR0b25zIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImJ1dHRvbiIsImluc2VydFRhYklucHV0RWxlbWVudCIsImlucHV0RWxlbWVudCIsInVwZGF0ZVRhYiIsInRhYlJlbW92ZUJ1dHRvbnMiLCJyZW1vdmVUYWIiLCJ0YWJTd2l0Y2hCdXR0b25zIiwic3dpdGNoVGFiIiwiYWRkVGFzayIsInRhc2tFZGl0QnV0dG9ucyIsImluc2VydFRhc2tJbnB1dEVsZW1lbnQiLCJ1cGRhdGVUYXNrIiwidGFza1BpbkJ1dHRvbnMiLCJ0b2dnbGVUYXNrUGluIiwidGFza0NvbXBsZXRlQ2hlY2tib3hlcyIsImNoZWNrYm94IiwidG9nZ2xlVGFza0NvbXBsZXRlIiwidGFza1JlbW92ZUJ1dHRvbnMiLCJyZW1vdmVUYXNrIiwibmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMiLCJhZGROZXdDaGVja2xpc3RUYXNrIiwiY2hlY2tsaXN0RWRpdEJ1dHRvbnMiLCJpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50IiwidXBkYXRlQ2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3hlcyIsInRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSIsImNoZWNrbGlzdFRhc2tSZW1vdmVCdXR0b25zIiwicmVtb3ZlQ2hlY2tsaXN0VGFzayIsInRhc2tUb2dnbGVEaXNwbGF5QnV0dG9ucyIsInRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyIsImNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50Iiwib2JqZWN0IiwiY2hlY2tsaXN0IiwiT2JqZWN0IiwiYXNzaWduIiwidGFzayIsInB1c2giLCJsZW5ndGgiLCJpbmRleCIsInVuZGVmaW5lZCIsImdldENoZWNrbGlzdFRhc2tzIiwiZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrIiwidG9Eb0xpc3QiLCJjdXJyZW50VGFiIiwiZ2V0Q3VycmVudFRhYkluZGV4Iiwic2V0Q3VycmVudFRhYkluZGV4IiwibmV3Q3VycmVudFRhYiIsIk51bWJlciIsImdldEN1cnJlbnRUYWJPYmplY3QiLCJjdXJyZW50VGFiSW5kZXgiLCJ0aXRsZUJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbFRpdGxlIiwidGl0bGUiLCJnZXRUYXNrVGl0bGUiLCJzZXRUYXNrVGl0bGUiLCJuZXdUaXRsZSIsImRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsImdldFRhc2tEZXNjcmlwdGlvbiIsInNldFRhc2tEZXNjcmlwdGlvbiIsIm5ld0Rlc2NyaXB0aW9uIiwiY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsQ29tcGxldGVkU3RhdGUiLCJjb21wbGV0ZWQiLCJ0b2dnbGVDb21wbGV0ZWRTdGF0ZSIsImdldENvbXBsZXRlZFN0YXRlIiwib2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QiLCJ0YWJOYW1lIiwibmV3VGFiIiwidG9Eb1RhYiIsInRhYkluZGV4IiwibmV3VGFiTmFtZSIsInRhYkFycmF5IiwiZmlyc3RUYWIiLCJ0YWIiLCJkdWVEYXRlIiwibm90ZXMiLCJwaW5uZWQiLCJ0YWJPYmplY3QiLCJuZXdUYXNrIiwiaW5pdGlhbER1ZURhdGUiLCJnZXRUYXNrRHVlRGF0ZSIsInNldFRhc2tEdWVEYXRlIiwibmV3RHVlRGF0ZSIsImR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxOb3RlcyIsImdldFRhc2tOb3RlcyIsInNldFRhc2tOb3RlcyIsIm5ld05vdGVzIiwibm90ZXNCZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxQaW5uZWRTdGF0ZSIsInRvZ2dsZVBpbm5lZFN0YXRlIiwiZ2V0UGlubmVkU3RhdGUiLCJwaW5uZWRCZWhhdmlvckNvbXBvbmVudCIsInRvRG9UYXNrIiwidGFza0luZGV4IiwiYnV0dG9uVHlwZSIsIm5ld1Rhc2tTdWJjb250ZW50VmFsdWUiLCJ0YXNrT2JqZWN0IiwibmV3Q2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdFRhc2tPYmplY3QiLCJjaGVja2xpc3RUYXNrSW5kZXgiLCJuZXdEZXNjcmlwdGlvblZhbHVlIiwiaGVscGVyRnVuY3Rpb25zIiwiZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQiLCJldmVudCIsInRhYkVsZW1lbnQiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwiZW5zdXJlQ29ycmVjdFRhc2tTdWJjb250YWluZXJFbGVtZW50IiwidGFza1N1YmNvbnRhaW5lckVsZW1lbnQiLCJjbGFzc0xpc3QiLCJpbmNsdWRlcyIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCIsImNoZWNrbGlzdFRhc2tFbGVtZW50IiwiZ2V0VGFza0VsZW1lbnQiLCJnZXRUYWJPYmplY3QiLCJnZXRUYXNrT2JqZWN0IiwiY2hlY2tJZldhc0N1cnJlbnRUYWIiLCJjaGVja0lmT25seU9uZVRhYiIsInRvRG9UYWJTZWN0aW9uIiwiZ2V0VGFza0luZGV4IiwidGFza0VsZW1lbnQiLCJlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQiLCJkYXRhc2V0IiwiZ2V0Q2hlY2tsaXN0VGFza0luZGV4IiwiZ2V0VGFiSW5kZXgiLCJnZXROZXdWYWx1ZSIsInZhbHVlIiwiZ2V0VGFza1N1YmNvbnRhaW5lclR5cGUiLCJ0YXNrU3ViY29udGFpbmVyRWxlbWVudENsYXNzZXMiLCJ0YXNrU3ViY29udGFpbmVyVHlwZSIsImdldFRhc2tTdWJjb250YWluZXJFbGVtZW50IiwiZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQiLCJnZXRUYWJFbGVtZW50IiwiY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudCIsImVsZW1lbnRUeXBlIiwidHJ5aW5nVG9Eb3VibGVDbGljayIsImdldENoZWNrbGlzdFRhc2tPYmplY3QiLCJjaGVja0lmTm9Nb3JlVGFicyIsIkRPTUNvbnRyb2xsZXJBZGRFZGl0IiwiYWRkTmV3VGFza1RvRE9NIiwibmV3VGFza09iamVjdCIsInRvRG9Db250ZW50IiwibmV3VGFza0VsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwibmV3VGFza1RpdGxlIiwibmV3VGFza0Rlc2NyaXB0aW9uIiwibmV3VGFza0R1ZURhdGUiLCJuZXdUYXNrTm90ZXMiLCJuZXdUYXNrQ29tcGxldGVJRCIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJ0b2dnbGVUYXNrRE9NQ29tcGxldGUiLCJjb21wbGV0ZUNoZWNrYm94IiwiY2hlY2tlZCIsInJlbW92ZSIsImFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSIsIm5ld0NoZWNrbGlzdFRhc2tJbmRleCIsImNoZWNrbGlzdEVsZW1lbnQiLCJuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24iLCJuZXdDaGVja2xpc3RUYXNrRWxlbWVudCIsInRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSIsImNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3giLCJjaGFuZ2VQaW5CdXR0b25JbWFnZSIsInBpbkJ1dHRvbkltYWdlIiwic2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uIiwidGFza0VsZW1lbnRJbmRleCIsInRhc2tDb250ZW50U2VjdGlvbiIsImxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cyIsImluc2VydEJlZm9yZSIsImZpcnN0RWxlbWVudENoaWxkIiwibGFzdFBpbm5lZFRhc2tFbGVtZW50IiwicGlubmVkVGFza0VsZW1lbnQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cyIsImxhc3RVbnBpbm5lZFRhc2tFbGVtZW50IiwidW5waW5uZWRUYXNrRWxlbWVudCIsImFkZE5ld1RhYlRvRE9NIiwiYWRkVGFiQnV0dG9uIiwibmV3VGFiRWxlbWVudCIsIm5ld1RhYk9iamVjdFRpdGxlIiwiZmlyc3RDaGlsZCIsImZvY3VzIiwic2V0VGFiSW5wdXRFbGVtZW50VmFsdWUiLCJpbnNlcnRUYWJOYW1lRWxlbWVudCIsInRhYkJ1dHRvbiIsInRhYkJ1dHRvbk5hbWUiLCJhZGRDdXJyZW50VGFiSW5kaWNhdG9yIiwibG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIiLCJsaXN0T2ZUYXNrcyIsImFkZFRhc2tMaXN0ZW5lcnMiLCJsaXN0T2ZDaGVja2xpc3RUYXNrcyIsImFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMiLCJ0YXNrU3ViY29udGFpbmVyIiwic2V0VGFza0lucHV0RWxlbWVudFZhbHVlIiwidGFza09iamVjdFZhbHVlIiwiaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1RpdGxlIiwidGFza0R1ZURhdGUiLCJ0YXNrRGVzY3JpcHRpb24iLCJ0YXNrTm90ZXMiLCJjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24iLCJzZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUiLCJjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24iLCJpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50IiwiY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCIsImZvckVhY2giLCJlbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5Iiwic2V0VGltZW91dCIsInByZXZlbnREb3VibGVDbGljayIsInJvdGF0ZUNoZXZyb25CdXR0b24iLCJidXR0b25JbWFnZSIsImJ1dHRvbkltYWdlQ2xhc3NlcyIsInRvZ2dsZUFuaW1hdGlvbnMiLCJhY3Rpb24iLCJlbGVtZW50c1RvVG9nZ2xlIiwiRE9NQ29udHJvbGxlclJlbW92ZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicmVwbGFjZUNoaWxkcmVuIiwib2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCIsInRvZG9MaXN0U3RvcmFnZSIsImxvYWRpbmdJbkNvbnRlbnQiLCJnZXRMb2NhbFN0b3JhZ2VWYWx1ZSIsInRvZG9MaXN0SlNPTlN0cmluZyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJKU09OIiwicGFyc2UiLCJ1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSIsIm5ld1ZhbHVlIiwidXBkYXRlZEpTT05TdHJpbmdWYWx1ZSIsInN0cmluZ2lmeSIsInNldEl0ZW0iLCJ0b2RvTGlzdFBhcnNlZE9iamVjdCIsInRhYkpTT05TdHJpbmciLCJ0YWJQYXJzZWRPYmplY3QiLCJzZXRDdXJyZW50VGFiIiwic2V0VGFiTmFtZSIsImdldFRhYlRpdGxlIiwidGFiS2V5IiwiZ2V0VGFiT2JqZWN0cyIsInRhc2tKU09OU3RyaW5nIiwidGFza1BhcnNlZE9iamVjdCIsInNldFRhc2tTdWJjb250YWluZXJWYWx1ZSIsInN1YmNvbnRhaW5lclR5cGUiLCJ0b2dnbGVUYXNrUGlubmVkIiwidG9nZ2xlVGFza0NvbXBsZXRlZCIsImdldFRhc2tWYWx1ZXMiLCJ0YXNrS2V5IiwidGFza1ZhbHVlcyIsInRhc2tQaW5uZWQiLCJ0YXNrQ29tcGxldGVkIiwiZ2V0VGFza09iamVjdHMiLCJhZGRDaGVja2xpc3RUYXNrIiwiY2hlY2tsaXN0VGFza0pTT05TdHJpbmciLCJjaGVja2xpc3RUYXNrUGFyc2VkT2JqZWN0Iiwic2V0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uIiwidG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlZCIsImdldENoZWNrbGlzdFRhc2tWYWx1ZXMiLCJjaGVja2xpc3RUYXNrS2V5IiwiY2hlY2tsaXN0VGFza1ZhbHVlcyIsImNoZWNrbGlzdFRhc2tDb21wbGV0ZWQiLCJnZXRDaGVja2xpc3RUYXNrT2JqZWN0cyIsImNoZWNrRm9yRXhpc3RpbmdTdG9yYWdlIiwiaW5pdGlhbGl6ZVRvZG9MaXN0IiwidG9nZ2xlTG9hZGluZyIsImlzTG9hZGluZyIsIm5ld1RhYkluZGV4IiwiYWRkVGFiTGlzdGVuZXJzIiwiZmlyc3RUYWJJbmRleCIsImxvYWRJbkluc3RydWN0aW9uc1BhZ2UiLCJuZXdUYXNrSW5kZXgiLCJhZGRMb2FkZWRJbkNoZWNrbGlzdFRhc2siLCJsb2FkSW5Mb2NhbFN0b3JhZ2UiLCJsb2FkSW5DdXJyZW50VGFiSW5kZXgiLCJsb2FkSW5UYWJPYmplY3RzIiwidGFiT2JqZWN0cyIsInRhYlRpdGxlIiwibG9hZEluVGFza09iamVjdHMiLCJ0YXNrT2JqZWN0cyIsImxvYWRJbkNoZWNrbGlzdFRhc2tPYmplY3RzIiwiY2hlY2tsaXN0VGFza09iamVjdHMiLCJsb2FkSW5Jbml0aWFsTGlzdGVuZXJzIiwiY29kZSIsImxvYWRJblBhZ2UiXSwic291cmNlUm9vdCI6IiJ9
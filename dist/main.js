(()=>{"use strict";const e=e=>{let t=[];return Object.assign(e,{addTask:e=>(t.push(e),t.length-1),removeTask(e){t[e]=void 0},getChecklistTasks:()=>t,getSpecificChecklistTask:e=>t[e]})},t=(()=>{let s=0;const n=()=>s;let c={getCurrentTabIndex:n,setCurrentTabIndex:e=>{s=e},getCurrentTabObject:()=>{const e=n();return t.getSpecificChecklistTask(e)}};return Object.assign(c,e(c)),c})(),s=(e,t)=>{let s=t;return Object.assign(e,{getTaskTitle:()=>s,setTaskTitle(e){s=e}})},n=(()=>{const e=e=>{let t=e.target.parentElement;for(;"tab-title"!==t.getAttribute("class");)t=t.parentElement;return t},s=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task");)t=t.parentElement,s=Array.from(t.classList);return t},n=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task-subcontainer");)t=t.parentElement,s=Array.from(t.classList);return t},c=e=>{const n=s(e).dataset.taskIndex,c=t.getCurrentTabIndex();return t.getSpecificChecklistTask(c).getSpecificChecklistTask(n)},a=e=>{let t=e.target;for(;"BUTTON"!==t.tagName;)t=t.parentElement;return t},o=e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist-task");)t=t.parentElement,s=Array.from(t.classList);return t};return{ensureCorrectTabElement:e,checkForTabInputElement:t=>"INPUT"===e(t).firstElementChild.tagName,checkIfWasCurrentTab:t=>"current-tab"===e(t).getAttribute("id"),checkIfOnlyOneTab:()=>{const e=document.querySelector(".to-do-tab-section");return 1===Array.from(e.querySelectorAll(".tab-title")).length},ensureCorrectTaskElement:s,ensureCorrectSubcontainer:n,checkForTaskSubcontainerInputElement:e=>"INPUT"===n(e).firstElementChild.tagName,getTargetTaskObject:c,ensureCorrectButtonElement:a,getButtonType:e=>{const t=a(e);return Array.from(t.classList)},getSubcontainerType:e=>{const t=n(e);return Array.from(t.classList)},ensureCorrectChecklistElement:e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist");)t=t.parentElement,s=Array.from(t.classList);return t},ensureCorrectChecklistTaskElement:o,checkForChecklistTaskInputElement:e=>null!==o(e).querySelector(".checklist-complete-section").querySelector(".checklist-input"),getTargetChecklistTaskObject:e=>{const t=c(e),s=o(e).dataset.checklistTaskIndex;return t.getSpecificChecklistTask(s)}}})(),c=(e,t)=>{let s=t;return Object.assign(e,{getTaskDescription:()=>s,setTaskDescription(e){s=e}})},a=(e,t)=>{let s=t;return Object.assign(e,{toggleCompletedState(){s=!s},getCompletedState:()=>s})},o=e=>{let t={};return Object.assign(t,c(t,e),a(t)),t},r=(n="New Tab")=>{const c=(t=>{let n={};return Object.assign(n,s(n,t),e(n)),n})(n);return t.addTask(c)},i=e=>{const s=e.target.parentElement.dataset.tabIndex;t.getSpecificChecklistTask(s).setTaskTitle(e.target.value)},l=e=>{const s=n.ensureCorrectTabElement(e).dataset.tabIndex;t.setCurrentTabIndex(s)},d=()=>{const e=t.getChecklistTasks();let s;for(const n in e)if(void 0!==e[n])return t.setCurrentTabIndex(n),s=n,s},k=(n="New Task Title",o="Task Due Date",r="Task Description",i="Task Notes",l=!1,d=!1)=>{const k=t.getCurrentTabIndex(),u=t.getSpecificChecklistTask(k),T=((t,n,o,r,i,l)=>{let d={};return Object.assign(d,s(d,t),c(d,o),((e,t)=>{let s=t;return Object.assign(e,{getTaskDueDate:()=>s,setTaskDueDate(e){s=e}})})(d,n),((e,t)=>{let s=t;return Object.assign(e,{getTaskNotes:()=>s,setTaskNotes(e){s=e}})})(d,r),((e,t)=>{let s=t;return Object.assign(e,{togglePinnedState(){s=!s},getPinnedState:()=>s})})(d,i),a(d,l),e(d)),d})(n,o,r,i,l,d);return u.addTask(T)},u=e=>{const t=n.getTargetTaskObject(e),s=e.target.value,c=n.getSubcontainerType(e);return c.includes("to-do-title-section")?t.setTaskTitle(s):c.includes("to-do-due-date-section")?t.setTaskDueDate(s):c.includes("to-do-description-section")?t.setTaskDescription(s):c.includes("to-do-notes-section")?t.setTaskNotes(s):void 0},T=e=>{n.getTargetTaskObject(e).toggleCompletedState()},m=e=>{const t=n.getTargetTaskObject(e),s=o("Checklist Task Description");return t.addTask(s)},b=e=>{const t=n.getTargetChecklistTaskObject(e),s=e.target.value;t.setTaskDescription(s)},p=e=>{n.getTargetChecklistTaskObject(e).toggleCompletedState()},h=e=>{n.getTargetTaskObject(e).togglePinnedState()},g=(e,s)=>{const n=t.getCurrentTabObject().getSpecificChecklistTask(e),c=o(s);return n.addTask(c)},C=()=>{document.querySelector(".add-tab").addEventListener("click",Y.addTab)},E=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-tab"));for(const e of t)e.addEventListener("click",Y.insertTabInputElement)},f=e=>{e.addEventListener("keydown",Y.updateTab)},y=(e=document)=>{const t=Array.from(e.querySelectorAll(".remove-tab"));for(const e of t)e.addEventListener("click",Y.removeTab)},S=(e=document)=>{const t=Array.from(e.querySelectorAll(".switch-tab"));for(const e of t)e.addEventListener("click",Y.switchTab)},v=()=>{document.querySelector(".new-to-do-task").addEventListener("click",Y.newTask)},L=(e=document)=>{const t=Array.from(e.querySelectorAll(".to-do-remove-task"));for(const e of t)e.addEventListener("click",Y.removeTask)},I=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-task"));for(const e of t)e.addEventListener("click",Y.insertTaskInputElement)},D=e=>{e.addEventListener("keydown",Y.updateTask)},O=(e=document)=>{const t=e.querySelectorAll(".to-do-complete-checkbox");for(const e of t)e.addEventListener("click",Y.toggleTaskComplete)},A=(e=document)=>{const t=e.querySelectorAll(".add-checklist-task");for(const e of t)e.addEventListener("click",Y.addNewChecklistTask)},q=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-checklist-task"));for(const e of t)e.addEventListener("click",Y.insertChecklistTaskInputElement)},x=e=>{e.addEventListener("keydown",Y.updateChecklistTask)},w=(e=document)=>{const t=e.querySelectorAll(".checklist-complete-checkbox");for(const e of t)e.addEventListener("click",Y.toggleChecklistTaskComplete)},j=(e=document)=>{const t=e.querySelectorAll(".remove-checklist-task");for(const e of t)e.addEventListener("click",Y.removeChecklistTask)},N=(e=document)=>{const t=e.querySelectorAll(".to-do-pin");for(const e of t)e.addEventListener("click",Y.toggleTaskPin)},P=(e=document)=>{const t=e.querySelectorAll(".to-do-task-change-display");for(const e of t)e.addEventListener("click",Y.toggleDisplayTaskDetails)},$=(()=>{const e=e=>{const s=t.getCurrentTabObject().getSpecificChecklistTask(e),n=document.querySelector(".to-do-content"),c=document.createElement("div");c.classList.add("to-do-task"),c.dataset.taskIndex=e;const a=s.getTaskTitle(),o=s.getTaskDescription(),r=s.getTaskDueDate(),i=s.getTaskNotes();return c.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-unpinned.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="to-do-complete-checkbox" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="to-do-complete-checkbox">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <div action="" class="checklist">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </div>\n        ',c.querySelector(".to-do-title").textContent=a,c.querySelector(".to-do-due-date").textContent="Due On: "+r,c.querySelector(".to-do-description").textContent="Description: "+o,c.querySelector(".to-do-notes").textContent="Notes: "+i,n.appendChild(c),c},s=e=>{const s=e.querySelector(".checklist"),n=e.dataset.taskIndex,c=t.getCurrentTabObject().getSpecificChecklistTask(n).getChecklistTasks();for(const e in c)if(void 0!==c[e]){const t=c[e],a=t.getTaskDescription(),o=t.getCompletedState(),r=document.createElement("div");r.classList.add("checklist-task"),r.dataset.checklistTaskIndex=e,r.innerHTML=`\n                    <div class="checklist-complete-section">\n                        <input type="checkbox" id="checklist-${n}-${e}" class="checklist-complete-checkbox">\n                        <label for="checklist-${n}-${e}" class="checklist-task-description">\n                            DESCRIPTION PLACEHOLDER\n                        </label>\n                    </div>\n                    <button class="edit-checklist-task" type="button">\n                        <img src="assets/pencil.png" alt="Edit checklist task button">\n                    </button>\n                    <button class="remove-checklist-task" type="button">\n                        <img src="assets/close.png" alt="Edit checklist task button">\n                    </button>\n                `,r.querySelector(".checklist-task-description").textContent=a;r.querySelector(`#checklist-${n}-${e}`).checked=!!o,s.appendChild(r),Y.addChecklistTaskListeners(s)}},c=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,c=s.getSpecificChecklistTask(n),a=e.querySelector(".to-do-pin").querySelector("img");c.getPinnedState()?a.setAttribute("src","./assets/pin-pinned.png"):a.setAttribute("src","./assets/pin-unpinned.png")},a=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,c=s.getSpecificChecklistTask(n),a=document.querySelector(".to-do-content");if(c.getPinnedState()){const t=Array.from(document.querySelectorAll(".pinned-task"));if(0===t.length)a.insertBefore(e,a.firstElementChild);else{const s=t[t.length-1];for(const c of t){if(n<c.dataset.taskIndex){a.insertBefore(e,c);break}c===s&&s.insertAdjacentElement("afterend",e)}}e.classList.add("pinned-task")}};return{addNewTabToDOM:e=>{const s=document.querySelector(".add-tab"),n=document.querySelector(".to-do-tab-section"),c=document.createElement("div"),a=t.getSpecificChecklistTask(e).getTaskTitle();return c.classList.add("tab-title"),c.dataset.tabIndex=e,c.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',c.querySelector(".tab-name").textContent=a,n.insertBefore(c,s),c},setTabInputElementValue:(e,s)=>{const c=n.ensureCorrectTabElement(e).dataset.tabIndex,a=t.getSpecificChecklistTask(c).getTaskTitle();s.value=a},insertTabInputElement:e=>{const t=n.ensureCorrectTabElement(e),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),t.insertBefore(s,t.firstChild),s.focus(),s},insertTabNameElement:e=>{const s=n.ensureCorrectTabElement(e),c=s.dataset.tabIndex,a=t.getSpecificChecklistTask(c).getTaskTitle(),o=document.createElement("button");o.classList.add("switch-tab");const r=document.createElement("h2");return r.classList.add("tab-name"),r.textContent=a,o.appendChild(r),s.insertBefore(o,s.firstChild),s},setDefaultCurrentTabDOM:e=>{const t=document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${e}']`);null!==t&&t.setAttribute("id","current-tab")},setCurrentTabDOM:e=>{n.ensureCorrectTabElement(e).setAttribute("id","current-tab")},setFirstTabToCurrentTab:e=>{void 0!==e&&document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${e}']`).setAttribute("id","current-tab")},addNewTaskToDOM:e,insertTaskInputElement:e=>{const t=n.ensureCorrectSubcontainer(e),s=document.createElement("input");return s.classList.add("task-input"),s.setAttribute("type","text"),t.insertBefore(s,t.firstChild),s.focus(),s},setTaskInputElementValue:(e,t)=>{const s=n.getTargetTaskObject(e),c=n.getButtonType(e);let a;c.includes("edit-task-title")?a=s.getTaskTitle():c.includes("edit-task-due-date")?a=s.getTaskDueDate():c.includes("edit-task-description")?a=s.getTaskDescription():c.includes("edit-task-notes")&&(a=s.getTaskNotes()),t.value=a},insertTaskSubcontentElement:e=>{const t=n.ensureCorrectSubcontainer(e),s=n.getTargetTaskObject(e),c=n.getSubcontainerType(e);let a;if(c.includes("to-do-title-section")){const e=s.getTaskTitle();a=document.createElement("h3"),a.classList.add("to-do-title"),a.textContent=e}else if(c.includes("to-do-due-date-section")){const e=s.getTaskDueDate();a=document.createElement("p"),a.classList.add("to-do-due-date"),a.textContent="Due On: "+e}else if(c.includes("to-do-description-section")){const e=s.getTaskDescription();a=document.createElement("p"),a.classList.add("to-do-description"),a.textContent="Description: "+e}else if(c.includes("to-do-notes-section")){const e=s.getTaskNotes();a=document.createElement("p"),a.classList.add("to-do-notes"),a.textContent="Notes: "+e}t.insertBefore(a,t.firstChild)},toggleTaskDOMComplete:e=>{const t=n.ensureCorrectTaskElement(e),s=t.querySelector(".to-do-complete-checkbox");n.getTargetTaskObject(e).getCompletedState()?(s.checked=!0,t.classList.add("task-completed")):(s.checked=!1,t.classList.remove("task-completed"))},addNewChecklistTaskToDOM:(e,t)=>{const s=n.ensureCorrectChecklistElement(e),c=n.ensureCorrectTaskElement(e).dataset.taskIndex,a=n.getTargetTaskObject(e).getSpecificChecklistTask(t),o=a.getTaskDescription(),r=a.getCompletedState(),i=document.createElement("div");i.classList.add("checklist-task"),i.dataset.checklistTaskIndex=t,i.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${c}-${t}" class="checklist-complete-checkbox">\n                <label for="checklist-${c}-${t}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,i.querySelector(".checklist-task-description").textContent=o;return i.querySelector(`#checklist-${c}-${t}`).checked=!!r,s.appendChild(i),i},insertChecklistTaskInputElement:e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section"),s=document.createElement("input");return s.classList.add("checklist-input"),s.setAttribute("type","text"),t.appendChild(s),s.focus(),s},setChecklistTaskInputElementValue:(e,t)=>{const s=n.ensureCorrectChecklistTaskElement(e).dataset.checklistTaskIndex,c=n.getTargetTaskObject(e).getSpecificChecklistTask(s).getTaskDescription();t.value=c},insertChecklistTaskDescriptionElement:e=>{const t=n.ensureCorrectChecklistTaskElement(e),s=t.dataset.checklistTaskIndex,c=t.querySelector(".checklist-complete-section"),a=n.ensureCorrectTaskElement(e).dataset.taskIndex,o=n.getTargetChecklistTaskObject(e).getTaskDescription(),r=document.createElement("label");r.setAttribute("for",`checklist-${a}-${s}`),r.classList.add("checklist-task-description"),r.textContent=o,c.appendChild(r)},toggleChecklistTaskDOMComplete:e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section").querySelector(".checklist-complete-checkbox"),s=n.getTargetChecklistTaskObject(e);t.checked=s.getCompletedState(),s.getCompletedState()?t.classList.add("checklist-task-completed"):t.classList.remove("checklist-task-completed")},changePinButtonImage:e=>{const t=n.getTargetTaskObject(e),s=n.ensureCorrectButtonElement(e).querySelector("img");t.getPinnedState()?s.setAttribute("src","./assets/pin-pinned.png"):s.setAttribute("src","./assets/pin-unpinned.png")},shiftTaskElementPosition:e=>{const t=n.getTargetTaskObject(e),s=n.ensureCorrectTaskElement(e),c=s.dataset.taskIndex,a=document.querySelector(".to-do-content");if(t.getPinnedState()){const e=Array.from(document.querySelectorAll(".pinned-task"));if(0===e.length)a.insertBefore(s,a.firstElementChild);else{const t=e[e.length-1];for(const n of e){if(c<n.dataset.taskIndex){a.insertBefore(s,n);break}n===t&&t.insertAdjacentElement("afterend",s)}}s.classList.add("pinned-task")}else{const e=Array.from(a.querySelectorAll(".to-do-task:not(.pinned-task)"));if(0===e.length)a.appendChild(s);else{const t=e[e.length-1];for(const n of e){if(c<n.dataset.taskIndex){a.insertBefore(s,n);break}n===t&&a.appendChild(s,t)}}s.classList.remove("pinned-task")}},loadTasksFromNewCurrentTab:()=>{const n=t.getCurrentTabObject().getChecklistTasks();for(const t in n)if(void 0!==n[t]){const n=e(t);Y.addTaskListeners(n),c(n),a(n),s(n)}},toggleDisplayTaskDetails:e=>{const t=n.ensureCorrectTaskElement(e);[t.querySelector(".to-do-description-section"),t.querySelector(".to-do-notes-section"),t.querySelector(".checklist")].forEach((e=>{Array.from(e.classList).includes("hide-to-do-details")?(e.classList.remove("hide-to-do-details"),e.classList.add("display-to-do-details")):(e.classList.add("hide-to-do-details"),e.classList.remove("display-to-do-details"))}))},rotateChevronButton:e=>{const t=n.ensureCorrectButtonElement(e).querySelector("img"),s=t.getAttribute("class");null===s||"rotate-hide-task-details"===s?(t.classList.toggle("rotate-hide-task-details",!1),t.classList.add("rotate-display-task-details")):"rotate-display-task-details"===s&&(t.classList.remove("rotate-display-task-details"),t.classList.add("rotate-hide-task-details"))},loadInstructionsChecklistTaskElement:(e,s)=>{const n=document.querySelector(`[data-task-index='${e}'`).querySelector(".checklist"),c=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s),a=c.getTaskDescription(),o=c.getCompletedState(),r=document.createElement("div");r.classList.add("checklist-task"),r.dataset.checklistTaskIndex=s,r.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${e}-${s}" class="checklist-complete-checkbox">\n                <label for="checklist-${e}-${s}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,r.querySelector(".checklist-task-description").textContent=a;return r.querySelector(`#checklist-${e}-${s}`).checked=!!o,n.appendChild(r),r}}})(),B=e=>{const s=n.ensureCorrectTabElement(e).dataset.tabIndex;t.removeTask(s)},M=e=>{const s=n.ensureCorrectTaskElement(e).dataset.taskIndex;t.getCurrentTabObject().removeTask(s)},H=e=>{const t=n.ensureCorrectChecklistTaskElement(e).dataset.checklistTaskIndex;n.getTargetTaskObject(e).removeTask(t)},R=e=>{const t=n.ensureCorrectTabElement(e);let s=t.querySelector(".switch-tab");t.removeChild(s),s=null},F=e=>{const t=n.ensureCorrectTabElement(e);let s=t.querySelector("input");t.removeChild(s),s=null},V=e=>{let t=n.ensureCorrectTabElement(e);document.querySelector(".to-do-tab-section").removeChild(t),t=null},U=()=>{const e=document.querySelector("#current-tab");null!==e&&e.removeAttribute("id")},W=e=>{let t=n.ensureCorrectTaskElement(e);document.querySelector(".to-do-content").removeChild(t),t=null},z=e=>{const t=n.ensureCorrectSubcontainer(e);let s=t.firstElementChild;t.removeChild(s),s=null},J=e=>{const t=n.ensureCorrectSubcontainer(e);let s=t.querySelector("input");t.removeChild(s),s=null},Q=e=>{const t=n.ensureCorrectButtonElement(e).previousElementSibling;let s=t.querySelector("label");t.removeChild(s),s=null},X=e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section");let s=t.querySelector(".checklist-input");t.removeChild(s),s=null},G=e=>{let t=n.ensureCorrectChecklistTaskElement(e);n.ensureCorrectChecklistElement(e).removeChild(t),t=null},K=()=>{document.querySelector(".to-do-content").replaceChildren()},Y=(()=>{const e=(e,t="New Tab")=>{const s=r(t),c=$.addNewTabToDOM(s);if(a(c),n.checkIfOnlyOneTab()){const e=d();$.setFirstTabToCurrentTab(e)}},t=(e,t="New Task Title",n="Task Due Date",c="Task Description",a="Task Notes",o=!1,r=!1)=>{const i=k(t,n,c,a,o,r),l=$.addNewTaskToDOM(i);return s(l),i},s=e=>{L(e),I(e),O(e),A(e),N(e),P(e)},c=e=>{q(e),w(e),j(e)},a=e=>{E(e),y(e),S(e)};return{addTab:e,insertTabInputElement:e=>{if(!n.checkForTabInputElement(e)){const t=$.insertTabInputElement(e);R(e),$.setTabInputElementValue(e,t),f(t)}},updateTab:e=>{if("Enter"===e.code){i(e);const t=$.insertTabNameElement(e);F(e),S(t)}},removeTab:e=>{if(B(e),V(e),n.checkIfWasCurrentTab(e)){const e=d();$.setFirstTabToCurrentTab(e)}},switchTab:e=>{n.checkIfWasCurrentTab(e)||(l(e),U(),$.setCurrentTabDOM(e),K(),$.loadTasksFromNewCurrentTab())},newTask:t,removeTask:e=>{M(e),W(e)},insertTaskInputElement:e=>{if(!n.checkForTaskSubcontainerInputElement(e)){z(e);const t=$.insertTaskInputElement(e);$.setTaskInputElementValue(e,t),D(t)}},updateTask:e=>{"Enter"===e.code&&(u(e),$.insertTaskSubcontentElement(e),J(e))},toggleTaskComplete:e=>{T(e),$.toggleTaskDOMComplete(e)},addNewChecklistTask:e=>{const t=m(e),s=$.addNewChecklistTaskToDOM(e,t);c(s)},insertChecklistTaskInputElement:e=>{if(!n.checkForChecklistTaskInputElement(e)){Q(e);const t=$.insertChecklistTaskInputElement(e);$.setChecklistTaskInputElementValue(e,t),x(t)}},updateChecklistTask:e=>{"Enter"===e.code&&(b(e),$.insertChecklistTaskDescriptionElement(e),X(e))},toggleChecklistTaskComplete:e=>{p(e),$.toggleChecklistTaskDOMComplete(e)},removeChecklistTask:e=>{H(e),G(e)},toggleTaskPin:e=>{h(e),$.changePinButtonImage(e),$.shiftTaskElementPosition(e)},addTaskListeners:s,addChecklistTaskListeners:c,toggleDisplayTaskDetails:e=>{$.toggleDisplayTaskDetails(e),$.rotateChevronButton(e)},addTabListeners:a,loadInitialPage:()=>{e(event,"Instructions");(e=>{["If your task has multiple steps, try breaking them down into a checklist! Click the plus sign button to add steps as needed.","Have a new task you want to keep track of? Add it to the list by clicking on the 'New Task' button below!","Organize the different types of tasks in your life by creating themed tabs. \n            Create a new tab by clicking on the plus sign button at the top of the list.\n            Change tabs by clicking on different tab names."].forEach((t=>{const s=g(e,t),n=$.loadInstructionsChecklistTaskElement(e,s);c(n)}))})(t(event,"Quick Tips! Click the pin button to pin a task to the top of the list.","Tomorrow, next week, or whenever your task is due, you can add it here!\n            Click the arrow button to toggle between showing and hiding task details.","Add a description of your task here! Click the pencil buttons to edit the various parts of your task.","Jot down some notes here! Mark your task as complete when you're done, or remove it from the list by clicking the X button.",!1,!1))}}})();C(),E(),y(),$.setDefaultCurrentTabDOM(0),S(),v(),L(),I(),O(),A(),q(),w(),j(),N(),P(),Y.loadInitialPage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVdzQixHQUMvRnNHLEVBQTBCNEUsRUFBa0IsR0FDL0MsRUFiREMsQ0FMa0IxSixFQUFROUQsTUFBTyx5RUFDN0IsaUtBRUEsd0dBQ0EsK0hBQStILEdBQU8sR0FDbkcsRUFvQjlDLEVBN0pvQixHQzJJckJvRixJQUVBQSxJQUNBQSxJQVdBa0MsRUFBcUI2Qyx3QkFBd0IsR0FFN0MvRSxJQUVBQSxJQUVBQSxJQUVBQSxJQVNBQSxJQUNBQSxJQUNBQSxJQUtBQSxJQUNBQSxJQUVBQSxJQUNBQSxJQUVBRSxFQUFhK0gsaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fbGlzdF9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy90aXRsZV9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9oZWxwZXJfZnVuY3Rpb25zLmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2NoZWNrbGlzdF90YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL29iamVjdF9jb250cm9sbGVyX2FkZF9lZGl0X29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fdGFiX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fdGFza19vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9kdWVfZGF0ZV9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvZXZlbnRfYXNzaWduZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9vYmplY3RfY29udHJvbGxlcl9yZW1vdmVfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvRE9NX2NvbnRyb2xsZXJfcmVtb3ZlLmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvZXZlbnRfYnVuZGxlcl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0KSA9PiB7XG4gICAgbGV0IGNoZWNrbGlzdCA9IFtdO1xuICAgIGNvbnN0IGdldFRhc2tJbmRleCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGFkZFRhc2sodGFzaykge1xuICAgICAgICAgICAgY2hlY2tsaXN0LnB1c2godGFzayk7XG4gICAgICAgICAgICAvLyByZXR1cm4gY2hlY2tsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGFza0luZGV4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVRhc2soaW5kZXgpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFtpbmRleF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENoZWNrbGlzdFRhc2tzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrbGlzdDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tsaXN0W2luZGV4XTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfTsiLCIvLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb0xpc3QgPSAoKCkgPT4ge1xuICAgIGxldCBjdXJyZW50VGFiID0gMDtcbiAgICBjb25zdCBnZXRDdXJyZW50VGFiSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjdXJyZW50VGFiO1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q3VycmVudFRhYkluZGV4ID0gKG5ld0N1cnJlbnRUYWIpID0+IHtcbiAgICAgICAgY3VycmVudFRhYiA9IG5ld0N1cnJlbnRUYWI7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDdXJyZW50VGFiT2JqZWN0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiSW5kZXggPSBnZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFiSW5kZXgpO1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYk9iamVjdDtcbiAgICB9XG4gICAgbGV0IG9iamVjdCA9IHtcbiAgICAgICAgZ2V0Q3VycmVudFRhYkluZGV4LFxuICAgICAgICBzZXRDdXJyZW50VGFiSW5kZXgsXG4gICAgICAgIGdldEN1cnJlbnRUYWJPYmplY3RcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudChvYmplY3QpLFxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn0pKCk7XG5cbmV4cG9ydCB7IHRvRG9MaXN0IH07IiwiY29uc3QgdGl0bGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxUaXRsZSkgPT4ge1xuICAgIGxldCB0aXRsZSA9IGluaXRpYWxUaXRsZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza1RpdGxlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrVGl0bGUobmV3VGl0bGUpIHtcbiAgICAgICAgICAgIHRpdGxlID0gbmV3VGl0bGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuXG5jb25zdCBoZWxwZXJGdW5jdGlvbnMgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YWJFbGVtZW50ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHdoaWxlICh0YWJFbGVtZW50LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpICE9PSBcInRhYi10aXRsZVwiKSB7XG4gICAgICAgICAgICB0YWJFbGVtZW50ID0gdGFiRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFiRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrRm9yVGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGlmICh0YWJFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0lmV2FzQ3VycmVudFRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBpZiAodGFiRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJpZFwiKSA9PT0gXCJjdXJyZW50LXRhYlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrSWZPbmx5T25lVGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJzID0gQXJyYXkuZnJvbSh0b0RvVGFiU2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYi10aXRsZVwiKSk7XG4gICAgICAgIGlmICh0b0RvVGFicy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YXNrRWxlbWVudCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcInRvLWRvLXRhc2tcIikpIHtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50ID0gdGFza0VsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGFpbmVyID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXIuY2xhc3NMaXN0KVxuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcInRvLWRvLXRhc2stc3ViY29udGFpbmVyXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyID0gdGFza1N1YmNvbnRhaW5lci5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrU3ViY29udGFpbmVyLmNsYXNzTGlzdClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFza1N1YmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrRm9yVGFza1N1YmNvbnRhaW5lcklucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGlmICh0YXNrU3ViY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXJnZXRUYXNrT2JqZWN0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRhc2tPYmplY3Q7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgYnV0dG9uRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgd2hpbGUgKGJ1dHRvbkVsZW1lbnQudGFnTmFtZSAhPT0gXCJCVVRUT05cIikge1xuICAgICAgICAgICAgYnV0dG9uRWxlbWVudCA9IGJ1dHRvbkVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBnZXRCdXR0b25UeXBlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkNsYXNzZXMgPSBBcnJheS5mcm9tKGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkNsYXNzZXM7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdWJjb250YWluZXJUeXBlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgY29uc3Qgc3ViY29udGFpbmVyQ2xhc3NlcyA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lci5jbGFzc0xpc3QpO1xuICAgICAgICByZXR1cm4gc3ViY29udGFpbmVyQ2xhc3NlcztcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBjaGVja2xpc3RFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbShjaGVja2xpc3RFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIHdoaWxlICghY2xhc3NMaXN0LmluY2x1ZGVzKFwiY2hlY2tsaXN0XCIpKSB7XG4gICAgICAgICAgICBjaGVja2xpc3RFbGVtZW50ID0gY2hlY2tsaXN0RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbShjaGVja2xpc3RFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0VGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJjaGVja2xpc3QtdGFza1wiKSkge1xuICAgICAgICAgICAgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBjaGVja2xpc3RUYXNrRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbShjaGVja2xpc3RUYXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza0VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1pbnB1dFwiKTtcbiAgICAgICAgaWYgKGlucHV0RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXJnZXRDaGVja2xpc3RUYXNrT2JqZWN0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBnZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBjaGVja2xpc3RUYXNrRWxlbWVudC5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrT2JqZWN0O1xuICAgIH07XG4gICAgcmV0dXJuIHsgZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQsIGNoZWNrRm9yVGFiSW5wdXRFbGVtZW50LCBjaGVja0lmV2FzQ3VycmVudFRhYixcbiAgICAgICAgY2hlY2tJZk9ubHlPbmVUYWIsIGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCwgZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcixcbiAgICAgICAgY2hlY2tGb3JUYXNrU3ViY29udGFpbmVySW5wdXRFbGVtZW50LCBnZXRUYXJnZXRUYXNrT2JqZWN0LCBlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudCxcbiAgICAgICAgZ2V0QnV0dG9uVHlwZSwgZ2V0U3ViY29udGFpbmVyVHlwZSwgZW5zdXJlQ29ycmVjdENoZWNrbGlzdEVsZW1lbnQsXG4gICAgICAgIGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCwgY2hlY2tGb3JDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LFxuICAgICAgICBnZXRUYXJnZXRDaGVja2xpc3RUYXNrT2JqZWN0LCB9O1xufSkoKTtcblxuZXhwb3J0IHsgaGVscGVyRnVuY3Rpb25zIH07IiwiY29uc3QgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxEZXNjcmlwdGlvbikgPT4ge1xuICAgIGxldCBkZXNjcmlwdGlvbiA9IGluaXRpYWxEZXNjcmlwdGlvbjtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza0Rlc2NyaXB0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrRGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSIsIi8vIG9yaWdpbmFsIHdoZXJlIGFsbCBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGdldCByZXR1cm5lZCwgc28gbm8gcHJpdmF0ZSBmaWVsZHMgKGNvbXBsZXRlZCBzaG91bGQgYmUgcHJpdmF0ZSlcbi8vIGtlZXBpbmcgZm9yIHBvc3Rlcml0eSwgcHJvYmFibHkgd2lsbCBkZWxldGVkIGF0IHRoZSBlbmRcbi8vIGNvbnN0IGNhbkNvbXBsZXRlID0gKG9iamVjdCkgPT4gKHtcbi8vICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuLy8gICAgIHRvZ2dsZTogKCkgPT4ge1xuLy8gICAgICAgICBpZiAob2JqZWN0LmNvbXBsZXRlZCkge1xuLy8gICAgICAgICAgICAgb2JqZWN0LmNvbXBsZXRlZCA9IGZhbHNlO1xuLy8gICAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICAgICAgb2JqZWN0LmNvbXBsZXRlZCA9IHRydWU7XG4vLyAgICAgICAgIH07XG4vLyAgICAgfSxcbi8vICAgICBnZXRDb21wbGV0ZWRTdGF0ZTogKCkgPT4ge1xuLy8gICAgICAgICByZXR1cm4gb2JqZWN0LmNvbXBsZXRlZFxuLy8gICAgIH1cbi8vIH0pO1xuXG5jb25zdCBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxDb21wbGV0ZWRTdGF0ZSkgPT4ge1xuICAgIGxldCBjb21wbGV0ZWQgPSBpbml0aWFsQ29tcGxldGVkU3RhdGU7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIHRvZ2dsZUNvbXBsZXRlZFN0YXRlKCkge1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q29tcGxldGVkU3RhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcGxldGVkO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9OyIsImltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudFwiO1xuXG4vLyBvcmlnaW5hbCB3aGVyZSBvYmplY3Qgd291bGQgbmVlZCB0byBoYXZlIE9iamVjdC5hc3NpZ24oKSBmb3IgZXZlcnkgaW5zdGFuY2Vcbi8vIGtlZXBpbmcgZm9yIHBvc3Rlcml0eSwgcHJvYmFibHkgd2lsbCBkZWxldGVkIGF0IHRoZSBlbmRcbi8vIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSAoZGVzY3JpcHRpb24pID0+IHtcbiAgICAvLyBjb25zdCBnZXRUYXNrRGVzY3JpcHRpb24gPSAoKSA9PiB7XG4gICAgLy8gICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICAvLyB9O1xuICAgIC8vIGNvbnN0IHNldFRhc2tEZXNjcmlwdGlvbiA9IChuZXdEZXNjcmlwdGlvbikgPT4ge1xuICAgIC8vICAgICBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgIC8vIH07XG4vLyAgICAgcmV0dXJuIHsgZ2V0VGFza0Rlc2NyaXB0aW9uLCBzZXRUYXNrRGVzY3JpcHRpb24gfTtcbi8vIH07XG5cbmNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSAoZGVzY3JpcHRpb24pID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkZXNjcmlwdGlvbiksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59XG5cbmV4cG9ydCB7IGNoZWNrbGlzdFRhc2tPYmplY3QgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyB0b0RvVGFzayB9IGZyb20gXCIuL3RvZG9fdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGNoZWNrbGlzdFRhc2tPYmplY3QgfSBmcm9tIFwiLi9jaGVja2xpc3RfdGFza19vYmplY3RcIjtcblxuY29uc3Qgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYlRvVG9kb0FycmF5ID0gKHRhYk5hbWU9XCJOZXcgVGFiXCIpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFiID0gdG9Eb1RhYih0YWJOYW1lKTtcbiAgICAgICAgcmV0dXJuIHRvRG9MaXN0LmFkZFRhc2sobmV3VGFiKTtcbiAgICB9XG4gICAgY29uc3QgZWRpdFRhYk5hbWUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICBjb25zdCB0YXJnZXRUYWIgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICB0YXJnZXRUYWIuc2V0VGFza1RpdGxlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q3VycmVudFRhYiA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbmV3Q3VycmVudFRhYi5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgoaW5kZXgpXG4gICAgfVxuICAgIGNvbnN0IHNldEZpcnN0VGFiVG9DdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJBcnJheSA9IHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCk7XG4gICAgICAgIGxldCBmaXJzdFRhYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCB0YWIgaW4gdGFiQXJyYXkpIHtcbiAgICAgICAgICAgIGlmICh0YWJBcnJheVt0YWJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgodGFiKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRhYiA9IHRhYjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3RUYWI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld1Rhc2tUb1RhYiA9ICh0aXRsZT1cIk5ldyBUYXNrIFRpdGxlXCIsIGR1ZURhdGU9XCJUYXNrIER1ZSBEYXRlXCIsIGRlc2NyaXB0aW9uPVwiVGFzayBEZXNjcmlwdGlvblwiLCBub3Rlcz1cIlRhc2sgTm90ZXNcIiwgcGlubmVkPWZhbHNlLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgbmV3VGFzayA9IHRvRG9UYXNrKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0luZGV4ID0gY3VycmVudFRhYi5hZGRUYXNrKG5ld1Rhc2spO1xuICAgICAgICByZXR1cm4gbmV3VGFza0luZGV4O1xuICAgIH07XG4gICAgY29uc3QgZWRpdFRhc2tPYmplY3RJbmZvID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tUaXRsZVZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXRTdWJjb250YWluZXJUeXBlKGV2ZW50KTtcbiAgICAgICAgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tdGl0bGUtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tPYmplY3Quc2V0VGFza1RpdGxlKG5ld1Rhc2tUaXRsZVZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrT2JqZWN0LnNldFRhc2tEdWVEYXRlKG5ld1Rhc2tUaXRsZVZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrT2JqZWN0LnNldFRhc2tEZXNjcmlwdGlvbihuZXdUYXNrVGl0bGVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1ub3Rlcy1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iamVjdC5zZXRUYXNrTm90ZXMobmV3VGFza1RpdGxlVmFsdWUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIHRhc2tPYmplY3QudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFzayA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0luZGV4ID0gdGFza09iamVjdC5hZGRUYXNrKG5ld0NoZWNrbGlzdFRhc2spO1xuICAgICAgICByZXR1cm4gbmV3Q2hlY2tsaXN0VGFza0luZGV4XG4gICAgfTtcbiAgICBjb25zdCBlZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgY2hlY2tsaXN0VGFza09iamVjdC5zZXRUYXNrRGVzY3JpcHRpb24obmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldENoZWNrbGlzdFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjaGVja2xpc3RUYXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrUGluID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIHRhc2tPYmplY3QudG9nZ2xlUGlubmVkU3RhdGUoKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2tPYmplY3QgPSAodGFza0luZGV4LCBpbnN0cnVjdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2sgPSBjaGVja2xpc3RUYXNrT2JqZWN0KGluc3RydWN0aW9ucyk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tJbmRleCA9IHRhc2tPYmplY3QuYWRkVGFzayhuZXdDaGVja2xpc3RUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tJbmRleDtcbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYlRvVG9kb0FycmF5LCBlZGl0VGFiTmFtZSwgdXBkYXRlQ3VycmVudFRhYiwgc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIsXG4gICAgICAgIGFkZE5ld1Rhc2tUb1RhYiwgZWRpdFRhc2tPYmplY3RJbmZvLCB0b2dnbGVUYXNrQ29tcGxldGUsIGFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2ssXG4gICAgICAgIGVkaXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24sIHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSwgdG9nZ2xlVGFza1BpbixcbiAgICAgICAgYWRkSW5zdHJ1Y3Rpb25zQ2hlY2tsaXN0VGFza09iamVjdCwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYWIgPSAodGl0bGUpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFiIH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBub3Rlc0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYXNrID0gKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICB0aXRsZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgdGl0bGUpLCBcbiAgICAgICAgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGRlc2NyaXB0aW9uKSxcbiAgICAgICAgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZHVlRGF0ZSksXG4gICAgICAgIG5vdGVzQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBub3RlcyksXG4gICAgICAgIC8vIGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICAgICAgcGlubmVkQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBwaW5uZWQpLFxuICAgICAgICBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGNvbXBsZXRlZCksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFzayB9OyIsImNvbnN0IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxEdWVEYXRlKSA9PiB7XG4gICAgbGV0IGR1ZURhdGUgPSBpbml0aWFsRHVlRGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza0R1ZURhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZHVlRGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0R1ZURhdGUobmV3RHVlRGF0ZSkge1xuICAgICAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3Qgbm90ZXNCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxOb3RlcykgPT4ge1xuICAgIGxldCBub3RlcyA9IGluaXRpYWxOb3RlcztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza05vdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdGVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrTm90ZXMobmV3Tm90ZXMpIHtcbiAgICAgICAgICAgIG5vdGVzID0gbmV3Tm90ZXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSIsImNvbnN0IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbFBpbm5lZFN0YXRlKSA9PiB7XG4gICAgbGV0IHBpbm5lZCA9IGluaXRpYWxQaW5uZWRTdGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlUGlubmVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAocGlubmVkKSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpbm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwaW5uZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgRE9NVXBkYXRlQ29udHJvbGxlciB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9ldmVudF9idW5kbGVyX29iamVjdFwiO1xuXG5jb25zdCBldmVudEFzc2lnbmVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBhZGRUYWJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGRUYWIpO1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVkaXRCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtdGFiXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFiRWRpdEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmluc2VydFRhYklucHV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWRkVGFiSW5wdXRMaXN0ZW5lciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50QnVuZGxlci51cGRhdGVUYWIpXG4gICAgfVxuICAgIGNvbnN0IGFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYlJlbW92ZUJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVtb3ZlLXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYlJlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZVRhYik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRTd2l0Y2hUYWJMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJTd2l0Y2hCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnN3aXRjaC10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJTd2l0Y2hCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5zd2l0Y2hUYWIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBhZGROZXdUYXNrTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10by1kby10YXNrXCIpO1xuICAgICAgICBuZXdUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIubmV3VGFzayk7XG4gICAgfVxuICAgIGNvbnN0IGFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrUmVtb3ZlQnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1yZW1vdmUtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVUYXNrKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEVkaXRUYXNrTGlzdGVuZXJzID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFZGl0QnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LXRhc2tcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrRWRpdEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmluc2VydFRhc2tJbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFza0lucHV0TGlzdGVuZXIgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudEJ1bmRsZXIudXBkYXRlVGFzayk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVDaGVja2JveGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVja2JveCBvZiB0YXNrQ29tcGxldGVDaGVja2JveGVzKSB7XG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZVRhc2tDb21wbGV0ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFkZC1jaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgbmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmFkZE5ld0NoZWNrbGlzdFRhc2spXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFZGl0QnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LWNoZWNrbGlzdC10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgY2hlY2tsaXN0RWRpdEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkQ2hlY2tsaXN0VGFza0lucHV0TGlzdGVuZXIgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudEJ1bmRsZXIudXBkYXRlQ2hlY2tsaXN0VGFzayk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ZXMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVja2JveCBvZiBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ZXMpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFJlbW92ZUNoZWNrbGlzdFRhc2tMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrUmVtb3ZlQnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVtb3ZlLWNoZWNrbGlzdC10YXNrXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiBjaGVja2xpc3RUYXNrUmVtb3ZlQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIucmVtb3ZlQ2hlY2tsaXN0VGFzayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tQaW5CdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1waW5cIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tQaW5CdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVUYXNrUGluKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLXRhc2stY2hhbmdlLWRpc3BsYXlcIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tUb2dnbGVEaXNwbGF5QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiTGlzdGVuZXIsIGFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lciwgYWRkVGFiSW5wdXRMaXN0ZW5lciwgYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXIsXG4gICAgICAgIGFkZFN3aXRjaFRhYkxpc3RlbmVyLCBhZGROZXdUYXNrTGlzdGVuZXIsIGFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lcixcbiAgICAgICAgYWRkRWRpdFRhc2tMaXN0ZW5lcnMsIGFkZFRhc2tJbnB1dExpc3RlbmVyLCBhZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lcixcbiAgICAgICAgYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyLCBhZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycywgYWRkQ2hlY2tsaXN0VGFza0lucHV0TGlzdGVuZXIsXG4gICAgICAgIGFkZFRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZUxpc3RlbmVyLCBhZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIsIGFkZFRvZ2dsZVRhc2tQaW5MaXN0ZW5lcnMsXG4gICAgICAgIGFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVycywgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IGV2ZW50QXNzaWduZXIgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcbmltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5cbmNvbnN0IERPTUNvbnRyb2xsZXJBZGRFZGl0ID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJUb0RPTSA9IChpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YWJcIik7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgbmV3VGFiTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IG5ld1RhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld1RhYk9iamVjdFRpdGxlID0gbmV3VGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBuZXdUYWJOb2RlLmNsYXNzTGlzdC5hZGQoXCJ0YWItdGl0bGVcIik7XG4gICAgICAgIG5ld1RhYk5vZGUuZGF0YXNldC50YWJJbmRleCA9IGluZGV4O1xuICAgICAgICBuZXdUYWJOb2RlLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzd2l0Y2gtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGFiLW5hbWVcIj5UQUIgTkFNRSBQTEFDRUhPTERFUjwvaDI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhYlwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhYiBuYW1lIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLXRhYlwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIlJlbW92ZSB0YWIgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgdGFiTmFtZURPTSA9IG5ld1RhYk5vZGUucXVlcnlTZWxlY3RvcihcIi50YWItbmFtZVwiKTtcbiAgICAgICAgdGFiTmFtZURPTS50ZXh0Q29udGVudCA9IG5ld1RhYk9iamVjdFRpdGxlO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFiTm9kZSwgYWRkVGFiQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIG5ld1RhYk5vZGU7XG4gICAgfVxuICAgIGNvbnN0IHNldFRhYklucHV0RWxlbWVudFZhbHVlID0gKGV2ZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSB0YWJOYW1lO1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YWItbmFtZS1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICB0YWJFbGVtZW50Lmluc2VydEJlZm9yZShpbnB1dEVsZW1lbnQsIHRhYkVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJOYW1lRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0YWJFbGVtZW50LmRhdGFzZXQudGFiSW5kZXg7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCk7XG4gICAgICAgIGNvbnN0IHRhYk5hbWUgPSB0YWJPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIHRhYkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwic3dpdGNoLXRhYlwiKTtcbiAgICAgICAgY29uc3QgdGFiQnV0dG9uTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgdGFiQnV0dG9uTmFtZS5jbGFzc0xpc3QuYWRkKFwidGFiLW5hbWVcIik7XG4gICAgICAgIHRhYkJ1dHRvbk5hbWUudGV4dENvbnRlbnQgPSB0YWJOYW1lO1xuICAgICAgICB0YWJCdXR0b24uYXBwZW5kQ2hpbGQodGFiQnV0dG9uTmFtZSk7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRhYkJ1dHRvbiwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXREZWZhdWx0Q3VycmVudFRhYkRPTSA9IChpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0b0RvVGFiU2VjdGlvbi5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWItaW5kZXg9JyR7aW5kZXh9J11gKTtcbiAgICAgICAgaWYgKGN1cnJlbnRUYWIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgY3VycmVudFRhYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q3VycmVudFRhYkRPTSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDdXJyZW50VGFiID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgbmV3Q3VycmVudFRhYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYiA9IChmaXJzdFRhYkluZGV4KSA9PiB7XG4gICAgICAgIGlmIChmaXJzdFRhYkluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGZpcnN0VGFiID0gdG9Eb1RhYlNlY3Rpb24ucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiLWluZGV4PScke2ZpcnN0VGFiSW5kZXh9J11gKVxuICAgICAgICBmaXJzdFRhYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBhZGROZXdUYXNrVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3VGFza05vZGUuY2xhc3NMaXN0LmFkZChcInRvLWRvLXRhc2tcIik7XG4gICAgICAgIG5ld1Rhc2tOb2RlLmRhdGFzZXQudGFza0luZGV4ID0gaW5kZXg7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tUaXRsZSA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEZXNjcmlwdGlvbiA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEdWVEYXRlID0gbmV3VGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrTm90ZXMgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICBuZXdUYXNrTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tdGFzay1vdmVydmlld1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby10aXRsZS1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cInRvLWRvLXRpdGxlXCI+VElUTEUgUExBQ0VIT0xERVI8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tcGluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIiBhbHQ9XCJQaW4gdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stdGl0bGUgZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIHRpdGxlIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvLWRvLXJlbW92ZS10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidG8tZG8tY29tcGxldGUtY2hlY2tib3hcIiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLWxhYmVsXCI+Q29tcGxldGVkOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIlwiIGNsYXNzPVwidG8tZG8tY29tcGxldGUtY2hlY2tib3hcIiBpZD1cInRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tdGFzay1jaGFuZ2UtZGlzcGxheVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2hldnJvbi1kb3duLnBuZ1wiIGFsdD1cIkNoYW5nZSB0YXNrIGRpc3BsYXkgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tZHVlLWRhdGVcIj5EVUUgREFURSBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1kdWUtZGF0ZSBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgZHVlIGRhdGUgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tZGVzY3JpcHRpb25cIj5ERVNDUklQVElPTiBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIGRlc2NyaXB0aW9uIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tbm90ZXMtc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tbm90ZXNcIj5OT1RFUyBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLW5vdGVzIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIG5vdGVzIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGFjdGlvbj1cIlwiIGNsYXNzPVwiY2hlY2tsaXN0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrbGlzdC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxlZ2VuZCBjbGFzcz1cImNoZWNrbGlzdC1sYWJlbFwiPkNoZWNrbGlzdDwvbGVnZW5kPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWRkLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGx1cy5wbmdcIiBhbHQ9XCJBZGQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IHRpdGxlRE9NID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby10aXRsZVwiKTtcbiAgICAgICAgdGl0bGVET00udGV4dENvbnRlbnQgPSBuZXdUYXNrVGl0bGU7XG4gICAgICAgIGNvbnN0IGR1ZURhdGVET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWR1ZS1kYXRlXCIpO1xuICAgICAgICBkdWVEYXRlRE9NLnRleHRDb250ZW50ID0gXCJEdWUgT246IFwiICsgbmV3VGFza0R1ZURhdGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uRE9NID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgZGVzY3JpcHRpb25ET00udGV4dENvbnRlbnQgPSBcIkRlc2NyaXB0aW9uOiBcIiArIG5ld1Rhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY29uc3Qgbm90ZXNET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzXCIpO1xuICAgICAgICBub3Rlc0RPTS50ZXh0Q29udGVudCA9IFwiTm90ZXM6IFwiICsgbmV3VGFza05vdGVzO1xuICAgICAgICB0b0RvQ29udGVudC5hcHBlbmRDaGlsZChuZXdUYXNrTm9kZSk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrTm9kZTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFzay1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyLmluc2VydEJlZm9yZShpbnB1dEVsZW1lbnQsIHRhc2tTdWJjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3Qgc2V0VGFza0lucHV0RWxlbWVudFZhbHVlID0gKGV2ZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgYnV0dG9uVHlwZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXRCdXR0b25UeXBlKGV2ZW50KTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250ZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYnV0dG9uVHlwZS5pbmNsdWRlcyhcImVkaXQtdGFzay10aXRsZVwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnQgPSB0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUuaW5jbHVkZXMoXCJlZGl0LXRhc2stZHVlLWRhdGVcIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50ID0gdGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUuaW5jbHVkZXMoXCJlZGl0LXRhc2stZGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50ID0gdGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlLmluY2x1ZGVzKFwiZWRpdC10YXNrLW5vdGVzXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudCA9IHRhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IHRhc2tTdWJjb250ZW50O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0U3ViY29udGFpbmVyVHlwZShldmVudCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGVudEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLXRpdGxlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tUaXRsZSA9IHRhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLXRpdGxlXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gdGFza1RpdGxlO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tZHVlLWRhdGUtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0R1ZURhdGUgPSB0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tZHVlLWRhdGVcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkR1ZSBPbjogXCIgKyB0YXNrRHVlRGF0ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbiA9IHRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkRlc2NyaXB0aW9uOiBcIiArIHRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLW5vdGVzLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tOb3RlcyA9IHRhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tbm90ZXNcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIk5vdGVzOiBcIiArIHRhc2tOb3RlcztcbiAgICAgICAgfTtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGFza1N1YmNvbnRlbnRFbGVtZW50LCB0YXNrU3ViY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBjb25zdCB0b2dnbGVUYXNrRE9NQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY29tcGxldGVDaGVja2JveCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZWRTdGF0ZWQgPSB0YXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgIGlmICh0YXNrQ29tcGxldGVkU3RhdGVkKSB7XG4gICAgICAgICAgICBjb21wbGV0ZUNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGxldGVDaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwidGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9ET00gPSAoZXZlbnQsIG5ld0NoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2sgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhuZXdDaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBuZXdDaGVja2xpc3RUYXNrLmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrQ29tcGxldGVkID0gbmV3Q2hlY2tsaXN0VGFzay5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tOb2RlLmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgbmV3Q2hlY2tsaXN0VGFza05vZGUuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXggPSBuZXdDaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tOb2RlLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke25ld0NoZWNrbGlzdFRhc2tJbmRleH1cIiBjbGFzcz1cImNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIERFU0NSSVBUSU9OIFBMQUNFSE9MREVSXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiRWRpdCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgXG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrQ29tcGxldGVkRWxlbWVudCA9IG5ld0NoZWNrbGlzdFRhc2tOb2RlLnF1ZXJ5U2VsZWN0b3IoYCNjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7bmV3Q2hlY2tsaXN0VGFza0luZGV4fWApO1xuICAgICAgICBpZiAobmV3Q2hlY2tsaXN0VGFza0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgY2hlY2tsaXN0VGFza0NvbXBsZXRlZEVsZW1lbnQuY2hlY2tlZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja2xpc3RUYXNrQ29tcGxldGVkRWxlbWVudC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICAgIGNoZWNrbGlzdEVsZW1lbnQuYXBwZW5kQ2hpbGQobmV3Q2hlY2tsaXN0VGFza05vZGUpO1xuICAgICAgICByZXR1cm4gbmV3Q2hlY2tsaXN0VGFza05vZGU7XG4gICAgfTtcbiAgICBjb25zdCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLmFwcGVuZENoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlID0gKGV2ZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb247XG4gICAgfTtcbiAgICBjb25zdCBpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRDaGVja2xpc3RUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgYGNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtjaGVja2xpc3RUYXNrSW5kZXh9YCk7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24uYXBwZW5kQ2hpbGQoY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveCA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRDaGVja2xpc3RUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jaGVja2VkID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBpZiAoY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94LmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2xpc3QtdGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGFuZ2VQaW5CdXR0b25JbWFnZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBwaW5CdXR0b24gPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBwaW5CdXR0b25JbWFnZSA9IHBpbkJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBpZiAodGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnRJbmRleCA9IHRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICBjb25zdCB0YXNrQ29udGVudFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIGlmICh0YXNrT2JqZWN0LmdldFBpbm5lZFN0YXRlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5waW5uZWQtdGFza1wiKSk7XG4gICAgICAgICAgICBpZiAobGlzdE9mUGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUodGFza0VsZW1lbnQsIHRhc2tDb250ZW50U2VjdGlvbi5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5RW5kSW5kZXggPSBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGlubmVkVGFza0VsZW1lbnQgPSBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHNbYXJyYXlFbmRJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwaW5uZWRUYXNrRWxlbWVudCBvZiBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlubmVkVGFza0VsZW1lbnRJbmRleCA9IHBpbm5lZFRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFza0VsZW1lbnRJbmRleCA8IHBpbm5lZFRhc2tFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUodGFza0VsZW1lbnQsIHBpbm5lZFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBpbm5lZFRhc2tFbGVtZW50ID09PSBsYXN0UGlubmVkVGFza0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQaW5uZWRUYXNrRWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCB0YXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicGlubmVkLXRhc2tcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cyA9IEFycmF5LmZyb20odGFza0NvbnRlbnRTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tdGFzazpub3QoLnBpbm5lZC10YXNrKVwiKSk7XG4gICAgICAgICAgICBpZiAobGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmFwcGVuZENoaWxkKHRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFVucGlubmVkVGFza0VsZW1lbnQgPSBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHVucGlubmVkVGFza0VsZW1lbnQgb2YgbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdW5waW5uZWRUYXNrRWxlbWVudEluZGV4ID0gdW5waW5uZWRUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2tFbGVtZW50SW5kZXggPCB1bnBpbm5lZFRhc2tFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUodGFza0VsZW1lbnQsIHVucGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodW5waW5uZWRUYXNrRWxlbWVudCA9PT0gbGFzdFVucGlubmVkVGFza0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5hcHBlbmRDaGlsZCh0YXNrRWxlbWVudCwgbGFzdFVucGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInBpbm5lZC10YXNrXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgbG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGxpc3RPZlRhc2tzID0gY3VycmVudFRhYk9iamVjdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhc2tJbmRleCBpbiBsaXN0T2ZUYXNrcykge1xuICAgICAgICAgICAgaWYgKGxpc3RPZlRhc2tzW3Rhc2tJbmRleF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2tFbGVtZW50ID0gYWRkTmV3VGFza1RvRE9NKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgZXZlbnRCdW5kbGVyLmFkZFRhc2tMaXN0ZW5lcnMobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHNldFBpbkJ1dHRvbkltYWdlKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICByZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBsb2FkQ2hlY2tsaXN0VGFza3NGcm9tVGFza3MobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRDaGVja2xpc3RUYXNrc0Zyb21UYXNrcyA9IChuZXdUYXNrRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3RcIik7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IG5ld1Rhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGxpc3RPZkNoZWNrbGlzdFRhc2tzID0gY3VycmVudFRhc2tPYmplY3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggaW4gbGlzdE9mQ2hlY2tsaXN0VGFza3MpIHtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZDaGVja2xpc3RUYXNrc1tjaGVja2xpc3RUYXNrSW5kZXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gbGlzdE9mQ2hlY2tsaXN0VGFza3NbY2hlY2tsaXN0VGFza0luZGV4XTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tDb21wbGV0ZWQgPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIG5ld0NoZWNrbGlzdFRhc2tOb2RlLmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleCA9IGNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke2NoZWNrbGlzdFRhc2tJbmRleH1cIiBjbGFzcz1cImNoZWNrbGlzdC1jb21wbGV0ZS1jaGVja2JveFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtjaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERFU0NSSVBUSU9OIFBMQUNFSE9MREVSXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJFZGl0IGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9IG5ld0NoZWNrbGlzdFRhc2tOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LXRhc2stZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrQ29tcGxldGVkRWxlbWVudCA9IG5ld0NoZWNrbGlzdFRhc2tOb2RlLnF1ZXJ5U2VsZWN0b3IoYCNjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7Y2hlY2tsaXN0VGFza0luZGV4fWApO1xuICAgICAgICAgICAgICAgIGlmIChjaGVja2xpc3RUYXNrQ29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tDb21wbGV0ZWRFbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tDb21wbGV0ZWRFbGVtZW50LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNoZWNrbGlzdEVsZW1lbnQuYXBwZW5kQ2hpbGQobmV3Q2hlY2tsaXN0VGFza05vZGUpO1xuICAgICAgICAgICAgICAgIGV2ZW50QnVuZGxlci5hZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzKGNoZWNrbGlzdEVsZW1lbnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHNldFBpbkJ1dHRvbkltYWdlID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgcGluQnV0dG9uID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1waW5cIik7XG4gICAgICAgIGNvbnN0IHBpbkJ1dHRvbkltYWdlID0gcGluQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgICAgIGlmIChjdXJyZW50VGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tcGlubmVkLnBuZ1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdGFza0NvbnRlbnRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBpbm5lZC10YXNrXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYXNrRWxlbWVudCwgdGFza0NvbnRlbnRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWRUYXNrRWxlbWVudEluZGV4ID0gcGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFza0luZGV4IDwgcGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYXNrRWxlbWVudCwgcGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RQaW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBpbm5lZFRhc2tFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5ld1Rhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHRhc2tOb3RlcyA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tbm90ZXMtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgdGFza0NoZWNrbGlzdCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0XCIpO1xuICAgICAgICBjb25zdCBlbGVtZW50c1RvVG9nZ2xlID0gW3Rhc2tEZXNjcmlwdGlvbiwgdGFza05vdGVzLCB0YXNrQ2hlY2tsaXN0XTtcbiAgICAgICAgZWxlbWVudHNUb1RvZ2dsZS5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50Q2xhc3NlcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRDbGFzc2VzLmluY2x1ZGVzKFwiaGlkZS10by1kby1kZXRhaWxzXCIpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImRpc3BsYXktdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiaGlkZS10by1kby1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImRpc3BsYXktdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3Qgcm90YXRlQ2hldnJvbkJ1dHRvbiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RCdXR0b25FbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgYnV0dG9uSW1hZ2UgPSBidXR0b25FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlQ2xhc3MgPSBidXR0b25JbWFnZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcbiAgICAgICAgaWYgKGJ1dHRvbkltYWdlQ2xhc3MgPT09IG51bGwgfHwgYnV0dG9uSW1hZ2VDbGFzcyA9PT0gXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIikge1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LnRvZ2dsZShcInJvdGF0ZS1oaWRlLXRhc2stZGV0YWlsc1wiLCBmYWxzZSk7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbkltYWdlQ2xhc3MgPT09IFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpIHtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJyb3RhdGUtZGlzcGxheS10YXNrLWRldGFpbHNcIik7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QuYWRkKFwicm90YXRlLWhpZGUtdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgbG9hZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2tFbGVtZW50ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzay1pbmRleD0nJHt0YXNrSW5kZXh9J2ApO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3RcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0NvbXBsZXRlZCA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tOb2RlLmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4ID0gY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7Y2hlY2tsaXN0VGFza0luZGV4fVwiIGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtjaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBERVNDUklQVElPTiBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgYFxuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gbmV3Q2hlY2tsaXN0VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0NvbXBsZXRlZEVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKGAjY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke2NoZWNrbGlzdFRhc2tJbmRleH1gKTtcbiAgICAgICAgaWYgKG5ld0NoZWNrbGlzdFRhc2tDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tDb21wbGV0ZWRFbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tsaXN0VGFza0NvbXBsZXRlZEVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBjaGVja2xpc3RFbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoZWNrbGlzdFRhc2tOb2RlKTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tOb2RlO1xuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiVG9ET00sIHNldFRhYklucHV0RWxlbWVudFZhbHVlLFxuICAgICAgICBpbnNlcnRUYWJJbnB1dEVsZW1lbnQsIGluc2VydFRhYk5hbWVFbGVtZW50LCBzZXREZWZhdWx0Q3VycmVudFRhYkRPTSxcbiAgICAgICAgc2V0Q3VycmVudFRhYkRPTSwgc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIsIGFkZE5ld1Rhc2tUb0RPTSxcbiAgICAgICAgaW5zZXJ0VGFza0lucHV0RWxlbWVudCwgc2V0VGFza0lucHV0RWxlbWVudFZhbHVlLCBpbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQsXG4gICAgICAgIHRvZ2dsZVRhc2tET01Db21wbGV0ZSwgYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NLCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LFxuICAgICAgICBzZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUsIGluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQsXG4gICAgICAgIHRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSwgY2hhbmdlUGluQnV0dG9uSW1hZ2UsIHNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbixcbiAgICAgICAgbG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIsIHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscywgcm90YXRlQ2hldnJvbkJ1dHRvbixcbiAgICAgICAgbG9hZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2tFbGVtZW50LCB9O1xufSkoKTtcblxuZXhwb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXRcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcblxuY29uc3Qgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlVGFiRnJvbVRvZG9BcnJheSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0YWJFbGVtZW50LmRhdGFzZXQudGFiSW5kZXg7XG4gICAgICAgIHRvRG9MaXN0LnJlbW92ZVRhc2soaW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFza0Zyb21UYWJBcnJheSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjdXJyZW50VGFiT2JqZWN0LnJlbW92ZVRhc2soaW5kZXgpO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBjb25zdCBjdXJyZW50VGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY3VycmVudFRhc2tPYmplY3QucmVtb3ZlVGFzayhpbmRleCk7XG4gICAgfTtcbiAgICByZXR1cm4geyByZW1vdmVUYWJGcm9tVG9kb0FycmF5LCByZW1vdmVUYXNrRnJvbVRhYkFycmF5LCByZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheSwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcblxuY29uc3QgRE9NQ29udHJvbGxlclJlbW92ZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlVGFiTmFtZUVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGxldCBzd2l0Y2hUYWIgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3dpdGNoLXRhYlwiKVxuICAgICAgICB0YWJFbGVtZW50LnJlbW92ZUNoaWxkKHN3aXRjaFRhYik7XG4gICAgICAgIHN3aXRjaFRhYiA9IG51bGxcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYklucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICB0YWJFbGVtZW50LnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJFbGVtZW50RnJvbURPTSA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgdG9Eb1RhYlNlY3Rpb24ucmVtb3ZlQ2hpbGQodGFiRWxlbWVudCk7XG4gICAgICAgIHRhYkVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVzZXRDdXJyZW50VGFiU3RhdHVzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjdXJyZW50LXRhYlwiKTtcbiAgICAgICAgaWYgKGN1cnJlbnRUYWIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRUYWIucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2tFbGVtZW50RnJvbURPTSA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdG9Eb1Rhc2tTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICB0b0RvVGFza1NlY3Rpb24ucmVtb3ZlQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICB0YXNrRWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250ZW50RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgIHRhc2tTdWJjb250YWluZXIucmVtb3ZlQ2hpbGQodGFza1N1YmNvbnRlbnRFbGVtZW50KTtcbiAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gbnVsbFxuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lci5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGJ1dHRvbkVsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwibGFiZWxcIik7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5yZW1vdmVDaGlsZChjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24pO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWlucHV0XCIpO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tFbGVtZW50RE9NID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY2hlY2tsaXN0RWxlbWVudC5yZW1vdmVDaGlsZChjaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUFsbFRhc2tFbGVtZW50cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0NvbnRlbnRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24ucmVwbGFjZUNoaWxkcmVuKCk7XG4gICAgfTtcbiAgICByZXR1cm4geyByZW1vdmVUYWJOYW1lRWxlbWVudCwgcmVtb3ZlVGFiSW5wdXRFbGVtZW50LCByZW1vdmVUYWJFbGVtZW50RnJvbURPTSxcbiAgICAgICAgcmVzZXRDdXJyZW50VGFiU3RhdHVzLCByZW1vdmVUYXNrRWxlbWVudEZyb21ET00sIHJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00sXG4gICAgICAgIHJlbW92ZVRhc2tJbnB1dEVsZW1lbnQsIHJlbW92ZUNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkRPTSwgcmVtb3ZlQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgcmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00sIHJlbW92ZUFsbFRhc2tFbGVtZW50cywgfVxufSkoKTtcblxuZXhwb3J0IHsgRE9NQ29udHJvbGxlclJlbW92ZSB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcbmltcG9ydCB7IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0X2NvbnRyb2xsZXJfYWRkX2VkaXRfb2JqZWN0XCI7XG5pbXBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vZXZlbnRfYXNzaWduZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0X2NvbnRyb2xsZXJfcmVtb3ZlX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlclJlbW92ZSB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX3JlbW92ZVwiO1xuXG5jb25zdCBldmVudEJ1bmRsZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZFRhYiA9IChldmVudCwgdGFiTmFtZT1cIk5ldyBUYWJcIikgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1RhYlRvVG9kb0FycmF5KHRhYk5hbWUpO1xuICAgICAgICBjb25zdCBuZXdUYWJOb2RlID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3VGFiVG9ET00obmV3VGFiSW5kZXgpO1xuICAgICAgICBhZGRUYWJMaXN0ZW5lcnMobmV3VGFiTm9kZSk7XG4gICAgICAgIGlmIChoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZk9ubHlPbmVUYWIoKSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnNldEZpcnN0VGFiVG9DdXJyZW50VGFiKCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYihmaXJzdFRhYkluZGV4KVxuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tGb3JUYWJJbnB1dEVsZW1lbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYWJJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWJOYW1lRWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZShldmVudCwgaW5wdXRFbGVtZW50KTtcbiAgICAgICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVGFiSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmVkaXRUYWJOYW1lKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYWJOYW1lRWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYklucHV0RWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyKHRhYkVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlVGFiRnJvbVRvZG9BcnJheShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiRWxlbWVudEZyb21ET00oZXZlbnQpO1xuICAgICAgICBpZiAoaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZXYXNDdXJyZW50VGFiKGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnNldEZpcnN0VGFiVG9DdXJyZW50VGFiKCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYihmaXJzdFRhYkluZGV4KVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZldhc0N1cnJlbnRUYWIoZXZlbnQpKSB7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC51cGRhdGVDdXJyZW50VGFiKGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVzZXRDdXJyZW50VGFiU3RhdHVzKCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRDdXJyZW50VGFiRE9NKGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQWxsVGFza0VsZW1lbnRzKCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5sb2FkVGFza3NGcm9tTmV3Q3VycmVudFRhYigpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBuZXdUYXNrID0gKGV2ZW50LCB0aXRsZT1cIk5ldyBUYXNrIFRpdGxlXCIsIGR1ZURhdGU9XCJUYXNrIER1ZSBEYXRlXCIsIGRlc2NyaXB0aW9uPVwiVGFzayBEZXNjcmlwdGlvblwiLCBub3Rlcz1cIlRhc2sgTm90ZXNcIiwgcGlubmVkPWZhbHNlLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFza0luZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuYWRkTmV3VGFza1RvVGFiKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKTtcbiAgICAgICAgY29uc3QgbmV3VGFza05vZGUgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdUYXNrVG9ET00obmV3VGFza0luZGV4KTtcbiAgICAgICAgYWRkVGFza0xpc3RlbmVycyhuZXdUYXNrTm9kZSk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrSW5kZXg7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVUYXNrRnJvbVRhYkFycmF5KGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrRWxlbWVudEZyb21ET00oZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00oZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFza0lucHV0RWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRUYXNrSW5wdXRFbGVtZW50VmFsdWUoZXZlbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRhc2tJbnB1dExpc3RlbmVyKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZVRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuZWRpdFRhc2tPYmplY3RJbmZvKGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhc2tTdWJjb250ZW50RWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhc2tJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza0NvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZVRhc2tDb21wbGV0ZShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZVRhc2tET01Db21wbGV0ZShldmVudCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2soZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrTm9kZSA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTShldmVudCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhuZXdDaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgfTtcbiAgICBjb25zdCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudChldmVudCkpIHtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRE9NKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlKGV2ZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC50b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUoZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0LnJlbW92ZUNoZWNrbGlzdFRhc2tGcm9tVGFza0FycmF5KGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrRWxlbWVudERPTShldmVudCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrUGluID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZVRhc2tQaW4oZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5jaGFuZ2VQaW5CdXR0b25JbWFnZShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbihldmVudCk7XG4gICAgfTtcbiAgICAvLyBjb25zdCBsb2FkVGFza3NGcm9tTmV3Q3VycmVudFRhYiA9ICgpID0+IHtcbiAgICAvLyAgICAgZm9yIChjb25zdCB0YXNrIClcbiAgICAvLyB9O1xuICAgIGNvbnN0IGFkZFRhc2tMaXN0ZW5lcnMgPSAobmV3VGFza05vZGUpID0+IHtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIobmV3VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZEVkaXRUYXNrTGlzdGVuZXJzKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lcihuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMobmV3VGFza05vZGUpO1xuICAgIH07XG4gICAgY29uc3QgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyA9IChuZXdDaGVja2xpc3RUYXNrTm9kZSkgPT4ge1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZEVkaXRDaGVja2xpc3RUYXNrTGlzdGVuZXJzKG5ld0NoZWNrbGlzdFRhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lcihuZXdDaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyKG5ld0NoZWNrbGlzdFRhc2tOb2RlKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyA9IChldmVudCkgPT4ge1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVEaXNwbGF5VGFza0RldGFpbHMoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5yb3RhdGVDaGV2cm9uQnV0dG9uKGV2ZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhYkxpc3RlbmVycyA9IChuZXdUYWJOb2RlKSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyKG5ld1RhYk5vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyKG5ld1RhYk5vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyKG5ld1RhYk5vZGUpO1xuICAgIH07XG4gICAgY29uc3QgbG9hZEluaXRpYWxQYWdlID0gKCkgPT4ge1xuICAgICAgICBhZGRUYWIoZXZlbnQsIFwiSW5zdHJ1Y3Rpb25zXCIpO1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBuZXdUYXNrKGV2ZW50LCBcIlF1aWNrIFRpcHMhIENsaWNrIHRoZSBwaW4gYnV0dG9uIHRvIHBpbiBhIHRhc2sgdG8gdGhlIHRvcCBvZiB0aGUgbGlzdC5cIixcbiAgICAgICAgICAgIGBUb21vcnJvdywgbmV4dCB3ZWVrLCBvciB3aGVuZXZlciB5b3VyIHRhc2sgaXMgZHVlLCB5b3UgY2FuIGFkZCBpdCBoZXJlIVxuICAgICAgICAgICAgQ2xpY2sgdGhlIGFycm93IGJ1dHRvbiB0byB0b2dnbGUgYmV0d2VlbiBzaG93aW5nIGFuZCBoaWRpbmcgdGFzayBkZXRhaWxzLmAsXG4gICAgICAgICAgICBcIkFkZCBhIGRlc2NyaXB0aW9uIG9mIHlvdXIgdGFzayBoZXJlISBDbGljayB0aGUgcGVuY2lsIGJ1dHRvbnMgdG8gZWRpdCB0aGUgdmFyaW91cyBwYXJ0cyBvZiB5b3VyIHRhc2suXCIsXG4gICAgICAgICAgICBcIkpvdCBkb3duIHNvbWUgbm90ZXMgaGVyZSEgTWFyayB5b3VyIHRhc2sgYXMgY29tcGxldGUgd2hlbiB5b3UncmUgZG9uZSwgb3IgcmVtb3ZlIGl0IGZyb20gdGhlIGxpc3QgYnkgY2xpY2tpbmcgdGhlIFggYnV0dG9uLlwiLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICBhZGRJbnN0cnVjdGlvbnNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRJbnN0cnVjdGlvbnNDaGVja2xpc3RUYXNrID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBpbnN0cnVjdGlvbnMgPSBbXG4gICAgICAgICAgICBcIklmIHlvdXIgdGFzayBoYXMgbXVsdGlwbGUgc3RlcHMsIHRyeSBicmVha2luZyB0aGVtIGRvd24gaW50byBhIGNoZWNrbGlzdCEgQ2xpY2sgdGhlIHBsdXMgc2lnbiBidXR0b24gdG8gYWRkIHN0ZXBzIGFzIG5lZWRlZC5cIixcbiAgICAgICAgICAgIFwiSGF2ZSBhIG5ldyB0YXNrIHlvdSB3YW50IHRvIGtlZXAgdHJhY2sgb2Y/IEFkZCBpdCB0byB0aGUgbGlzdCBieSBjbGlja2luZyBvbiB0aGUgJ05ldyBUYXNrJyBidXR0b24gYmVsb3chXCIsXG4gICAgICAgICAgICBgT3JnYW5pemUgdGhlIGRpZmZlcmVudCB0eXBlcyBvZiB0YXNrcyBpbiB5b3VyIGxpZmUgYnkgY3JlYXRpbmcgdGhlbWVkIHRhYnMuIFxuICAgICAgICAgICAgQ3JlYXRlIGEgbmV3IHRhYiBieSBjbGlja2luZyBvbiB0aGUgcGx1cyBzaWduIGJ1dHRvbiBhdCB0aGUgdG9wIG9mIHRoZSBsaXN0LlxuICAgICAgICAgICAgQ2hhbmdlIHRhYnMgYnkgY2xpY2tpbmcgb24gZGlmZmVyZW50IHRhYiBuYW1lcy5gXTtcbiAgICAgICAgaW5zdHJ1Y3Rpb25zLmZvckVhY2goKGluc3RydWN0aW9uc0l0ZW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2tPYmplY3QodGFza0luZGV4LCBpbnN0cnVjdGlvbnNJdGVtKTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tOb2RlID0gRE9NQ29udHJvbGxlckFkZEVkaXQubG9hZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMoY2hlY2tsaXN0VGFza05vZGUpO1xuICAgICAgICB9KVxuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkVGFiLCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQsIHVwZGF0ZVRhYiwgcmVtb3ZlVGFiLCBzd2l0Y2hUYWIsXG4gICAgICAgIG5ld1Rhc2ssIHJlbW92ZVRhc2ssIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsIHVwZGF0ZVRhc2ssIHRvZ2dsZVRhc2tDb21wbGV0ZSxcbiAgICAgICAgYWRkTmV3Q2hlY2tsaXN0VGFzaywgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCwgdXBkYXRlQ2hlY2tsaXN0VGFzayxcbiAgICAgICAgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlLCByZW1vdmVDaGVja2xpc3RUYXNrLCB0b2dnbGVUYXNrUGluLCBhZGRUYXNrTGlzdGVuZXJzLFxuICAgICAgICBhZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzLCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMsIGFkZFRhYkxpc3RlbmVycywgbG9hZEluaXRpYWxQYWdlLCB9O1xufSkoKTtcblxuZXhwb3J0IHsgZXZlbnRCdW5kbGVyIH07IiwiaW1wb3J0IHsgdG9Eb1Rhc2sgfSBmcm9tIFwiLi9vYmplY3RzL3RvZG9fdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL29iamVjdHMvY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9IGZyb20gXCIuL29iamVjdHMvY2hlY2tsaXN0X3Rhc2tfb2JqZWN0XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIHRlc3RpbmcgdG9kbyB0YXNrIG9iamVjdFxuaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2R1ZV9kYXRlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudFwiO1xuXG4vLyB0ZXN0aW5nIGNoZWNrbGlzdCBvYmplY3Rcbi8vIGltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL2NoZWNrbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuLy8gdGVzdGluZyB0YWJzIChhcnJheXMgdGhhdCBjb250YWluIG1hbnkgdG8gZG8gdGFza3MpXG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX3RhYl9vYmplY3RcIjtcblxuLy8gdGVzdGluZyBsaXN0IHRoYXQgY29udGFpbiBldmVyeXRoaW5nXG5pbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL29iamVjdHMvdG9kb19saXN0X29iamVjdFwiO1xuXG4vLyB0ZXN0aW5nIGZvciBET00gY29udHJvbGxlciBvYmplY3RzXG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vb2JqZWN0cy9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vb2JqZWN0cy9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuXG4vLyBsZXQgdGVzdCA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJkZHRlc3RcIik7XG4vLyBjb25zb2xlLmxvZyh0ZXN0KVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGlmICh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIG5vdyB0cnVlXCIpXG4vLyB9IGVsc2Uge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgc3RpbGwgZmFsc2VcIilcbi8vIH1cblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuXG4vLyBpZiAodGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKSB7XG4vLyAgICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBub3cgdHJ1ZVwiKVxuLy8gfSBlbHNlIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIHN0aWxsIGZhbHNlXCIpXG4vLyB9XG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gY29uc29sZS5sb2codGVzdClcblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRUYXNrRGVzY3JpcHRpb24oKSlcbi8vIHRlc3Quc2V0VGFza0Rlc2NyaXB0aW9uKFwid293d2llXCIpXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldFRhc2tEZXNjcmlwdGlvbigpKVxuXG4vLyBsZXQgaW1wb3J0YW50VGFzayA9IHRvRG9UYXNrKFwiTWFrZSBDZXJlYWxcIiwgXCJwYXJ0IG9mIGJyZWFrZmFzdCBwbGFuXCIsIFwidGhpcyBtb3JuaW5nXCIsIFwibWFrZSBzdXJlIHRvIHB1dCBtaWxrIGJhY2sgaW4gZnJpZGdlXCIpO1xuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzaylcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza1RpdGxlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEZXNjcmlwdGlvbigpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRHVlRGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrTm90ZXMoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0UGlubmVkU3RhdGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrVGl0bGUoXCJNYWtlIENoaWNrZW4gQnJvdGhcIilcbi8vIGltcG9ydGFudFRhc2suc2V0VGFza0Rlc2NyaXB0aW9uKFwicmVxdWlyZXMgMSBjaGlja2VuIGFuZCAxIGJyb3RoXCIpXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tEdWVEYXRlKFwiYmVmb3JlIEkgY2F1Z2h0IHRoaXMgY29sZFwiKVxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrTm90ZXMoXCJkb24ndCBzbmVlemUgaW50byBwb3RcIilcbi8vIGltcG9ydGFudFRhc2sudG9nZ2xlUGlubmVkU3RhdGUoKTtcbi8vIGltcG9ydGFudFRhc2sudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcblxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrVGl0bGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEdWVEYXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tOb3RlcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRQaW5uZWRTdGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBpbXBvcnRhbnRUYXNrLmFkZFRhc2sodGVzdClcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG5cblxuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIHRhYjEuYWRkVGFzayhpbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbi8vIGxldCBhbm90aGVySW1wb3J0YW50VGFzayA9IHRvRG9UYXNrKFwiQ2xlYW4gcG90XCIsIFwicGFydCBvZiBjaG9yZXMgcGxhblwiLCBcInRoaXMgYWZ0ZXJub29uXCIsIFwibWFrZSBzdXJlIHRvIHVzZSBzb2FwXCIpO1xuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIHRhYjEuYWRkVGFzayhhbm90aGVySW1wb3J0YW50VGFzaylcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDEpKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMSkuZ2V0VGFza1RpdGxlKCkpXG5cblxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrVGl0bGUoKSlcblxuLy8gLy8gRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWIoMCk7XG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuXG4vLyBsZXQgdGFiMiA9IHRvRG9UYWIoXCJoZWUgaGVlXCIpXG4vLyB0b0RvTGlzdC5hZGRUYXNrKHRhYjIpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuXG4vLyBsZXQgdGFiMSA9IHRvRG9UYWIoXCJEZWZhdWx0IHRlc3RcIilcbi8vIHRvRG9MaXN0LmFkZFRhc2sodGFiMSlcblxuLy8gbGV0IHRhc2sxID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgMFwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIGNvbnNvbGUubG9nKHRhYjEuYWRkVGFzayh0YXNrMSkpXG5cbi8vIGxldCB0YXNrMiA9IHRvRG9UYXNrKFwiTWFrZSBNb25leSBURVNUIEFHQUlOIDFcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIxLmFkZFRhc2sodGFzazIpXG5cbi8vIGxldCB0YXNrMyA9IHRvRG9UYXNrKFwiTWFrZSBNb25leSBURVNUIEFHQUlOIEFHQUlOIDJcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIxLmFkZFRhc2sodGFzazMpXG5cbi8vIGxldCB0YXNrNCA9IHRvRG9UYXNrKFwiTWFrZSBNb25leSBURVNUIEFHQUlOIEFHQUlOIEFHQUlOIDNcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIxLmFkZFRhc2sodGFzazQpXG5cbi8vIGxldCB0YWIyID0gdG9Eb1RhYihcIlRlc3QgZm9yIGxvYWRpbmcgaW4gdGFzayBvYmplY3RzXCIpXG4vLyB0b0RvTGlzdC5hZGRUYXNrKHRhYjIpXG4vLyBsZXQgdGFza0EgPSB0b0RvVGFzayhcIlRFU1QgT0YgVEhFIE9VVERPT1IgV0FSTklORyBTWVNURU1cIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIyLmFkZFRhc2sodGFza0EpXG4vLyBsZXQgdGFza0IgPSB0b0RvVGFzayhcIlRISVMgSVMgT05MWSBBIFRFU1RcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4vLyB0YWIyLmFkZFRhc2sodGFza0IpXG5cbi8vIGxldCBjaGVja2xpc3RUYXNrQSA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIEFcIilcbi8vIHRhc2tBLmFkZFRhc2soY2hlY2tsaXN0VGFza0EpXG4vLyBsZXQgY2hlY2tsaXN0VGFza0IgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBCXCIpXG4vLyB0YXNrQS5hZGRUYXNrKGNoZWNrbGlzdFRhc2tCKVxuLy8gbGV0IGNoZWNrbGlzdFRhc2tDID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgQ1wiKVxuLy8gdGFza0IuYWRkVGFzayhjaGVja2xpc3RUYXNrQylcbi8vIGxldCBjaGVja2xpc3RUYXNrRCA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIERcIilcbi8vIHRhc2tCLmFkZFRhc2soY2hlY2tsaXN0VGFza0QpXG4vLyBsZXQgY2hlY2tsaXN0VGFza0UgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBEXCIpXG4vLyB0YXNrQi5hZGRUYXNrKGNoZWNrbGlzdFRhc2tFKVxuXG4vLyB0YXNrQi5yZW1vdmVUYXNrKDEpXG5cbmV2ZW50QXNzaWduZXIuYWRkTmV3VGFiTGlzdGVuZXIoKTtcbi8vIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lcigpO1xuXG5cblxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tUaXRsZSgpKVxuXG5ET01Db250cm9sbGVyQWRkRWRpdC5zZXREZWZhdWx0Q3VycmVudFRhYkRPTSgwKVxuXG5ldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyKClcblxuZXZlbnRBc3NpZ25lci5hZGROZXdUYXNrTGlzdGVuZXIoKTtcblxuZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVUYXNrQnV0dG9uTGlzdGVuZXIoKTtcblxuZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFza0xpc3RlbmVycygpO1xuXG4vLyBjb25zdCBoZWggPSAoKSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2coXCJibG9vcFwiKVxuLy8gfVxuXG4vLyBjb25zdCBib2kgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpXG4vLyBib2kuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhlaClcblxuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMoKTtcblxuLy8gbGV0IGNoZWNrbGlzdFRhc2sxID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1RcIilcbi8vIHRhc2sxLmFkZFRhc2soY2hlY2tsaXN0VGFzazEpXG5cbmV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyKCk7XG5cbmV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycygpO1xuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lcnMoKTtcblxuZXZlbnRCdW5kbGVyLmxvYWRJbml0aWFsUGFnZSgpOyJdLCJuYW1lcyI6WyJjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCIsIm9iamVjdCIsImNoZWNrbGlzdCIsIk9iamVjdCIsImFzc2lnbiIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsImxlbmd0aCIsInJlbW92ZVRhc2siLCJpbmRleCIsInVuZGVmaW5lZCIsImdldENoZWNrbGlzdFRhc2tzIiwiZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrIiwidG9Eb0xpc3QiLCJjdXJyZW50VGFiIiwiZ2V0Q3VycmVudFRhYkluZGV4Iiwic2V0Q3VycmVudFRhYkluZGV4IiwibmV3Q3VycmVudFRhYiIsImdldEN1cnJlbnRUYWJPYmplY3QiLCJjdXJyZW50VGFiSW5kZXgiLCJ0aXRsZUJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbFRpdGxlIiwidGl0bGUiLCJnZXRUYXNrVGl0bGUiLCJzZXRUYXNrVGl0bGUiLCJuZXdUaXRsZSIsImhlbHBlckZ1bmN0aW9ucyIsImVuc3VyZUNvcnJlY3RUYWJFbGVtZW50IiwiZXZlbnQiLCJ0YWJFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCIsInRhc2tFbGVtZW50IiwiY2xhc3NMaXN0IiwiQXJyYXkiLCJmcm9tIiwiaW5jbHVkZXMiLCJlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyIiwidGFza1N1YmNvbnRhaW5lciIsImdldFRhcmdldFRhc2tPYmplY3QiLCJkYXRhc2V0IiwidGFza0luZGV4IiwiZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQiLCJidXR0b25FbGVtZW50IiwidGFnTmFtZSIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCIsImNoZWNrbGlzdFRhc2tFbGVtZW50IiwiY2hlY2tGb3JUYWJJbnB1dEVsZW1lbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNoZWNrSWZXYXNDdXJyZW50VGFiIiwiY2hlY2tJZk9ubHlPbmVUYWIiLCJ0b0RvVGFiU2VjdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQiLCJnZXRCdXR0b25UeXBlIiwiZ2V0U3ViY29udGFpbmVyVHlwZSIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RFbGVtZW50IiwiY2hlY2tsaXN0RWxlbWVudCIsImNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCIsImdldFRhcmdldENoZWNrbGlzdFRhc2tPYmplY3QiLCJ0YXNrT2JqZWN0IiwiY2hlY2tsaXN0VGFza0luZGV4IiwiZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiZ2V0VGFza0Rlc2NyaXB0aW9uIiwic2V0VGFza0Rlc2NyaXB0aW9uIiwibmV3RGVzY3JpcHRpb24iLCJjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxDb21wbGV0ZWRTdGF0ZSIsImNvbXBsZXRlZCIsInRvZ2dsZUNvbXBsZXRlZFN0YXRlIiwiZ2V0Q29tcGxldGVkU3RhdGUiLCJjaGVja2xpc3RUYXNrT2JqZWN0Iiwib2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QiLCJ0YWJOYW1lIiwibmV3VGFiIiwidG9Eb1RhYiIsInRhYkluZGV4IiwidmFsdWUiLCJ0YWJBcnJheSIsImZpcnN0VGFiIiwidGFiIiwiZHVlRGF0ZSIsIm5vdGVzIiwicGlubmVkIiwibmV3VGFzayIsImluaXRpYWxEdWVEYXRlIiwiZ2V0VGFza0R1ZURhdGUiLCJzZXRUYXNrRHVlRGF0ZSIsIm5ld0R1ZURhdGUiLCJkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsTm90ZXMiLCJnZXRUYXNrTm90ZXMiLCJzZXRUYXNrTm90ZXMiLCJuZXdOb3RlcyIsIm5vdGVzQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsUGlubmVkU3RhdGUiLCJ0b2dnbGVQaW5uZWRTdGF0ZSIsImdldFBpbm5lZFN0YXRlIiwicGlubmVkQmVoYXZpb3JDb21wb25lbnQiLCJ0b0RvVGFzayIsIm5ld1Rhc2tUaXRsZVZhbHVlIiwidGFza1N1YmNvbnRhaW5lclR5cGUiLCJuZXdDaGVja2xpc3RUYXNrIiwibmV3Q2hlY2tsaXN0VGFza0luZGV4IiwibmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uIiwiaW5zdHJ1Y3Rpb25zIiwiZXZlbnRBc3NpZ25lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudEJ1bmRsZXIiLCJhZGRUYWIiLCJzY29wZSIsInRhYkVkaXRCdXR0b25zIiwiYnV0dG9uIiwiaW5zZXJ0VGFiSW5wdXRFbGVtZW50IiwiaW5wdXRFbGVtZW50IiwidXBkYXRlVGFiIiwidGFiUmVtb3ZlQnV0dG9ucyIsInJlbW92ZVRhYiIsInRhYlN3aXRjaEJ1dHRvbnMiLCJzd2l0Y2hUYWIiLCJ0YXNrUmVtb3ZlQnV0dG9ucyIsInRhc2tFZGl0QnV0dG9ucyIsImluc2VydFRhc2tJbnB1dEVsZW1lbnQiLCJ1cGRhdGVUYXNrIiwidGFza0NvbXBsZXRlQ2hlY2tib3hlcyIsImNoZWNrYm94IiwidG9nZ2xlVGFza0NvbXBsZXRlIiwibmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMiLCJhZGROZXdDaGVja2xpc3RUYXNrIiwiY2hlY2tsaXN0RWRpdEJ1dHRvbnMiLCJpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50IiwidXBkYXRlQ2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3hlcyIsInRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSIsImNoZWNrbGlzdFRhc2tSZW1vdmVCdXR0b25zIiwicmVtb3ZlQ2hlY2tsaXN0VGFzayIsInRhc2tQaW5CdXR0b25zIiwidG9nZ2xlVGFza1BpbiIsInRhc2tUb2dnbGVEaXNwbGF5QnV0dG9ucyIsInRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyIsIkRPTUNvbnRyb2xsZXJBZGRFZGl0IiwiYWRkTmV3VGFza1RvRE9NIiwibmV3VGFza09iamVjdCIsInRvRG9Db250ZW50IiwibmV3VGFza05vZGUiLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwibmV3VGFza1RpdGxlIiwibmV3VGFza0Rlc2NyaXB0aW9uIiwibmV3VGFza0R1ZURhdGUiLCJuZXdUYXNrTm90ZXMiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwibG9hZENoZWNrbGlzdFRhc2tzRnJvbVRhc2tzIiwibmV3VGFza0VsZW1lbnQiLCJsaXN0T2ZDaGVja2xpc3RUYXNrcyIsImNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiIsImNoZWNrbGlzdFRhc2tDb21wbGV0ZWQiLCJuZXdDaGVja2xpc3RUYXNrTm9kZSIsImNoZWNrZWQiLCJhZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzIiwic2V0UGluQnV0dG9uSW1hZ2UiLCJjdXJyZW50VGFiT2JqZWN0IiwiY3VycmVudFRhc2tJbmRleCIsImN1cnJlbnRUYXNrT2JqZWN0IiwicGluQnV0dG9uSW1hZ2UiLCJzZXRBdHRyaWJ1dGUiLCJyZWFycmFuZ2VQaW5uZWRUYXNrc1Bvc2l0aW9uIiwidGFza0NvbnRlbnRTZWN0aW9uIiwibGlzdE9mUGlubmVkVGFza0VsZW1lbnRzIiwiaW5zZXJ0QmVmb3JlIiwibGFzdFBpbm5lZFRhc2tFbGVtZW50IiwicGlubmVkVGFza0VsZW1lbnQiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJhZGROZXdUYWJUb0RPTSIsImFkZFRhYkJ1dHRvbiIsIm5ld1RhYk5vZGUiLCJuZXdUYWJPYmplY3RUaXRsZSIsInNldFRhYklucHV0RWxlbWVudFZhbHVlIiwiZmlyc3RDaGlsZCIsImZvY3VzIiwiaW5zZXJ0VGFiTmFtZUVsZW1lbnQiLCJ0YWJCdXR0b24iLCJ0YWJCdXR0b25OYW1lIiwic2V0RGVmYXVsdEN1cnJlbnRUYWJET00iLCJzZXRDdXJyZW50VGFiRE9NIiwic2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIiLCJmaXJzdFRhYkluZGV4Iiwic2V0VGFza0lucHV0RWxlbWVudFZhbHVlIiwiYnV0dG9uVHlwZSIsInRhc2tTdWJjb250ZW50IiwiaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1RpdGxlIiwidGFza0R1ZURhdGUiLCJ0YXNrRGVzY3JpcHRpb24iLCJ0YXNrTm90ZXMiLCJ0b2dnbGVUYXNrRE9NQ29tcGxldGUiLCJjb21wbGV0ZUNoZWNrYm94IiwicmVtb3ZlIiwiYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NIiwibmV3Q2hlY2tsaXN0VGFza0NvbXBsZXRlZCIsImNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiIsInNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSIsImluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQiLCJjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50IiwidG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlIiwiY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveCIsImNoYW5nZVBpbkJ1dHRvbkltYWdlIiwic2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uIiwidGFza0VsZW1lbnRJbmRleCIsImxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzIiwibGFzdFVucGlubmVkVGFza0VsZW1lbnQiLCJ1bnBpbm5lZFRhc2tFbGVtZW50IiwibG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIiLCJsaXN0T2ZUYXNrcyIsImFkZFRhc2tMaXN0ZW5lcnMiLCJmb3JFYWNoIiwiZWxlbWVudCIsInJvdGF0ZUNoZXZyb25CdXR0b24iLCJidXR0b25JbWFnZSIsImJ1dHRvbkltYWdlQ2xhc3MiLCJ0b2dnbGUiLCJsb2FkSW5zdHJ1Y3Rpb25zQ2hlY2tsaXN0VGFza0VsZW1lbnQiLCJvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IiwiRE9NQ29udHJvbGxlclJlbW92ZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInJlcGxhY2VDaGlsZHJlbiIsIm5ld1RhYkluZGV4IiwiYWRkVGFiTGlzdGVuZXJzIiwibmV3VGFza0luZGV4IiwiY29kZSIsImxvYWRJbml0aWFsUGFnZSIsImluc3RydWN0aW9uc0l0ZW0iLCJjaGVja2xpc3RUYXNrTm9kZSIsImFkZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2siXSwic291cmNlUm9vdCI6IiJ9
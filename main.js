(()=>{"use strict";const e=e=>{let t=[];return Object.assign(e,{addTask:e=>(t.push(e),t.length-1),removeTask(e){t[e]=void 0},getChecklistTasks:()=>t,getSpecificChecklistTask:e=>t[e]})},t=(()=>{let s=0;const n=()=>s;let a={getCurrentTabIndex:n,setCurrentTabIndex:e=>{s=e},getCurrentTabObject:()=>{const e=n();return t.getSpecificChecklistTask(e)}};return Object.assign(a,e(a)),a})(),s=(e,t)=>{let s=t;return Object.assign(e,{getTaskTitle:()=>s,setTaskTitle(e){s=e}})},n=(()=>{const e=e=>{let t=e.target.parentElement;for(;"tab-title"!==t.getAttribute("class");)t=t.parentElement;return t},s=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task");)t=t.parentElement,s=Array.from(t.classList);return t},n=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task-subcontainer");)t=t.parentElement,s=Array.from(t.classList);return t},a=e=>{const n=s(e).dataset.taskIndex,a=t.getCurrentTabIndex();return t.getSpecificChecklistTask(a).getSpecificChecklistTask(n)},o=e=>{let t=e.target;for(;"BUTTON"!==t.tagName;)t=t.parentElement;return t},c=e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist-task");)t=t.parentElement,s=Array.from(t.classList);return t};return{ensureCorrectTabElement:e,checkForTabInputElement:t=>"INPUT"===e(t).firstElementChild.tagName,checkIfWasCurrentTab:t=>"current-tab"===e(t).getAttribute("id"),checkIfOnlyOneTab:()=>{const e=document.querySelector(".to-do-tab-section");return 1===Array.from(e.querySelectorAll(".tab-title")).length},ensureCorrectTaskElement:s,ensureCorrectSubcontainer:n,checkForTaskSubcontainerInputElement:e=>"INPUT"===n(e).firstElementChild.tagName,getTargetTaskObject:a,ensureCorrectButtonElement:o,getSubcontainerType:e=>{const t=n(e);return Array.from(t.classList)},ensureCorrectChecklistElement:e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist");)t=t.parentElement,s=Array.from(t.classList);return t},ensureCorrectChecklistTaskElement:c,checkForChecklistTaskInputElement:e=>null!==c(e).querySelector(".checklist-complete-section").querySelector(".checklist-input"),getTargetChecklistTaskObject:e=>{const t=a(e),s=c(e).dataset.checklistTaskIndex;return t.getSpecificChecklistTask(s)},getTaskIndex:e=>s(e).dataset.taskIndex,getChecklistTaskIndex:e=>c(e).dataset.checklistTaskIndex,getTabIndex:t=>e(t).dataset.tabIndex,getNewValue:e=>e.target.value,getButtonType:e=>{const t=o(e),s=Array.from(t.classList);let n;return s.includes("edit-task-title")?n="Title":s.includes("edit-task-due-date")?n="Due Date":s.includes("edit-task-description")?n="Description":s.includes("edit-task-notes")&&(n="Notes"),n},getTaskSubcontainerElement:(e,t)=>{const s=document.querySelector(`[data-task-index='${e}']`);let n;return"Title"===t?n=s.querySelector(".to-do-title-section"):"Due Date"===t?n=s.querySelector(".to-do-due-date-section"):"Description"===t?n=s.querySelector(".to-do-description-section"):"Notes"===t&&(n=s.querySelector(".to-do-notes-section")),n}}})(),a=(e,t)=>{let s=t;return Object.assign(e,{getTaskDescription:()=>s,setTaskDescription(e){s=e}})},o=(e,t)=>{let s=t;return Object.assign(e,{toggleCompletedState(){s=!s},getCompletedState:()=>s})},c=(n="New Tab")=>{const a=(t=>{let n={};return Object.assign(n,s(n,t),e(n)),n})(n);return t.addTask(a)},i=(e,s)=>{t.getSpecificChecklistTask(e).setTaskTitle(s)},r=e=>{t.setCurrentTabIndex(e)},l=()=>{const e=t.getChecklistTasks();let s;for(const n in e)if(void 0!==e[n])return t.setCurrentTabIndex(n),s=n,s},d=(n="New Task Title",c="Task Due Date",i="Task Description",r="Task Notes",l=!1,d=!1)=>{const u=t.getCurrentTabIndex(),k=t.getSpecificChecklistTask(u),T=((t,n,c,i,r,l)=>{let d={};return Object.assign(d,s(d,t),a(d,c),((e,t)=>{let s=t;return Object.assign(e,{getTaskDueDate:()=>s,setTaskDueDate(e){s=e}})})(d,n),((e,t)=>{let s=t;return Object.assign(e,{getTaskNotes:()=>s,setTaskNotes(e){s=e}})})(d,i),((e,t)=>{let s=t;return Object.assign(e,{togglePinnedState(){s=!s},getPinnedState:()=>s})})(d,r),o(d,l),e(d)),d})(n,c,i,r,l,d);return k.addTask(T)},u=e=>{const t=n.getTargetTaskObject(e),s=e.target.value,a=n.getSubcontainerType(e);return a.includes("to-do-title-section")?t.setTaskTitle(s):a.includes("to-do-due-date-section")?t.setTaskDueDate(s):a.includes("to-do-description-section")?t.setTaskDescription(s):a.includes("to-do-notes-section")?t.setTaskNotes(s):void 0},k=e=>{n.getTargetTaskObject(e).toggleCompletedState()},T=(e,s="Checklist Task Description",n=!1)=>{const c=t.getCurrentTabObject().getSpecificChecklistTask(e),i=((e,t)=>{let s={};return Object.assign(s,a(s,e),o(s,t)),s})(s,n);return c.addTask(i)},m=e=>{const t=n.getTargetChecklistTaskObject(e),s=e.target.value;t.setTaskDescription(s)},g=e=>{n.getTargetChecklistTaskObject(e).toggleCompletedState()},p=e=>{n.getTargetTaskObject(e).togglePinnedState()},b=()=>{document.querySelector(".add-tab").addEventListener("click",G.addTab)},h=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-tab"));for(const e of t)e.addEventListener("click",G.insertTabInputElement)},C=e=>{e.addEventListener("keydown",G.updateTab)},f=(e=document)=>{const t=Array.from(e.querySelectorAll(".remove-tab"));for(const e of t)e.addEventListener("click",G.removeTab)},y=(e=document)=>{const t=Array.from(e.querySelectorAll(".switch-tab"));for(const e of t)e.addEventListener("click",G.switchTab)},S=()=>{document.querySelector(".new-to-do-task").addEventListener("click",G.newTask)},E=(e=document)=>{const t=Array.from(e.querySelectorAll(".to-do-remove-task"));for(const e of t)e.addEventListener("click",G.removeTask)},v=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-task"));for(const e of t)e.addEventListener("click",G.insertTaskInputElement)},q=e=>{e.addEventListener("keydown",G.updateTask)},D=(e=document)=>{const t=e.querySelectorAll(".to-do-complete-checkbox");for(const e of t)e.addEventListener("click",G.toggleTaskComplete)},x=(e=document)=>{const t=e.querySelectorAll(".add-checklist-task");for(const e of t)e.addEventListener("click",G.addNewChecklistTask)},I=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-checklist-task"));for(const e of t)e.addEventListener("click",G.insertChecklistTaskInputElement)},L=e=>{e.addEventListener("keydown",G.updateChecklistTask)},O=(e=document)=>{const t=e.querySelectorAll(".checklist-complete-checkbox");for(const e of t)e.addEventListener("click",G.toggleChecklistTaskComplete)},A=(e=document)=>{const t=e.querySelectorAll(".remove-checklist-task");for(const e of t)e.addEventListener("click",G.removeChecklistTask)},w=(e=document)=>{const t=e.querySelectorAll(".to-do-pin");for(const e of t)e.addEventListener("click",G.toggleTaskPin)},N=(e=document)=>{const t=e.querySelectorAll(".to-do-task-change-display");for(const e of t)e.addEventListener("click",G.toggleDisplayTaskDetails)},j=(()=>{const e=e=>{const s=t.getCurrentTabObject().getSpecificChecklistTask(e),n=document.querySelector(".to-do-content"),a=document.createElement("div");a.classList.add("to-do-task"),a.dataset.taskIndex=e;const o=s.getTaskTitle(),c=s.getTaskDescription(),i=s.getTaskDueDate(),r=s.getTaskNotes(),l=`to-do-complete-checkbox-${e}`;return a.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-unpinned.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="ID PLACEHOLDER" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="ID PLACEHOLDER">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <div action="" class="checklist">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </div>\n        ',a.querySelector(".to-do-title").textContent=o,a.querySelector(".to-do-due-date").textContent="Due On: "+i,a.querySelector(".to-do-description").textContent="Description: "+c,a.querySelector(".to-do-notes").textContent="Notes: "+r,n.appendChild(a),a.querySelector("label").setAttribute("for",l),a.querySelector(".to-do-complete-checkbox").setAttribute("id",l),a},s=e=>{const s=document.querySelector(`[data-task-index='${e}']`),n=s.querySelector(".to-do-complete-checkbox");t.getCurrentTabObject().getSpecificChecklistTask(e).getCompletedState()?(n.checked=!0,s.classList.add("task-completed")):(n.checked=!1,s.classList.remove("task-completed"))},a=(e,s)=>{const n=document.querySelector(`[data-task-index='${e}'`).querySelector(".checklist"),a=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s),o=a.getTaskDescription(),c=(a.getCompletedState(),document.createElement("div"));return c.classList.add("checklist-task"),c.dataset.checklistTaskIndex=s,c.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${e}-${s}" class="checklist-complete-checkbox">\n                <label for="checklist-${e}-${s}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,c.querySelector(".checklist-task-description").textContent=o,n.appendChild(c),c},o=(e,s)=>{const n=document.querySelector(`[data-task-index='${e}']`).querySelector(`[data-checklist-task-index='${s}']`).querySelector(".checklist-complete-section").querySelector(".checklist-complete-checkbox"),a=t.getCurrentTabObject().getSpecificChecklistTask(e).getSpecificChecklistTask(s);n.checked=a.getCompletedState(),a.getCompletedState()?n.classList.add("checklist-task-completed"):n.classList.remove("checklist-task-completed")},c=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,a=s.getSpecificChecklistTask(n),o=e.querySelector(".to-do-pin").querySelector("img");a.getPinnedState()?o.setAttribute("src","./assets/pin-pinned.png"):o.setAttribute("src","./assets/pin-unpinned.png")},i=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,a=s.getSpecificChecklistTask(n),o=document.querySelector(".to-do-content");if(a.getPinnedState()){const t=Array.from(document.querySelectorAll(".pinned-task"));if(0===t.length)o.insertBefore(e,o.firstElementChild);else{const s=t[t.length-1];for(const a of t){if(n<a.dataset.taskIndex){o.insertBefore(e,a);break}a===s&&s.insertAdjacentElement("afterend",e)}}e.classList.add("pinned-task")}};return{addNewTabToDOM:e=>{const s=document.querySelector(".add-tab"),n=document.querySelector(".to-do-tab-section"),a=document.createElement("div"),o=t.getSpecificChecklistTask(e).getTaskTitle();return a.classList.add("tab-title"),a.dataset.tabIndex=e,a.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',a.querySelector(".tab-name").textContent=o,n.insertBefore(a,s),a},setTabInputElementValue:e=>{const s=document.querySelector(`[data-tab-index='${e}']`).querySelector("input"),n=t.getSpecificChecklistTask(e).getTaskTitle();s.value=n},insertTabInputElement:e=>{const t=document.querySelector(`[data-tab-index='${e}']`),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),t.insertBefore(s,t.firstChild),s.focus(),s},insertTabNameElement:e=>{const s=document.querySelector(`[data-tab-index='${e}']`),n=t.getSpecificChecklistTask(e).getTaskTitle(),a=document.createElement("button");a.classList.add("switch-tab");const o=document.createElement("h2");return o.classList.add("tab-name"),o.textContent=n,a.appendChild(o),s.insertBefore(a,s.firstChild),s},setDefaultCurrentTabDOM:e=>{const t=document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${e}']`);null!==t&&t.setAttribute("id","current-tab")},setCurrentTabDOM:e=>{document.querySelector(`[data-tab-index='${e}']`).setAttribute("id","current-tab")},setFirstTabToCurrentTab:e=>{void 0!==e&&document.querySelector(`[data-tab-index='${e}']`).setAttribute("id","current-tab")},addNewTaskToDOM:e,insertTaskInputElement:(e,t)=>{const s=n.getTaskSubcontainerElement(e,t),a=document.createElement("input");return a.classList.add("task-input"),a.setAttribute("type","text"),s.insertBefore(a,s.firstChild),a.focus(),a},setTaskInputElementValue:(e,s)=>{const a=n.getTaskSubcontainerElement(e,s).querySelector("input"),o=t.getCurrentTabObject().getSpecificChecklistTask(e);let c;"Title"===s?c=o.getTaskTitle():"Due Date"===s?c=o.getTaskDueDate():"Description"===s?c=o.getTaskDescription():"Notes"===s&&(c=o.getTaskNotes()),a.value=c},insertTaskSubcontentElement:e=>{const t=n.ensureCorrectSubcontainer(e),s=n.getTargetTaskObject(e),a=n.getSubcontainerType(e);let o;if(a.includes("to-do-title-section")){const e=s.getTaskTitle();o=document.createElement("h3"),o.classList.add("to-do-title"),o.textContent=e}else if(a.includes("to-do-due-date-section")){const e=s.getTaskDueDate();o=document.createElement("p"),o.classList.add("to-do-due-date"),o.textContent="Due On: "+e}else if(a.includes("to-do-description-section")){const e=s.getTaskDescription();o=document.createElement("p"),o.classList.add("to-do-description"),o.textContent="Description: "+e}else if(a.includes("to-do-notes-section")){const e=s.getTaskNotes();o=document.createElement("p"),o.classList.add("to-do-notes"),o.textContent="Notes: "+e}t.insertBefore(o,t.firstChild)},toggleTaskDOMComplete:s,addNewChecklistTaskToDOM:a,insertChecklistTaskInputElement:e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section"),s=document.createElement("input");return s.classList.add("checklist-input"),s.setAttribute("type","text"),t.appendChild(s),s.focus(),s},setChecklistTaskInputElementValue:(e,t)=>{const s=n.ensureCorrectChecklistTaskElement(e).dataset.checklistTaskIndex,a=n.getTargetTaskObject(e).getSpecificChecklistTask(s).getTaskDescription();t.value=a},insertChecklistTaskDescriptionElement:e=>{const t=n.ensureCorrectChecklistTaskElement(e),s=t.dataset.checklistTaskIndex,a=t.querySelector(".checklist-complete-section"),o=n.ensureCorrectTaskElement(e).dataset.taskIndex,c=n.getTargetChecklistTaskObject(e).getTaskDescription(),i=document.createElement("label");i.setAttribute("for",`checklist-${o}-${s}`),i.classList.add("checklist-task-description"),i.textContent=c,a.appendChild(i)},toggleChecklistTaskDOMComplete:o,changePinButtonImage:e=>{const s=document.querySelector(`[data-task-index='${e}']`),n=t.getCurrentTabObject().getSpecificChecklistTask(e),a=s.querySelector(".to-do-pin").querySelector("img");n.getPinnedState()?a.setAttribute("src","./assets/pin-pinned.png"):a.setAttribute("src","./assets/pin-unpinned.png")},shiftTaskElementPosition:e=>{const s=document.querySelector(`[data-task-index='${e}']`),n=t.getCurrentTabObject().getSpecificChecklistTask(e),a=s.dataset.taskIndex,o=document.querySelector(".to-do-content");if(n.getPinnedState()){const e=Array.from(document.querySelectorAll(".pinned-task"));if(0===e.length)o.insertBefore(s,o.firstElementChild);else{const t=e[e.length-1];for(const n of e){if(a<n.dataset.taskIndex){o.insertBefore(s,n);break}n===t&&t.insertAdjacentElement("afterend",s)}}s.classList.add("pinned-task")}else{const e=Array.from(o.querySelectorAll(".to-do-task:not(.pinned-task)"));if(0===e.length)o.appendChild(s);else{const t=e[e.length-1];for(const n of e){if(a<n.dataset.taskIndex){o.insertBefore(s,n);break}n===t&&o.appendChild(s,t)}}s.classList.remove("pinned-task")}},loadTasksFromNewCurrentTab:()=>{const n=t.getCurrentTabObject().getChecklistTasks();for(const t in n){const r=n[t];if(void 0!==r){const n=e(t);c(n),i(n),s(t),G.addTaskListeners(n);const l=r.getChecklistTasks();for(const e in l)if(void 0!==l[e]){const s=a(t,e);o(t,e),G.addChecklistTaskListeners(s)}}}},toggleDisplayTaskDetails:e=>{const t=n.ensureCorrectTaskElement(e);[t.querySelector(".to-do-description-section"),t.querySelector(".to-do-notes-section"),t.querySelector(".checklist")].forEach((e=>{Array.from(e.classList).includes("hide-to-do-details")?(e.classList.remove("hide-to-do-details"),e.classList.add("display-to-do-details")):(e.classList.add("hide-to-do-details"),e.classList.remove("display-to-do-details"))}))},rotateChevronButton:e=>{const t=n.ensureCorrectButtonElement(e).querySelector("img"),s=t.getAttribute("class");null===s||"rotate-hide-task-details"===s?(t.classList.toggle("rotate-hide-task-details",!1),t.classList.add("rotate-display-task-details")):"rotate-display-task-details"===s&&(t.classList.remove("rotate-display-task-details"),t.classList.add("rotate-hide-task-details"))}}})(),P=e=>{t.removeTask(e)},$=e=>{t.getCurrentTabObject().removeTask(e)},B=(e,s)=>{t.getCurrentTabObject().getSpecificChecklistTask(e).removeTask(s)},M=e=>{const t=document.querySelector(`[data-tab-index='${e}']`);let s=t.querySelector(".switch-tab");t.removeChild(s),s=null},H=e=>{const t=document.querySelector(`[data-tab-index='${e}']`);let s=t.querySelector("input");t.removeChild(s),s=null},R=e=>{let t=document.querySelector(`[data-tab-index='${e}']`);document.querySelector(".to-do-tab-section").removeChild(t),t=null},F=()=>{const e=document.querySelector("#current-tab");null!==e&&e.removeAttribute("id")},V=e=>{let t=document.querySelector(`[data-task-index='${e}']`);document.querySelector(".to-do-content").removeChild(t),t=null},U=(e,t)=>{const s=n.getTaskSubcontainerElement(e,t);let a=s.firstElementChild;s.removeChild(a),a=null},W=e=>{const t=n.ensureCorrectSubcontainer(e);let s=t.querySelector("input");t.removeChild(s),s=null},z=e=>{const t=n.ensureCorrectButtonElement(e).previousElementSibling;let s=t.querySelector("label");t.removeChild(s),s=null},J=e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section");let s=t.querySelector(".checklist-input");t.removeChild(s),s=null},Q=(e,t)=>{const s=document.querySelector(`[data-task-index='${e}']`).querySelector(".checklist");let n=s.querySelector(`[data-checklist-task-index='${t}']`);s.removeChild(n),n=null},X=()=>{document.querySelector(".to-do-content").replaceChildren()},G=(()=>{const e=(e,t="New Tab")=>{const s=c(t),a=j.addNewTabToDOM(s);if(o(a),n.checkIfOnlyOneTab()){const e=l();j.setFirstTabToCurrentTab(e)}},t=(e,t="New Task Title",n="Task Due Date",a="Task Description",o="Task Notes",c=!1,i=!1)=>{const r=d(t,n,a,o,c,i),l=j.addNewTaskToDOM(r);return s(l),r},s=e=>{E(e),v(e),D(e),x(e),w(e),N(e)},a=e=>{I(e),O(e),A(e)},o=e=>{h(e),f(e),y(e)};return{addTab:e,insertTabInputElement:e=>{if(!n.checkForTabInputElement(e)){const t=n.getTabIndex(e),s=j.insertTabInputElement(t);M(t),j.setTabInputElementValue(t),C(s)}},updateTab:e=>{if("Enter"===e.code){const t=n.getTabIndex(e),s=n.getNewValue(e);i(t,s);const a=j.insertTabNameElement(t);H(t),y(a)}},removeTab:e=>{const t=n.getTabIndex(e);if(P(t),R(t),n.checkIfWasCurrentTab(e)){const e=l();j.setFirstTabToCurrentTab(e)}},switchTab:e=>{if(!n.checkIfWasCurrentTab(e)){const t=n.getTabIndex(e);r(t),F(),j.setCurrentTabDOM(t),X(),j.loadTasksFromNewCurrentTab()}},newTask:t,removeTask:e=>{const t=n.getTaskIndex(e);$(t),V(t)},insertTaskInputElement:e=>{if(!n.checkForTaskSubcontainerInputElement(e)){const t=n.getTaskIndex(e),s=n.getButtonType(e);U(t,s);const a=j.insertTaskInputElement(t,s);j.setTaskInputElementValue(t,s),q(a)}},updateTask:e=>{"Enter"===e.code&&(u(e),j.insertTaskSubcontentElement(e),W(e))},toggleTaskComplete:e=>{const t=n.getTaskIndex(e);k(e),j.toggleTaskDOMComplete(t)},addNewChecklistTask:e=>{const t=n.getTaskIndex(e),s=T(t),o=j.addNewChecklistTaskToDOM(t,s);a(o)},insertChecklistTaskInputElement:e=>{if(!n.checkForChecklistTaskInputElement(e)){z(e);const t=j.insertChecklistTaskInputElement(e);j.setChecklistTaskInputElementValue(e,t),L(t)}},updateChecklistTask:e=>{"Enter"===e.code&&(m(e),j.insertChecklistTaskDescriptionElement(e),J(e))},toggleChecklistTaskComplete:e=>{const t=n.getTaskIndex(e),s=n.getChecklistTaskIndex(e);g(e),j.toggleChecklistTaskDOMComplete(t,s)},removeChecklistTask:e=>{const t=n.getTaskIndex(e),s=n.getChecklistTaskIndex(e);B(t,s),Q(t,s)},toggleTaskPin:e=>{const t=n.getTaskIndex(e);p(e),j.changePinButtonImage(t),j.shiftTaskElementPosition(t)},addTaskListeners:s,addChecklistTaskListeners:a,toggleDisplayTaskDetails:e=>{j.toggleDisplayTaskDetails(e),j.rotateChevronButton(e)},addTabListeners:o,loadInitialPage:()=>{e(event,"Instructions");const s=t(event,"Quick Tips! Click the pin button to pin a task to the top of the list.","Tomorrow, next week, or whenever your task is due, you can add it here!\n            Click the arrow button to toggle between showing and hiding task details.","Add a description of your task here! Click the pencil buttons to edit the various parts of your task.","Jot down some notes here! Mark your task as complete when you're done, or remove it from the list by clicking the X button.",!0,!0);j.toggleTaskDOMComplete(s),j.changePinButtonImage(s),j.shiftTaskElementPosition(s),(e=>{[["If your task has multiple steps, try breaking them down into a checklist! Click the plus sign button to add steps as needed.",!0],["Have a new task you want to keep track of? Add it to the list by clicking on the 'New Task' button below!",!0],["Organize the different types of tasks in your life by creating themed tabs. \n            Create a new tab by clicking on the plus sign button at the top of the list.\n            Change tabs by clicking on different tab names.",!0]].forEach((t=>{const s=T(e,t[0],t[1]),n=j.addNewChecklistTaskToDOM(e,s);j.toggleChecklistTaskDOMComplete(e,s),a(n)}))})(s)}}})();b(),h(),f(),j.setDefaultCurrentTabDOM(0),y(),S(),E(),v(),D(),x(),I(),O(),A(),w(),N(),G.loadInitialPage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFBMENDLElBQzVDLElBQUlDLEVBQVksR0FJaEIsT0FBT0MsT0FBT0MsT0FBT0gsRUFBUSxDQUN6QkksUUFBUUMsSUFDSkosRUFBVUssS0FBS0QsR0FKWkosRUFBVU0sT0FBUyxHQVExQkMsV0FBV0MsR0FDUFIsRUFBVVEsUUFBU0MsQ0FDdkIsRUFDQUMsa0JBQWlCLElBQ05WLEVBRVhXLHlCQUF5QkgsR0FDZFIsRUFBVVEsSUFFdkIsRUNqQkFJLEVBQVcsTUFDYixJQUFJQyxFQUFhLEVBQ2pCLE1BQU1DLEVBQXFCLElBQ2hCRCxFQVVYLElBQUlkLEVBQVMsQ0FDVGUscUJBQ0FDLG1CQVZ3QkMsSUFDeEJILEVBQWFHLENBQWEsRUFVMUJDLG9CQVJ3QixLQUN4QixNQUFNQyxFQUFrQkosSUFFeEIsT0FEeUJGLEVBQVNELHlCQUF5Qk8sRUFDcEMsR0FVM0IsT0FIQWpCLE9BQU9DLE9BQU9ILEVBQ1ZELEVBQXVDQyxJQUVwQ0EsQ0FDVixFQXRCZ0IsR0NIWG9CLEVBQXlCLENBQUNwQixFQUFRcUIsS0FDcEMsSUFBSUMsRUFBUUQsRUFDWixPQUFPbkIsT0FBT0MsT0FBT0gsRUFBUSxDQUN6QnVCLGFBQVksSUFDREQsRUFFWEUsYUFBYUMsR0FDVEgsRUFBUUcsQ0FDWixHQUNGLEVDUEFDLEVBQWtCLE1BQ3BCLE1BQU1DLEVBQTJCQyxJQUM3QixJQUFJQyxFQUFhRCxFQUFNRSxPQUFPQyxjQUM5QixLQUE0QyxjQUFyQ0YsRUFBV0csYUFBYSxVQUMzQkgsRUFBYUEsRUFBV0UsY0FFNUIsT0FBT0YsQ0FBVSxFQTJCZkksRUFBNEJMLElBQzlCLElBQUlNLEVBQWNOLEVBQU1FLE9BQU9DLGNBQzNCSSxFQUFZQyxNQUFNQyxLQUFLSCxFQUFZQyxXQUN2QyxNQUFRQSxFQUFVRyxTQUFTLGVBQ3ZCSixFQUFjQSxFQUFZSCxjQUMxQkksRUFBWUMsTUFBTUMsS0FBS0gsRUFBWUMsV0FFdkMsT0FBT0QsQ0FBVyxFQUVoQkssRUFBNkJYLElBQy9CLElBQUlZLEVBQW1CWixFQUFNRSxPQUFPQyxjQUNoQ0ksRUFBWUMsTUFBTUMsS0FBS0csRUFBaUJMLFdBQzVDLE1BQVFBLEVBQVVHLFNBQVMsNEJBQ3ZCRSxFQUFtQkEsRUFBaUJULGNBQ3BDSSxFQUFZQyxNQUFNQyxLQUFLRyxFQUFpQkwsV0FFNUMsT0FBT0ssQ0FBZ0IsRUFVckJDLEVBQXVCYixJQUN6QixNQUNNbkIsRUFEY3dCLEVBQXlCTCxHQUNuQmMsUUFBUUMsVUFDNUJ4QixFQUFrQk4sRUFBU0UscUJBR2pDLE9BRnlCRixFQUFTRCx5QkFBeUJPLEdBQ3ZCUCx5QkFBeUJILEVBQzVDLEVBRWZtQyxFQUE4QmhCLElBQ2hDLElBQUlpQixFQUFnQmpCLEVBQU1FLE9BQzFCLEtBQWlDLFdBQTFCZSxFQUFjQyxTQUNqQkQsRUFBZ0JBLEVBQWNkLGNBRWxDLE9BQU9jLENBQWEsRUFnQmxCRSxFQUFxQ25CLElBQ3ZDLElBQUlvQixFQUF1QnBCLEVBQU1FLE9BQzdCSyxFQUFZQyxNQUFNQyxLQUFLVyxFQUFxQmIsV0FDaEQsTUFBUUEsRUFBVUcsU0FBUyxtQkFDdkJVLEVBQXVCQSxFQUFxQmpCLGNBQzVDSSxFQUFZQyxNQUFNQyxLQUFLVyxFQUFxQmIsV0FFaEQsT0FBT2EsQ0FBb0IsRUFtRS9CLE1BQU8sQ0FBRXJCLDBCQUF5QnNCLHdCQTFKRHJCLEdBRWdCLFVBRDFCRCxFQUF3QkMsR0FDNUJzQixrQkFBa0JKLFFBd0pzQksscUJBbEo3QnZCLEdBRVksZ0JBRG5CRCxFQUF3QkMsR0FDNUJJLGFBQWEsTUFpSjVCb0Isa0JBM0lzQixLQUN0QixNQUFNQyxFQUFpQkMsU0FBU0MsY0FBYyxzQkFFOUMsT0FBd0IsSUFEUG5CLE1BQU1DLEtBQUtnQixFQUFlRyxpQkFBaUIsZUFDL0NqRCxNQUlaLEVBb0lrQjBCLDJCQUEwQk0sNEJBQzdDa0IscUNBakgwQzdCLEdBRVMsVUFEMUJXLEVBQTBCWCxHQUM5QnNCLGtCQUFrQkosUUErR0RMLHNCQUFxQkcsNkJBQTRCYyxvQkExRjlEOUIsSUFDekIsTUFBTVksRUFBbUJELEVBQTBCWCxHQUVuRCxPQUQ0QlEsTUFBTUMsS0FBS0csRUFBaUJMLFVBQzlCLEVBdUZrRndCLDhCQXJGekUvQixJQUNuQyxJQUFJZ0MsRUFBbUJoQyxFQUFNRSxPQUN6QkssRUFBWUMsTUFBTUMsS0FBS3VCLEVBQWlCekIsV0FDNUMsTUFBUUEsRUFBVUcsU0FBUyxjQUN2QnNCLEVBQW1CQSxFQUFpQjdCLGNBQ3BDSSxFQUFZQyxNQUFNQyxLQUFLdUIsRUFBaUJ6QixXQUU1QyxPQUFPeUIsQ0FBZ0IsRUErRXZCYixvQ0FBbUNjLGtDQXBFSWpDLEdBSWxCLE9BSFFtQixFQUFrQ25CLEdBQ1QyQixjQUFjLCtCQUN0QkEsY0FBYyxvQkFrRTVETyw2QkEzRGtDbEMsSUFDbEMsTUFBTW1DLEVBQWF0QixFQUFvQmIsR0FFakNvQyxFQUR1QmpCLEVBQWtDbkIsR0FDZmMsUUFBUXNCLG1CQUV4RCxPQUQ0QkQsRUFBV25ELHlCQUF5Qm9ELEVBQ3RDLEVBc0RJQyxhQXBEWnJDLEdBQ0VLLEVBQXlCTCxHQUNmYyxRQUFRQyxVQWtETXVCLHNCQS9DakJ0QyxHQUNFbUIsRUFBa0NuQixHQUNmYyxRQUFRc0IsbUJBNkNXRyxZQTFDbER2QyxHQUNFRCxFQUF3QkMsR0FDZmMsUUFBUTBCLFNBd0M0Q0MsWUFyQy9EekMsR0FDQUEsRUFBTUUsT0FBT3dDLE1Bb0MrREMsY0FqQzFFM0MsSUFDbkIsTUFBTWlCLEVBQWdCRCxFQUEyQmhCLEdBQzNDNEMsRUFBZ0JwQyxNQUFNQyxLQUFLUSxFQUFjVixXQUMvQyxJQUFJc0MsRUFVSixPQVRJRCxFQUFjbEMsU0FBUyxtQkFDdkJtQyxFQUFhLFFBQ05ELEVBQWNsQyxTQUFTLHNCQUM5Qm1DLEVBQWEsV0FDTkQsRUFBY2xDLFNBQVMseUJBQzlCbUMsRUFBYSxjQUNORCxFQUFjbEMsU0FBUyxxQkFDOUJtQyxFQUFhLFNBRVZBLENBQVUsRUFvQjJGQywyQkFsQjdFLENBQUMvQixFQUFXOEIsS0FDM0MsTUFBTXZDLEVBQWNvQixTQUFTQyxjQUFjLHFCQUFxQlosT0FDaEUsSUFBSWdDLEVBVUosTUFUbUIsVUFBZkYsRUFDQUUsRUFBMEJ6QyxFQUFZcUIsY0FBYyx3QkFDOUIsYUFBZmtCLEVBQ1BFLEVBQTBCekMsRUFBWXFCLGNBQWMsMkJBQzlCLGdCQUFma0IsRUFDUEUsRUFBMEJ6QyxFQUFZcUIsY0FBYyw4QkFDOUIsVUFBZmtCLElBQ1BFLEVBQTBCekMsRUFBWXFCLGNBQWMseUJBRWpEb0IsQ0FBdUIsRUFPckMsRUF2S3VCLEdDRmxCQyxFQUErQixDQUFDNUUsRUFBUTZFLEtBQzFDLElBQUlDLEVBQWNELEVBQ2xCLE9BQU8zRSxPQUFPQyxPQUFPSCxFQUFRLENBQ3pCK0UsbUJBQWtCLElBQ1BELEVBRVhFLG1CQUFtQkMsR0FDZkgsRUFBY0csQ0FDbEIsR0FDRixFQ09BQyxFQUE2QixDQUFDbEYsRUFBUW1GLEtBQ3hDLElBQUlDLEVBQVlELEVBQ2hCLE9BQU9qRixPQUFPQyxPQUFPSCxFQUFRLENBQ3pCcUYsdUJBRVFELEdBREFBLENBS1IsRUFDQUUsa0JBQWlCLElBQ05GLEdBRWIsRUNyQkFHLEVBQzJCLENBQUNDLEVBQVEsYUFDbEMsTUFBTUMsRUNORSxDQUFDbkUsSUFDYixJQUFJdEIsRUFBUyxDQUFDLEVBS2QsT0FKQUUsT0FBT0MsT0FBT0gsRUFDVm9CLEVBQXVCcEIsRUFBUXNCLEdBQy9CdkIsRUFBdUNDLElBRXBDQSxDQUFNLEVEQU0wRixDQUFRRixHQUN2QixPQUFPM0UsRUFBU1QsUUFBUXFGLEVBQU8sRUFIakNGLEVBS2tCLENBQUNuQixFQUFVdUIsS0FDVDlFLEVBQVNELHlCQUF5QndELEdBQzFDNUMsYUFBYW1FLEVBQVcsRUFQcENKLEVBU3dCbkIsSUFDdEJ2RCxFQUFTRyxtQkFBbUJvRCxFQUFRLEVBVnRDbUIsRUFZOEIsS0FDNUIsTUFBTUssRUFBVy9FLEVBQVNGLG9CQUMxQixJQUFJa0YsRUFDSixJQUFLLE1BQU1DLEtBQU9GLEVBQ2QsUUFBc0JsRixJQUFsQmtGLEVBQVNFLEdBR1QsT0FGQWpGLEVBQVNHLG1CQUFtQjhFLEdBQzVCRCxFQUFXQyxFQUNKRCxDQUVmLEVBckJGTixFQXVCc0IsQ0FBQ2pFLEVBQU0saUJBQWtCeUUsRUFBUSxnQkFBaUJqQixFQUFZLG1CQUFvQmtCLEVBQU0sYUFBY0MsR0FBTyxFQUFPYixHQUFVLEtBQ2xKLE1BQU1qRSxFQUFrQk4sRUFBU0UscUJBQzNCRCxFQUFhRCxFQUFTRCx5QkFBeUJPLEdBQy9DK0UsRUV6QkcsRUFBQzVFLEVBQU95RSxFQUFTakIsRUFBYWtCLEVBQU9DLEVBQVFiLEtBQzFELElBQUlwRixFQUFTLENBQUMsRUFXZCxPQVZBRSxPQUFPQyxPQUFPSCxFQUNWb0IsRUFBdUJwQixFQUFRc0IsR0FDL0JzRCxFQUE2QjVFLEVBQVE4RSxHQ2JaLEVBQUM5RSxFQUFRbUcsS0FDdEMsSUFBSUosRUFBVUksRUFDZCxPQUFPakcsT0FBT0MsT0FBT0gsRUFBUSxDQUN6Qm9HLGVBQWMsSUFDSEwsRUFFWE0sZUFBZUMsR0FDWFAsRUFBVU8sQ0FDZCxHQUNGLEVES0VDLENBQXlCdkcsRUFBUStGLEdFZFYsRUFBQy9GLEVBQVF3RyxLQUNwQyxJQUFJUixFQUFRUSxFQUNaLE9BQU90RyxPQUFPQyxPQUFPSCxFQUFRLENBQ3pCeUcsYUFBWSxJQUNEVCxFQUVYVSxhQUFhQyxHQUNUWCxFQUFRVyxDQUNaLEdBQ0YsRUZNRUMsQ0FBdUI1RyxFQUFRZ0csR0dmUCxFQUFDaEcsRUFBUTZHLEtBQ3JDLElBQUlaLEVBQVNZLEVBQ2IsT0FBTzNHLE9BQU9DLE9BQU9ILEVBQVEsQ0FDekI4RyxvQkFFUWIsR0FEQUEsQ0FLUixFQUNBYyxlQUFjLElBQ0hkLEdBRWIsRUhJRWUsQ0FBd0JoSCxFQUFRaUcsR0FDaENmLEVBQTJCbEYsRUFBUW9GLEdBQ25DckYsRUFBdUNDLElBRXBDQSxDQUFNLEVGYU9pSCxDQUFTM0YsRUFBT3lFLEVBQVNqQixFQUFha0IsRUFBT0MsRUFBUWIsR0FFckUsT0FEcUJ0RSxFQUFXVixRQUFROEYsRUFDckIsRUE1QnJCWCxFQThCMEIzRCxJQUN4QixNQUFNbUMsRUFBYXJDLEVBQWdCZSxvQkFBb0JiLEdBQ2pEc0YsRUFBb0J0RixFQUFNRSxPQUFPd0MsTUFDakM2QyxFQUF1QnpGLEVBQWdCZ0Msb0JBQW9COUIsR0FDakUsT0FBSXVGLEVBQXFCN0UsU0FBUyx1QkFDdkJ5QixFQUFXdkMsYUFBYTBGLEdBQ3hCQyxFQUFxQjdFLFNBQVMsMEJBQzlCeUIsRUFBV3NDLGVBQWVhLEdBQzFCQyxFQUFxQjdFLFNBQVMsNkJBQzlCeUIsRUFBV2lCLG1CQUFtQmtDLEdBQzlCQyxFQUFxQjdFLFNBQVMsdUJBQzlCeUIsRUFBVzJDLGFBQWFRLFFBRDVCLENBRU4sRUExQ0gzQixFQTRDMEIzRCxJQUNMRixFQUFnQmUsb0JBQW9CYixHQUM1Q3lELHNCQUFzQixFQTlDbkNFLEVBZ0RnQyxDQUFDNUMsRUFBV21DLEVBQVksNkJBQThCTSxHQUFVLEtBQzlGLE1BQ01yQixFQURtQmxELEVBQVNLLHNCQUNFTix5QkFBeUIrQixHQUN2RHlFLEVNNUNjLEVBQUN0QyxFQUFhTSxLQUN0QyxJQUFJcEYsRUFBUyxDQUFDLEVBS2QsT0FKQUUsT0FBT0MsT0FBT0gsRUFDVjRFLEVBQTZCNUUsRUFBUThFLEdBQ3JDSSxFQUEyQmxGLEVBQVFvRixJQUVoQ3BGLENBQU0sRU5zQ2dCcUgsQ0FBb0J2QyxFQUFhTSxHQUUxRCxPQUQ4QnJCLEVBQVczRCxRQUFRZ0gsRUFDckIsRUFyRDlCN0IsRUF1RG9DM0QsSUFDbEMsTUFBTXlGLEVBQXNCM0YsRUFBZ0JvQyw2QkFBNkJsQyxHQUNuRTBGLEVBQThCMUYsRUFBTUUsT0FBT3dDLE1BQ2pEK0MsRUFBb0JyQyxtQkFBbUJzQyxFQUE0QixFQTFEckUvQixFQTREbUMzRCxJQUNMRixFQUFnQm9DLDZCQUE2QmxDLEdBQ3JEeUQsc0JBQXNCLEVBOUQ1Q0UsRUFnRXFCM0QsSUFDQUYsRUFBZ0JlLG9CQUFvQmIsR0FDNUNrRixtQkFBbUIsRU90RWhDUyxFQUN3QixLQUNEakUsU0FBU0MsY0FBYyxZQUMvQmlFLGlCQUFpQixRQUFTQyxFQUFhQyxPQUFPLEVBSDdESCxFQUsrQixDQUFDSSxFQUFNckUsWUFDcEMsTUFBTXNFLEVBQWlCeEYsTUFBTUMsS0FBS3NGLEVBQU1uRSxpQkFBaUIsY0FDekQsSUFBSyxNQUFNcUUsS0FBVUQsRUFDakJDLEVBQU9MLGlCQUFpQixRQUFTQyxFQUFhSyxzQkFDbEQsRUFURlAsRUFXMkJRLElBQ3pCQSxFQUFhUCxpQkFBaUIsVUFBV0MsRUFBYU8sVUFBUyxFQVpqRVQsRUFjaUMsQ0FBQ0ksRUFBTXJFLFlBQ3RDLE1BQU0yRSxFQUFtQjdGLE1BQU1DLEtBQUtzRixFQUFNbkUsaUJBQWlCLGdCQUMzRCxJQUFLLE1BQU1xRSxLQUFVSSxFQUNqQkosRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWFTLFVBQ2pELEVBbEJIWCxFQW9CMkIsQ0FBQ0ksRUFBTXJFLFlBQ2hDLE1BQU02RSxFQUFtQi9GLE1BQU1DLEtBQUtzRixFQUFNbkUsaUJBQWlCLGdCQUMzRCxJQUFLLE1BQU1xRSxLQUFVTSxFQUNqQk4sRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWFXLFVBQ2pELEVBeEJIYixFQTBCeUIsS0FDRGpFLFNBQVNDLGNBQWMsbUJBQy9CaUUsaUJBQWlCLFFBQVNDLEVBQWF2QixRQUFRLEVBNUIvRHFCLEVBOEJrQyxDQUFDSSxFQUFNckUsWUFDdkMsTUFBTStFLEVBQW9CakcsTUFBTUMsS0FBS3NGLEVBQU1uRSxpQkFBaUIsdUJBQzVELElBQUssTUFBTXFFLEtBQVVRLEVBQ2pCUixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYWpILFdBQ2pELEVBbENIK0csRUFvQzJCLENBQUNJLEVBQU1yRSxZQUNoQyxNQUFNZ0YsRUFBa0JsRyxNQUFNQyxLQUFLc0YsRUFBTW5FLGlCQUFpQixlQUMxRCxJQUFLLE1BQU1xRSxLQUFVUyxFQUNqQlQsRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWFjLHVCQUNqRCxFQXhDSGhCLEVBMEM0QlEsSUFDMUJBLEVBQWFQLGlCQUFpQixVQUFXQyxFQUFhZSxXQUFXLEVBM0NuRWpCLEVBNkNvQyxDQUFDSSxFQUFNckUsWUFDekMsTUFBTW1GLEVBQXlCZCxFQUFNbkUsaUJBQWlCLDRCQUN0RCxJQUFLLE1BQU1rRixLQUFZRCxFQUNuQkMsRUFBU2xCLGlCQUFpQixRQUFTQyxFQUFha0IsbUJBQ25ELEVBakRIcEIsRUFtRGtDLENBQUNJLEVBQU1yRSxZQUN2QyxNQUFNc0YsRUFBMEJqQixFQUFNbkUsaUJBQWlCLHVCQUN2RCxJQUFLLE1BQU1xRSxLQUFVZSxFQUNqQmYsRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWFvQixvQkFDakQsRUF2REh0QixFQXlEb0MsQ0FBQ0ksRUFBTXJFLFlBQ3pDLE1BQU13RixFQUF1QjFHLE1BQU1DLEtBQUtzRixFQUFNbkUsaUJBQWlCLHlCQUMvRCxJQUFLLE1BQU1xRSxLQUFVaUIsRUFDakJqQixFQUFPTCxpQkFBaUIsUUFBU0MsRUFBYXNCLGdDQUNqRCxFQTdESHhCLEVBK0RxQ1EsSUFDbkNBLEVBQWFQLGlCQUFpQixVQUFXQyxFQUFhdUIsb0JBQW9CLEVBaEU1RXpCLEVBa0U2QyxDQUFDSSxFQUFNckUsWUFDbEQsTUFBTTJGLEVBQThCdEIsRUFBTW5FLGlCQUFpQixnQ0FDM0QsSUFBSyxNQUFNa0YsS0FBWU8sRUFDbkJQLEVBQVNsQixpQkFBaUIsUUFBU0MsRUFBYXlCLDRCQUNuRCxFQXRFSDNCLEVBd0VxQyxDQUFDSSxFQUFNckUsWUFDMUMsTUFBTTZGLEVBQTZCeEIsRUFBTW5FLGlCQUFpQiwwQkFDMUQsSUFBSyxNQUFNcUUsS0FBVXNCLEVBQ2pCdEIsRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWEyQixvQkFDakQsRUE1RUg3QixFQThFZ0MsQ0FBQ0ksRUFBTXJFLFlBQ3JDLE1BQU0rRixFQUFpQjFCLEVBQU1uRSxpQkFBaUIsY0FDOUMsSUFBSyxNQUFNcUUsS0FBVXdCLEVBQ2pCeEIsRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWE2QixjQUNqRCxFQWxGSC9CLEVBb0YyQyxDQUFDSSxFQUFNckUsWUFDaEQsTUFBTWlHLEVBQTJCNUIsRUFBTW5FLGlCQUFpQiw4QkFDeEQsSUFBSyxNQUFNcUUsS0FBVTBCLEVBQ2pCMUIsRUFBT0wsaUJBQWlCLFFBQVNDLEVBQWErQix5QkFDbEQsRUN0RkZDLEVBQXVCLE1BQ3pCLE1Bd0VNQyxFQUFtQmpKLElBQ3JCLE1BQ01rSixFQURtQjlJLEVBQVNLLHNCQUNLTix5QkFBeUJILEdBQzFEbUosRUFBY3RHLFNBQVNDLGNBQWMsa0JBQ3JDc0csRUFBY3ZHLFNBQVN3RyxjQUFjLE9BQzNDRCxFQUFZMUgsVUFBVTRILElBQUksY0FDMUJGLEVBQVluSCxRQUFRQyxVQUFZbEMsRUFDaEMsTUFBTXVKLEVBQWVMLEVBQWNwSSxlQUM3QjBJLEVBQXFCTixFQUFjNUUscUJBQ25DbUYsRUFBaUJQLEVBQWN2RCxpQkFDL0IrRCxFQUFlUixFQUFjbEQsZUFDN0IyRCxFQUFvQiwyQkFBMkIzSixJQWlFckQsT0FoRUFvSixFQUFZUSxVQUFZLGtyRkFtRFBSLEVBQVl0RyxjQUFjLGdCQUNsQytHLFlBQWNOLEVBQ0pILEVBQVl0RyxjQUFjLG1CQUNsQytHLFlBQWMsV0FBYUosRUFDZkwsRUFBWXRHLGNBQWMsc0JBQ2xDK0csWUFBYyxnQkFBa0JMLEVBQzlCSixFQUFZdEcsY0FBYyxnQkFDbEMrRyxZQUFjLFVBQVlILEVBQ25DUCxFQUFZVyxZQUFZVixHQUNGQSxFQUFZdEcsY0FBYyxTQUNsQ2lILGFBQWEsTUFBT0osR0FDVFAsRUFBWXRHLGNBQWMsNEJBQ2xDaUgsYUFBYSxLQUFNSixHQUM3QlAsQ0FBVyxFQXdEaEJZLEVBQXlCOUgsSUFDM0IsTUFBTVQsRUFBY29CLFNBQVNDLGNBQWMscUJBQXFCWixPQUMxRCtILEVBQW1CeEksRUFBWXFCLGNBQWMsNEJBQ3pCMUMsRUFBU0ssc0JBQ0NOLHlCQUF5QitCLEdBQ3RCMkMscUJBRW5Db0YsRUFBaUJDLFNBQVUsRUFDM0J6SSxFQUFZQyxVQUFVNEgsSUFBSSxvQkFFMUJXLEVBQWlCQyxTQUFVLEVBQzNCekksRUFBWUMsVUFBVXlJLE9BQU8sa0JBQ2hDLEVBRUNDLEVBQTJCLENBQUNsSSxFQUFXbUksS0FDekMsTUFDTWxILEVBRGNOLFNBQVNDLGNBQWMscUJBQXFCWixNQUMzQlksY0FBYyxjQUc3QzhELEVBRm1CeEcsRUFBU0ssc0JBQ0VOLHlCQUF5QitCLEdBQ3RCL0IseUJBQXlCa0ssR0FDMUR4RCxFQUE4QkQsRUFBb0J0QyxxQkFFbERnRyxHQUQ0QjFELEVBQW9CL0Isb0JBQ3pCaEMsU0FBU3dHLGNBQWMsUUFvQnBELE9BbkJBaUIsRUFBcUI1SSxVQUFVNEgsSUFBSSxrQkFDbkNnQixFQUFxQnJJLFFBQVFzQixtQkFBcUI4RyxFQUNsREMsRUFBcUJWLFVBQVksZ0hBRWMxSCxLQUFhbUksa0ZBQzVCbkksS0FBYW1JLDZkQVdMQyxFQUFxQnhILGNBQWMsK0JBQzNDK0csWUFBY2hELEVBQzlDMUQsRUFBaUIyRyxZQUFZUSxHQUN0QkEsQ0FBb0IsRUFrQ3pCQyxFQUFpQyxDQUFDckksRUFBV3FCLEtBQy9DLE1BR01pSCxFQUhjM0gsU0FBU0MsY0FBYyxxQkFBcUJaLE9BQ3ZCWSxjQUFjLCtCQUErQlMsT0FDaENULGNBQWMsK0JBQ1RBLGNBQWMsZ0NBR25FOEQsRUFGbUJ4RyxFQUFTSyxzQkFDRU4seUJBQXlCK0IsR0FDdEIvQix5QkFBeUJvRCxHQUNoRWlILEVBQTBCTixRQUFVdEQsRUFBb0IvQixvQkFDcEQrQixFQUFvQi9CLG9CQUNwQjJGLEVBQTBCOUksVUFBVTRILElBQUksNEJBRXhDa0IsRUFBMEI5SSxVQUFVeUksT0FBTywyQkFDOUMsRUFpRkNNLEVBQXFCQyxJQUN2QixNQUFNQyxFQUFtQnZLLEVBQVNLLHNCQUM1Qm1LLEVBQW1CRixFQUFlekksUUFBUUMsVUFDMUMySSxFQUFvQkYsRUFBaUJ4Syx5QkFBeUJ5SyxHQUU5REUsRUFEWUosRUFBZTVILGNBQWMsY0FDZEEsY0FBYyxPQUMzQytILEVBQWtCdkUsaUJBQ2xCd0UsRUFBZWYsYUFBYSxNQUFPLDJCQUVuQ2UsRUFBZWYsYUFBYSxNQUFPLDRCQUN0QyxFQUVDZ0IsRUFBZ0NMLElBQ2xDLE1BQU1DLEVBQW1CdkssRUFBU0ssc0JBQzVCbUssRUFBbUJGLEVBQWV6SSxRQUFRQyxVQUMxQzJJLEVBQW9CRixFQUFpQnhLLHlCQUF5QnlLLEdBQzlESSxFQUFxQm5JLFNBQVNDLGNBQWMsa0JBQ2xELEdBQUkrSCxFQUFrQnZFLGlCQUFrQixDQUNwQyxNQUFNMkUsRUFBMkJ0SixNQUFNQyxLQUFLaUIsU0FBU0UsaUJBQWlCLGlCQUN0RSxHQUF3QyxJQUFwQ2tJLEVBQXlCbkwsT0FDekJrTCxFQUFtQkUsYUFBYVIsRUFBZ0JNLEVBQW1CdkksdUJBQ2hFLENBQ0gsTUFDTTBJLEVBQXdCRixFQURSQSxFQUF5Qm5MLE9BQVMsR0FFeEQsSUFBSyxNQUFNc0wsS0FBcUJILEVBQTBCLENBRXRELEdBQUlMLEVBRDJCUSxFQUFrQm5KLFFBQVFDLFVBQ1YsQ0FDM0M4SSxFQUFtQkUsYUFBYVIsRUFBZ0JVLEdBQ2hELEtBQ0osQ0FBV0EsSUFBc0JELEdBQzdCQSxFQUFzQkUsc0JBQXNCLFdBQVlYLEVBRWhFLENBQ0osQ0FDQUEsRUFBZWhKLFVBQVU0SCxJQUFJLGNBQ2pDLENBQUMsRUErQkwsTUFBTyxDQUFFZ0MsZUF4YmV0TCxJQUNwQixNQUFNdUwsRUFBZTFJLFNBQVNDLGNBQWMsWUFDdENGLEVBQWlCQyxTQUFTQyxjQUFjLHNCQUN4QzBJLEVBQWEzSSxTQUFTd0csY0FBYyxPQUVwQ29DLEVBRGVyTCxFQUFTRCx5QkFBeUJILEdBQ2hCYyxlQWlCdkMsT0FoQkEwSyxFQUFXOUosVUFBVTRILElBQUksYUFDekJrQyxFQUFXdkosUUFBUTBCLFNBQVczRCxFQUM5QndMLEVBQVc1QixVQUFZLDJaQVdKNEIsRUFBVzFJLGNBQWMsYUFDakMrRyxZQUFjNEIsRUFDekI3SSxFQUFlc0ksYUFBYU0sRUFBWUQsR0FDakNDLENBQVUsRUFrYUlFLHdCQWhhUS9ILElBQzdCLE1BQ00yRCxFQURhekUsU0FBU0MsY0FBYyxvQkFBb0JhLE9BQzlCYixjQUFjLFNBRXhDaUMsRUFEWTNFLEVBQVNELHlCQUF5QndELEdBQzFCN0MsZUFDMUJ3RyxFQUFhekQsTUFBUWtCLENBQU8sRUE0WjVCc0Msc0JBMVoyQjFELElBQzNCLE1BQU12QyxFQUFheUIsU0FBU0MsY0FBYyxvQkFBb0JhLE9BQ3hEMkQsRUFBZXpFLFNBQVN3RyxjQUFjLFNBSzVDLE9BSkEvQixFQUFhNUYsVUFBVTRILElBQUksa0JBQzNCaEMsRUFBYXlDLGFBQWEsT0FBUSxRQUNsQzNJLEVBQVc4SixhQUFhNUQsRUFBY2xHLEVBQVd1SyxZQUNqRHJFLEVBQWFzRSxRQUNOdEUsQ0FBWSxFQW1aSXVFLHFCQWpaR2xJLElBQzFCLE1BQU12QyxFQUFheUIsU0FBU0MsY0FBYyxvQkFBb0JhLE9BRXhEb0IsRUFEWTNFLEVBQVNELHlCQUF5QndELEdBQzFCN0MsZUFDcEJnTCxFQUFZakosU0FBU3dHLGNBQWMsVUFDekN5QyxFQUFVcEssVUFBVTRILElBQUksY0FDeEIsTUFBTXlDLEVBQWdCbEosU0FBU3dHLGNBQWMsTUFLN0MsT0FKQTBDLEVBQWNySyxVQUFVNEgsSUFBSSxZQUM1QnlDLEVBQWNsQyxZQUFjOUUsRUFDNUIrRyxFQUFVaEMsWUFBWWlDLEdBQ3RCM0ssRUFBVzhKLGFBQWFZLEVBQVcxSyxFQUFXdUssWUFDdkN2SyxDQUFVLEVBc1k0QjRLLHdCQXBZaEJoTSxJQUM3QixNQUNNSyxFQURpQndDLFNBQVNDLGNBQWMsc0JBQ1pBLGNBQWMsb0JBQW9COUMsT0FDakQsT0FBZkssR0FHSkEsRUFBVzBKLGFBQWEsS0FBTSxjQUFjLEVBK1g1Q2tDLGlCQTdYc0J0SSxJQUNPZCxTQUFTQyxjQUFjLG9CQUFvQmEsT0FDbkRvRyxhQUFhLEtBQU0sY0FBYyxFQTJYcENtQyx3QkF6WFdDLFNBQ1BsTSxJQUFsQmtNLEdBR2F0SixTQUFTQyxjQUFjLG9CQUFvQnFKLE9BQ25EcEMsYUFBYSxLQUFNLGNBQWMsRUFvWENkLGtCQUMzQ25CLHVCQXJTMkIsQ0FBQzVGLEVBQVc4QixLQUN2QyxNQUFNakMsRUFBbUJkLEVBQWdCZ0QsMkJBQTJCL0IsRUFBVzhCLEdBQ3pFc0QsRUFBZXpFLFNBQVN3RyxjQUFjLFNBSzVDLE9BSkEvQixFQUFhNUYsVUFBVTRILElBQUksY0FDM0JoQyxFQUFheUMsYUFBYSxPQUFRLFFBQ2xDaEksRUFBaUJtSixhQUFhNUQsRUFBY3ZGLEVBQWlCNEosWUFDN0RyRSxFQUFhc0UsUUFDTnRFLENBQVksRUE4Uks4RSx5QkE1UkssQ0FBQ2xLLEVBQVc4QixLQUN6QyxNQUNNc0QsRUFEMEJyRyxFQUFnQmdELDJCQUEyQi9CLEVBQVc4QixHQUN6Q2xCLGNBQWMsU0FFckRRLEVBRG1CbEQsRUFBU0ssc0JBQ0VOLHlCQUF5QitCLEdBQzdELElBQUltSyxFQUNlLFVBQWZySSxFQUNBcUksRUFBa0IvSSxFQUFXeEMsZUFDUCxhQUFma0QsRUFDUHFJLEVBQWtCL0ksRUFBV3FDLGlCQUNQLGdCQUFmM0IsRUFDUHFJLEVBQWtCL0ksRUFBV2dCLHFCQUNQLFVBQWZOLElBQ1BxSSxFQUFrQi9JLEVBQVcwQyxnQkFFakNzQixFQUFhekQsTUFBUXdJLENBQWUsRUE2UWNDLDRCQTNRakJuTCxJQUNqQyxNQUFNWSxFQUFtQmQsRUFBZ0JhLDBCQUEwQlgsR0FDN0RtQyxFQUFhckMsRUFBZ0JlLG9CQUFvQmIsR0FDakR1RixFQUF1QnpGLEVBQWdCZ0Msb0JBQW9COUIsR0FDakUsSUFBSW9MLEVBQ0osR0FBSTdGLEVBQXFCN0UsU0FBUyx1QkFBd0IsQ0FDdEQsTUFBTTJLLEVBQVlsSixFQUFXeEMsZUFDN0J5TCxFQUF3QjFKLFNBQVN3RyxjQUFjLE1BQy9Da0QsRUFBc0I3SyxVQUFVNEgsSUFBSSxlQUNwQ2lELEVBQXNCMUMsWUFBYzJDLENBQ3hDLE1BQU8sR0FBSTlGLEVBQXFCN0UsU0FBUywwQkFBMkIsQ0FDaEUsTUFBTTRLLEVBQWNuSixFQUFXcUMsaUJBQy9CNEcsRUFBd0IxSixTQUFTd0csY0FBYyxLQUMvQ2tELEVBQXNCN0ssVUFBVTRILElBQUksa0JBQ3BDaUQsRUFBc0IxQyxZQUFjLFdBQWE0QyxDQUNyRCxNQUFPLEdBQUkvRixFQUFxQjdFLFNBQVMsNkJBQThCLENBQ25FLE1BQU02SyxFQUFrQnBKLEVBQVdnQixxQkFDbkNpSSxFQUF3QjFKLFNBQVN3RyxjQUFjLEtBQy9Da0QsRUFBc0I3SyxVQUFVNEgsSUFBSSxxQkFDcENpRCxFQUFzQjFDLFlBQWMsZ0JBQWtCNkMsQ0FDMUQsTUFBTyxHQUFJaEcsRUFBcUI3RSxTQUFTLHVCQUF3QixDQUM3RCxNQUFNOEssRUFBWXJKLEVBQVcwQyxlQUM3QnVHLEVBQXdCMUosU0FBU3dHLGNBQWMsS0FDL0NrRCxFQUFzQjdLLFVBQVU0SCxJQUFJLGVBQ3BDaUQsRUFBc0IxQyxZQUFjLFVBQVk4QyxDQUNwRCxDQUNBNUssRUFBaUJtSixhQUFhcUIsRUFBdUJ4SyxFQUFpQjRKLFdBQVcsRUFrUGpGM0Isd0JBQXVCSSwyQkFBMEI5QixnQ0FwTVpuSCxJQUNyQyxNQUNNeUwsRUFEdUIzTCxFQUFnQnFCLGtDQUFrQ25CLEdBQ3pCMkIsY0FBYywrQkFDOUR3RSxFQUFlekUsU0FBU3dHLGNBQWMsU0FLNUMsT0FKQS9CLEVBQWE1RixVQUFVNEgsSUFBSSxtQkFDM0JoQyxFQUFheUMsYUFBYSxPQUFRLFFBQ2xDNkMsRUFBeUI5QyxZQUFZeEMsR0FDckNBLEVBQWFzRSxRQUNOdEUsQ0FBWSxFQTZMbkJ1RixrQ0EzTHNDLENBQUMxTCxFQUFPbUcsS0FDOUMsTUFDTS9ELEVBRHVCdEMsRUFBZ0JxQixrQ0FBa0NuQixHQUMvQmMsUUFBUXNCLG1CQUdsRHVKLEVBRmE3TCxFQUFnQmUsb0JBQW9CYixHQUNoQmhCLHlCQUF5Qm9ELEdBQ1hlLHFCQUNyRGdELEVBQWF6RCxNQUFRaUosQ0FBd0IsRUFxTFZDLHNDQW5MUTVMLElBQzNDLE1BQU1vQixFQUF1QnRCLEVBQWdCcUIsa0NBQWtDbkIsR0FDekVvQyxFQUFxQmhCLEVBQXFCTixRQUFRc0IsbUJBQ2xEcUosRUFBMkJySyxFQUFxQk8sY0FBYywrQkFFOURaLEVBRGNqQixFQUFnQk8seUJBQXlCTCxHQUMvQmMsUUFBUUMsVUFFaEM0SyxFQURzQjdMLEVBQWdCb0MsNkJBQTZCbEMsR0FDcEJtRCxxQkFDL0MwSSxFQUFrQ25LLFNBQVN3RyxjQUFjLFNBQy9EMkQsRUFBZ0NqRCxhQUFhLE1BQU8sYUFBYTdILEtBQWFxQixLQUM5RXlKLEVBQWdDdEwsVUFBVTRILElBQUksOEJBQzlDMEQsRUFBZ0NuRCxZQUFjaUQsRUFDOUNGLEVBQXlCOUMsWUFBWWtELEVBQWdDLEVBd0tyRXpDLGlDQUFnQzBDLHFCQXZKTi9LLElBQzFCLE1BQU1ULEVBQWNvQixTQUFTQyxjQUFjLHFCQUFxQlosT0FFMURvQixFQURtQmxELEVBQVNLLHNCQUNFTix5QkFBeUIrQixHQUV2RDRJLEVBRFlySixFQUFZcUIsY0FBYyxjQUNYQSxjQUFjLE9BQzNDUSxFQUFXZ0QsaUJBQ1h3RSxFQUFlZixhQUFhLE1BQU8sMkJBRW5DZSxFQUFlZixhQUFhLE1BQU8sNEJBQ3RDLEVBNklxRG1ELHlCQTNJeEJoTCxJQUM5QixNQUFNVCxFQUFjb0IsU0FBU0MsY0FBYyxxQkFBcUJaLE9BRTFEb0IsRUFEbUJsRCxFQUFTSyxzQkFDRU4seUJBQXlCK0IsR0FDdkRpTCxFQUFtQjFMLEVBQVlRLFFBQVFDLFVBQ3ZDOEksRUFBcUJuSSxTQUFTQyxjQUFjLGtCQUNsRCxHQUFJUSxFQUFXZ0QsaUJBQWtCLENBQzdCLE1BQU0yRSxFQUEyQnRKLE1BQU1DLEtBQUtpQixTQUFTRSxpQkFBaUIsaUJBQ3RFLEdBQXdDLElBQXBDa0ksRUFBeUJuTCxPQUN6QmtMLEVBQW1CRSxhQUFhekosRUFBYXVKLEVBQW1CdkksdUJBQzdELENBQ0gsTUFDTTBJLEVBQXdCRixFQURSQSxFQUF5Qm5MLE9BQVMsR0FFeEQsSUFBSyxNQUFNc0wsS0FBcUJILEVBQTBCLENBRXRELEdBQUlrQyxFQUQyQi9CLEVBQWtCbkosUUFBUUMsVUFDVixDQUMzQzhJLEVBQW1CRSxhQUFhekosRUFBYTJKLEdBQzdDLEtBQ0osQ0FBV0EsSUFBc0JELEdBQzdCQSxFQUFzQkUsc0JBQXNCLFdBQVk1SixFQUVoRSxDQUNKLENBQ0FBLEVBQVlDLFVBQVU0SCxJQUFJLGNBQzlCLEtBQU8sQ0FDSCxNQUFNOEQsRUFBNkJ6TCxNQUFNQyxLQUFLb0osRUFBbUJqSSxpQkFBaUIsa0NBQ2xGLEdBQTBDLElBQXRDcUssRUFBMkJ0TixPQUMzQmtMLEVBQW1CbEIsWUFBWXJJLE9BQzVCLENBQ0gsTUFDTTRMLEVBQTBCRCxFQURWQSxFQUEyQnROLE9BQVMsR0FFMUQsSUFBSyxNQUFNd04sS0FBdUJGLEVBQTRCLENBRTFELEdBQUlELEVBRDZCRyxFQUFvQnJMLFFBQVFDLFVBQ1osQ0FDN0M4SSxFQUFtQkUsYUFBYXpKLEVBQWE2TCxHQUM3QyxLQUNKLENBQVdBLElBQXdCRCxHQUMvQnJDLEVBQW1CbEIsWUFBWXJJLEVBQWE0TCxFQUVwRCxDQUNKLENBQ0E1TCxFQUFZQyxVQUFVeUksT0FBTyxjQUNqQyxDQUFDLEVBa0dEb0QsMkJBaEcrQixLQUMvQixNQUNNQyxFQURtQnBOLEVBQVNLLHNCQUNHUCxvQkFDckMsSUFBSyxNQUFNZ0MsS0FBYXNMLEVBQWEsQ0FDakMsTUFBTWxLLEVBQWFrSyxFQUFZdEwsR0FDL0IsUUFBbUJqQyxJQUFmcUQsRUFBMEIsQ0FDMUIsTUFBTW9ILEVBQWlCekIsRUFBZ0IvRyxHQUN2Q3VJLEVBQWtCQyxHQUNsQkssRUFBNkJMLEdBQzdCVixFQUFzQjlILEdBQ3RCOEUsRUFBYXlHLGlCQUFpQi9DLEdBQzlCLE1BQU1nRCxFQUF1QnBLLEVBQVdwRCxvQkFDeEMsSUFBSyxNQUFNcUQsS0FBc0JtSyxFQUU3QixRQUE0QnpOLElBREF5TixFQUFxQm5LLEdBQ1YsQ0FDbkMsTUFBTW9LLEVBQTBCdkQsRUFBeUJsSSxFQUFXcUIsR0FDcEVnSCxFQUErQnJJLEVBQVdxQixHQUMxQ3lELEVBQWE0RywwQkFBMEJELEVBQzNDLENBRVIsQ0FDSixDQUFDLEVBMkUyQjVFLHlCQXBDRTVILElBQzlCLE1BQU1NLEVBQWNSLEVBQWdCTyx5QkFBeUJMLEdBSXBDLENBSERNLEVBQVlxQixjQUFjLDhCQUNoQ3JCLEVBQVlxQixjQUFjLHdCQUN0QnJCLEVBQVlxQixjQUFjLGVBRS9CK0ssU0FBU0MsSUFDQ25NLE1BQU1DLEtBQUtrTSxFQUFRcE0sV0FDdkJHLFNBQVMsdUJBQ3hCaU0sRUFBUXBNLFVBQVV5SSxPQUFPLHNCQUN6QjJELEVBQVFwTSxVQUFVNEgsSUFBSSwyQkFFdEJ3RSxFQUFRcE0sVUFBVTRILElBQUksc0JBQ3RCd0UsRUFBUXBNLFVBQVV5SSxPQUFPLHlCQUM1QixHQUNILEVBcUJvRDRELG9CQW5CN0I1TSxJQUN6QixNQUNNNk0sRUFEZ0IvTSxFQUFnQmtCLDJCQUEyQmhCLEdBQy9CMkIsY0FBYyxPQUMxQ21MLEVBQW1CRCxFQUFZek0sYUFBYSxTQUN6QixPQUFyQjBNLEdBQWtELDZCQUFyQkEsR0FDN0JELEVBQVl0TSxVQUFVd00sT0FBTyw0QkFBNEIsR0FDekRGLEVBQVl0TSxVQUFVNEgsSUFBSSxnQ0FDRSxnQ0FBckIyRSxJQUNQRCxFQUFZdE0sVUFBVXlJLE9BQU8sK0JBQzdCNkQsRUFBWXRNLFVBQVU0SCxJQUFJLDRCQUM3QixFQVVSLEVBamM0QixHQ0R2QjZFLEVBQzhCeEssSUFDNUJ2RCxFQUFTTCxXQUFXNEQsRUFBUyxFQUYvQndLLEVBSThCak0sSUFDSDlCLEVBQVNLLHNCQUNqQlYsV0FBV21DLEVBQVUsRUFOeENpTSxFQVF1QyxDQUFDak0sRUFBV3FCLEtBQ3hCbkQsRUFBU0ssc0JBQ0VOLHlCQUF5QitCLEdBQ2xEbkMsV0FBV3dELEVBQW1CLEVDWjNDNkssRUFDNEJ6SyxJQUMxQixNQUFNdkMsRUFBYXlCLFNBQVNDLGNBQWMsb0JBQW9CYSxPQUM5RCxJQUFJZ0UsRUFBWXZHLEVBQVcwQixjQUFjLGVBQ3pDMUIsRUFBV2lOLFlBQVkxRyxHQUN2QkEsRUFBWSxNQUxkeUcsRUFPNkJ6SyxJQUMzQixNQUFNdkMsRUFBYXlCLFNBQVNDLGNBQWMsb0JBQW9CYSxPQUM5RCxJQUFJMkQsRUFBZWxHLEVBQVcwQixjQUFjLFNBQzVDMUIsRUFBV2lOLFlBQVkvRyxHQUN2QkEsRUFBZSxJQUFJLEVBWHJCOEcsRUFhK0J6SyxJQUM3QixJQUFJdkMsRUFBYXlCLFNBQVNDLGNBQWMsb0JBQW9CYSxPQUNyQ2QsU0FBU0MsY0FBYyxzQkFDL0J1TCxZQUFZak4sR0FDM0JBLEVBQWEsSUFBSSxFQWpCbkJnTixFQW1CNEIsS0FDMUIsTUFBTS9OLEVBQWF3QyxTQUFTQyxjQUFjLGdCQUN2QixPQUFmekMsR0FDQUEsRUFBV2lPLGdCQUFnQixLQUc5QixFQXpCSEYsRUEyQmdDbE0sSUFDOUIsSUFBSVQsRUFBY29CLFNBQVNDLGNBQWMscUJBQXFCWixPQUN0Q1csU0FBU0MsY0FBYyxrQkFDL0J1TCxZQUFZNU0sR0FDNUJBLEVBQWMsSUFBSSxFQS9CcEIyTSxFQWlDeUMsQ0FBQ2xNLEVBQVc4QixLQUNuRCxNQUFNRSxFQUEwQmpELEVBQWdCZ0QsMkJBQTJCL0IsRUFBVzhCLEdBQ3RGLElBQUl1SSxFQUF3QnJJLEVBQXdCekIsa0JBQ3BEeUIsRUFBd0JtSyxZQUFZOUIsR0FDcENBLEVBQXdCLE1BckMxQjZCLEVBdUM4QmpOLElBQzVCLE1BQU1ZLEVBQW1CZCxFQUFnQmEsMEJBQTBCWCxHQUNuRSxJQUFJbUcsRUFBZXZGLEVBQWlCZSxjQUFjLFNBQ2xEZixFQUFpQnNNLFlBQVkvRyxHQUM3QkEsRUFBZSxJQUFJLEVBM0NyQjhHLEVBNkN5Q2pOLElBQ3ZDLE1BQ015TCxFQURnQjNMLEVBQWdCa0IsMkJBQTJCaEIsR0FDbEJvTix1QkFDL0MsSUFBSXpCLEVBQTJCRixFQUF5QjlKLGNBQWMsU0FDdEU4SixFQUF5QnlCLFlBQVl2QixHQUNyQ0EsRUFBMkIsSUFBSSxFQWxEakNzQixFQW9EdUNqTixJQUNyQyxNQUNNeUwsRUFEdUIzTCxFQUFnQnFCLGtDQUFrQ25CLEdBQ3pCMkIsY0FBYywrQkFDcEUsSUFBSXdFLEVBQWVzRixFQUF5QjlKLGNBQWMsb0JBQzFEOEosRUFBeUJ5QixZQUFZL0csR0FDckNBLEVBQWUsSUFBSSxFQXpEckI4RyxFQTJEb0MsQ0FBQ2xNLEVBQVdxQixLQUM5QyxNQUNNSixFQURjTixTQUFTQyxjQUFjLHFCQUFxQlosT0FDM0JZLGNBQWMsY0FDbkQsSUFBSVAsRUFBdUJZLEVBQWlCTCxjQUFjLCtCQUErQlMsT0FDekZKLEVBQWlCa0wsWUFBWTlMLEdBQzdCQSxFQUF1QixJQUFJLEVBaEU3QjZMLEVBa0U0QixLQUNDdkwsU0FBU0MsY0FBYyxrQkFDL0IwTCxpQkFBaUIsRUM3RHRDeEgsRUFBZSxNQUNqQixNQUFNQyxFQUFTLENBQUM5RixFQUFPNEQsRUFBUSxhQUMzQixNQUFNMEosRUFBYzNKLEVBQW1EQyxHQUNqRXlHLEVBQWF4QyxFQUFxQnNDLGVBQWVtRCxHQUV2RCxHQURBQyxFQUFnQmxELEdBQ1p2SyxFQUFnQjBCLG9CQUFxQixDQUNyQyxNQUFNd0osRUFBZ0JySCxJQUN0QmtFLEVBQXFCa0Qsd0JBQXdCQyxFQUNqRCxDQUFDLEVBd0NDMUcsRUFBVSxDQUFDdEUsRUFBT04sRUFBTSxpQkFBa0J5RSxFQUFRLGdCQUFpQmpCLEVBQVksbUJBQW9Ca0IsRUFBTSxhQUFjQyxHQUFPLEVBQU9iLEdBQVUsS0FDakosTUFBTWdLLEVBQWU3SixFQUE4Q2pFLEVBQU95RSxFQUFTakIsRUFBYWtCLEVBQU9DLEVBQVFiLEdBQ3pHeUUsRUFBY0osRUFBcUJDLGdCQUFnQjBGLEdBRXpELE9BREFsQixFQUFpQnJFLEdBQ1Z1RixDQUFZLEVBdUVqQmxCLEVBQW9CckUsSUFDdEJ0QyxFQUEwQ3NDLEdBQzFDdEMsRUFBbUNzQyxHQUNuQ3RDLEVBQTRDc0MsR0FDNUN0QyxFQUEwQ3NDLEdBQzFDdEMsRUFBd0NzQyxHQUN4Q3RDLEVBQW1Ec0MsRUFBWSxFQUU3RHdFLEVBQTZCdEQsSUFDL0J4RCxFQUE0Q3dELEdBQzVDeEQsRUFBcUR3RCxHQUNyRHhELEVBQTZDd0QsRUFBcUIsRUFNaEVvRSxFQUFtQmxELElBQ3JCMUUsRUFBdUMwRSxHQUN2QzFFLEVBQXlDMEUsR0FDekMxRSxFQUFtQzBFLEVBQVcsRUE0QmxELE1BQU8sQ0FBRXZFLFNBQVFJLHNCQWpLY2xHLElBQzNCLElBQUtGLEVBQWdCdUIsd0JBQXdCckIsR0FBUSxDQUNqRCxNQUFNd0MsRUFBVzFDLEVBQWdCeUMsWUFBWXZDLEdBQ3ZDbUcsRUFBZTBCLEVBQXFCM0Isc0JBQXNCMUQsR0FDaEV5SyxFQUF5Q3pLLEdBQ3pDcUYsRUFBcUIwQyx3QkFBd0IvSCxHQUM3Q21ELEVBQWtDUSxFQUN0QyxDQUFDLEVBMEptQ0MsVUF4SnJCcEcsSUFDZixHQUFtQixVQUFmQSxFQUFNeU4sS0FBa0IsQ0FDeEIsTUFBTWpMLEVBQVcxQyxFQUFnQnlDLFlBQVl2QyxHQUN2QytELEVBQWFqRSxFQUFnQjJDLFlBQVl6QyxHQUMvQzJELEVBQTBDbkIsRUFBVXVCLEdBQ3BELE1BQU05RCxFQUFhNEgsRUFBcUI2QyxxQkFBcUJsSSxHQUM3RHlLLEVBQTBDekssR0FDMUNtRCxFQUFtQzFGLEVBQ3ZDLENBQUMsRUFnSjhDcUcsVUE5SWhDdEcsSUFDZixNQUFNd0MsRUFBVzFDLEVBQWdCeUMsWUFBWXZDLEdBRzdDLEdBRkFnTixFQUFvRHhLLEdBQ3BEeUssRUFBNEN6SyxHQUN4QzFDLEVBQWdCeUIscUJBQXFCdkIsR0FBUSxDQUM3QyxNQUFNZ0wsRUFBZ0JySCxJQUN0QmtFLEVBQXFCa0Qsd0JBQXdCQyxFQUNqRCxHQXVJMER4RSxVQXJJM0N4RyxJQUNmLElBQUtGLEVBQWdCeUIscUJBQXFCdkIsR0FBUSxDQUM5QyxNQUFNd0MsRUFBVzFDLEVBQWdCeUMsWUFBWXZDLEdBQzdDMkQsRUFBK0NuQixHQUMvQ3lLLElBQ0FwRixFQUFxQmlELGlCQUFpQnRJLEdBQ3RDeUssSUFDQXBGLEVBQXFCdUUsNEJBQ3pCLENBQUMsRUE4SEQ5SCxVQUFTMUYsV0F0SE9vQixJQUNoQixNQUFNZSxFQUFZakIsRUFBZ0J1QyxhQUFhckMsR0FDL0NnTixFQUFvRGpNLEdBQ3BEa00sRUFBNkNsTSxFQUFVLEVBbUhsQzRGLHVCQWpITzNHLElBQzVCLElBQUtGLEVBQWdCK0IscUNBQXFDN0IsR0FBUSxDQUM5RCxNQUFNZSxFQUFZakIsRUFBZ0J1QyxhQUFhckMsR0FDekM2QyxFQUFhL0MsRUFBZ0I2QyxjQUFjM0MsR0FDakRpTixFQUF1RGxNLEVBQVc4QixHQUNsRSxNQUFNc0QsRUFBZTBCLEVBQXFCbEIsdUJBQXVCNUYsRUFBVzhCLEdBQzVFZ0YsRUFBcUJvRCx5QkFBeUJsSyxFQUFXOEIsR0FDekQ4QyxFQUFtQ1EsRUFDdkMsQ0FBQyxFQXlHNENTLFdBdkc3QjVHLElBQ0csVUFBZkEsRUFBTXlOLE9BQ045SixFQUFpRDNELEdBQ2pENkgsRUFBcUJzRCw0QkFBNEJuTCxHQUNqRGlOLEVBQTJDak4sR0FDOUMsRUFrR3dEK0csbUJBaEdqQy9HLElBQ3hCLE1BQU1lLEVBQVlqQixFQUFnQnVDLGFBQWFyQyxHQUMvQzJELEVBQWlEM0QsR0FDakQ2SCxFQUFxQmdCLHNCQUFzQjlILEVBQVUsRUE4RnJEa0csb0JBNUZ5QmpILElBQ3pCLE1BQU1lLEVBQVlqQixFQUFnQnVDLGFBQWFyQyxHQUN6Q2tKLEVBQXdCdkYsRUFBd0Q1QyxHQUNoRm9JLEVBQXVCdEIsRUFBcUJvQix5QkFBeUJsSSxFQUFXbUksR0FDdEZ1RCxFQUEwQnRELEVBQXFCLEVBd0YxQmhDLGdDQXRGZ0JuSCxJQUNyQyxJQUFLRixFQUFnQm1DLGtDQUFrQ2pDLEdBQVEsQ0FDM0RpTixFQUFzRGpOLEdBQ3RELE1BQU1tRyxFQUFlMEIsRUFBcUJWLGdDQUFnQ25ILEdBQzFFNkgsRUFBcUI2RCxrQ0FBa0MxTCxFQUFPbUcsR0FDOURSLEVBQTRDUSxFQUNoRCxDQUFDLEVBZ0ZxRGlCLG9CQTlFN0JwSCxJQUNOLFVBQWZBLEVBQU15TixPQUNOOUosRUFBMkQzRCxHQUMzRDZILEVBQXFCK0Qsc0NBQXNDNUwsR0FDM0RpTixFQUFvRGpOLEdBQ3ZELEVBMEVEc0gsNEJBeEVpQ3RILElBQ2pDLE1BQU1lLEVBQVlqQixFQUFnQnVDLGFBQWFyQyxHQUN6Q29DLEVBQXFCdEMsRUFBZ0J3QyxzQkFBc0J0QyxHQUNqRTJELEVBQTBEM0QsR0FDMUQ2SCxFQUFxQnVCLCtCQUErQnJJLEVBQVdxQixFQUFtQixFQW9FckRvRixvQkFsRUp4SCxJQUN6QixNQUFNZSxFQUFZakIsRUFBZ0J1QyxhQUFhckMsR0FDekNvQyxFQUFxQnRDLEVBQWdCd0Msc0JBQXNCdEMsR0FDakVnTixFQUE4RGpNLEVBQVdxQixHQUN6RTZLLEVBQWtEbE0sRUFBV3FCLEVBQW1CLEVBOEQ5QnNGLGNBNUQvQjFILElBQ25CLE1BQU1lLEVBQVlqQixFQUFnQnVDLGFBQWFyQyxHQUMvQzJELEVBQTRDM0QsR0FDNUM2SCxFQUFxQmlFLHFCQUFxQi9LLEdBQzFDOEcsRUFBcUJrRSx5QkFBeUJoTCxFQUFVLEVBd0RTdUwsbUJBQ2pFRyw0QkFBMkI3RSx5QkF2Q0c1SCxJQUM5QjZILEVBQXFCRCx5QkFBeUI1SCxHQUM5QzZILEVBQXFCK0Usb0JBQW9CNU0sRUFBTSxFQXFDTXVOLGtCQUFpQkcsZ0JBOUJsRCxLQUNwQjVILEVBQU85RixNQUFPLGdCQUNkLE1BQU1lLEVBQVl1RCxFQUFRdEUsTUFBTyx5RUFDN0IsaUtBRUEsd0dBQ0EsK0hBQStILEdBQU0sR0FDekk2SCxFQUFxQmdCLHNCQUFzQjlILEdBQzNDOEcsRUFBcUJpRSxxQkFBcUIvSyxHQUMxQzhHLEVBQXFCa0UseUJBQXlCaEwsR0FHYixDQUFDQSxJQUNiLENBQ2pCLENBQUMsZ0lBQWdJLEdBQ2pJLENBQUMsNkdBQTZHLEdBQzlHLENBQUMsdU9BRWlELElBQ3pDMkwsU0FBU2lCLElBQ2xCLE1BQU12TCxFQUFxQnVCLEVBQXdENUMsRUFBVzRNLEVBQWlCLEdBQUlBLEVBQWlCLElBQzlIQyxFQUFvQi9GLEVBQXFCb0IseUJBQXlCbEksRUFBV3FCLEdBQ25GeUYsRUFBcUJ1QiwrQkFBK0JySSxFQUFXcUIsR0FDL0RxSyxFQUEwQm1CLEVBQWtCLEdBQy9DLEVBZERDLENBQTZCOU0sRUFBVSxFQXFCOUMsRUFoTG9CLEdDMklyQjRFLElBRUFBLElBQ0FBLElBV0FrQyxFQUFxQmdELHdCQUF3QixHQUU3Q2xGLElBRUFBLElBRUFBLElBRUFBLElBU0FBLElBQ0FBLElBQ0FBLElBS0FBLElBQ0FBLElBRUFBLElBQ0FBLElBRUFFLEVBQWE2SCxpQiIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvdG9kb19saXN0X29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2hlbHBlcl9mdW5jdGlvbnMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9kZXNjcmlwdGlvbl9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvb2JqZWN0X2NvbnRyb2xsZXJfYWRkX2VkaXRfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvdG9kb190YWJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvdG9kb190YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2R1ZV9kYXRlX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL25vdGVzX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL3Bpbm5lZF9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9jaGVja2xpc3RfdGFza19vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9ldmVudF9hc3NpZ25lcl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9ET01fY29udHJvbGxlcl9hZGRfZWRpdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL29iamVjdF9jb250cm9sbGVyX3JlbW92ZV9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9ET01fY29udHJvbGxlcl9yZW1vdmUuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9ldmVudF9idW5kbGVyX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QpID0+IHtcbiAgICBsZXQgY2hlY2tsaXN0ID0gW107XG4gICAgY29uc3QgZ2V0VGFza0luZGV4ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0Lmxlbmd0aCAtIDE7XG4gICAgfTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgYWRkVGFzayh0YXNrKSB7XG4gICAgICAgICAgICBjaGVja2xpc3QucHVzaCh0YXNrKTtcbiAgICAgICAgICAgIC8vIHJldHVybiBjaGVja2xpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIHJldHVybiBnZXRUYXNrSW5kZXgoKTtcbiAgICAgICAgfSxcbiAgICAgICAgcmVtb3ZlVGFzayhpbmRleCkge1xuICAgICAgICAgICAgY2hlY2tsaXN0W2luZGV4XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0Q2hlY2tsaXN0VGFza3MoKSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tsaXN0O1xuICAgICAgICB9LFxuICAgICAgICBnZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVja2xpc3RbaW5kZXhdO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9OyIsIi8vIGltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG5jb25zdCB0b0RvTGlzdCA9ICgoKSA9PiB7XG4gICAgbGV0IGN1cnJlbnRUYWIgPSAwO1xuICAgIGNvbnN0IGdldEN1cnJlbnRUYWJJbmRleCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUYWI7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDdXJyZW50VGFiSW5kZXggPSAobmV3Q3VycmVudFRhYikgPT4ge1xuICAgICAgICBjdXJyZW50VGFiID0gbmV3Q3VycmVudFRhYjtcbiAgICB9O1xuICAgIGNvbnN0IGdldEN1cnJlbnRUYWJPYmplY3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IGdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50VGFiT2JqZWN0O1xuICAgIH1cbiAgICBsZXQgb2JqZWN0ID0ge1xuICAgICAgICBnZXRDdXJyZW50VGFiSW5kZXgsXG4gICAgICAgIHNldEN1cnJlbnRUYWJJbmRleCxcbiAgICAgICAgZ2V0Q3VycmVudFRhYk9iamVjdFxuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufSkoKTtcblxuZXhwb3J0IHsgdG9Eb0xpc3QgfTsiLCJjb25zdCB0aXRsZUJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbFRpdGxlKSA9PiB7XG4gICAgbGV0IHRpdGxlID0gaW5pdGlhbFRpdGxlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrVGl0bGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tUaXRsZShuZXdUaXRsZSkge1xuICAgICAgICAgICAgdGl0bGUgPSBuZXdUaXRsZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5cbmNvbnN0IGhlbHBlckZ1bmN0aW9ucyA9ICgoKSA9PiB7XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhYkVsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHRhYkVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgIT09IFwidGFiLXRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhYkVsZW1lbnQgPSB0YWJFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YWJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tGb3JUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHRhYkVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQudGFnTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrSWZXYXNDdXJyZW50VGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGlmICh0YWJFbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBcImN1cnJlbnQtdGFiXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tJZk9ubHlPbmVUYWIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYnMgPSBBcnJheS5mcm9tKHRvRG9UYWJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLXRpdGxlXCIpKTtcbiAgICAgICAgaWYgKHRvRG9UYWJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tFbGVtZW50ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIHdoaWxlICghY2xhc3NMaXN0LmluY2x1ZGVzKFwidG8tZG8tdGFza1wiKSkge1xuICAgICAgICAgICAgdGFza0VsZW1lbnQgPSB0YXNrRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFza0VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250YWluZXIgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lci5jbGFzc0xpc3QpXG4gICAgICAgIHdoaWxlICghY2xhc3NMaXN0LmluY2x1ZGVzKFwidG8tZG8tdGFzay1zdWJjb250YWluZXJcIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXIgPSB0YXNrU3ViY29udGFpbmVyLnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXIuY2xhc3NMaXN0KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0YXNrU3ViY29udGFpbmVyO1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tGb3JUYXNrU3ViY29udGFpbmVySW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgaWYgKHRhc2tTdWJjb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQudGFnTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhcmdldFRhc2tPYmplY3QgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiSW5kZXggPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICByZXR1cm4gdGFza09iamVjdDtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RCdXR0b25FbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCBidXR0b25FbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICB3aGlsZSAoYnV0dG9uRWxlbWVudC50YWdOYW1lICE9PSBcIkJVVFRPTlwiKSB7XG4gICAgICAgICAgICBidXR0b25FbGVtZW50ID0gYnV0dG9uRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYnV0dG9uRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFN1YmNvbnRhaW5lclR5cGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBjb25zdCBzdWJjb250YWluZXJDbGFzc2VzID0gQXJyYXkuZnJvbSh0YXNrU3ViY29udGFpbmVyLmNsYXNzTGlzdCk7XG4gICAgICAgIHJldHVybiBzdWJjb250YWluZXJDbGFzc2VzO1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdENoZWNrbGlzdEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IGNoZWNrbGlzdEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKGNoZWNrbGlzdEVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJjaGVja2xpc3RcIikpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdEVsZW1lbnQgPSBjaGVja2xpc3RFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKGNoZWNrbGlzdEVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdEVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbShjaGVja2xpc3RUYXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcImNoZWNrbGlzdC10YXNrXCIpKSB7XG4gICAgICAgICAgICBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKGNoZWNrbGlzdFRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgY2hlY2tGb3JDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWlucHV0XCIpO1xuICAgICAgICBpZiAoaW5wdXRFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhcmdldENoZWNrbGlzdFRhc2tPYmplY3QgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tPYmplY3Q7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrSW5kZXggPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgcmV0dXJuIHRhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGdldENoZWNrbGlzdFRhc2tJbmRleCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza0luZGV4O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFiSW5kZXggPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFiSW5kZXggPSB0YWJFbGVtZW50LmRhdGFzZXQudGFiSW5kZXg7XG4gICAgICAgIHJldHVybiB0YWJJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGdldE5ld1ZhbHVlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICByZXR1cm4gbmV3VmFsdWU7XG4gICAgfTtcbiAgICBjb25zdCBnZXRCdXR0b25UeXBlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkNsYXNzZXMgPSBBcnJheS5mcm9tKGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgbGV0IGJ1dHRvblR5cGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChidXR0b25DbGFzc2VzLmluY2x1ZGVzKFwiZWRpdC10YXNrLXRpdGxlXCIpKSB7XG4gICAgICAgICAgICBidXR0b25UeXBlID0gXCJUaXRsZVwiO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvbkNsYXNzZXMuaW5jbHVkZXMoXCJlZGl0LXRhc2stZHVlLWRhdGVcIikpIHtcbiAgICAgICAgICAgIGJ1dHRvblR5cGUgPSBcIkR1ZSBEYXRlXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uQ2xhc3Nlcy5pbmNsdWRlcyhcImVkaXQtdGFzay1kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgYnV0dG9uVHlwZSA9IFwiRGVzY3JpcHRpb25cIjtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25DbGFzc2VzLmluY2x1ZGVzKFwiZWRpdC10YXNrLW5vdGVzXCIpKSB7XG4gICAgICAgICAgICBidXR0b25UeXBlID0gXCJOb3Rlc1wiO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYnV0dG9uVHlwZTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staW5kZXg9JyR7dGFza0luZGV4fSddYCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUgPT09IFwiVGl0bGVcIikge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRpdGxlLXNlY3Rpb25cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEdWUgRGF0ZVwiKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZHVlLWRhdGUtc2VjdGlvblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkRlc2NyaXB0aW9uXCIpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzLXNlY3Rpb25cIik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YXNrU3ViY29udGFpbmVyRWxlbWVudDtcbiAgICB9O1xuICAgIHJldHVybiB7IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50LCBjaGVja0ZvclRhYklucHV0RWxlbWVudCwgY2hlY2tJZldhc0N1cnJlbnRUYWIsXG4gICAgICAgIGNoZWNrSWZPbmx5T25lVGFiLCBlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQsIGVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIsXG4gICAgICAgIGNoZWNrRm9yVGFza1N1YmNvbnRhaW5lcklucHV0RWxlbWVudCwgZ2V0VGFyZ2V0VGFza09iamVjdCwgZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQsIGdldFN1YmNvbnRhaW5lclR5cGUsIGVuc3VyZUNvcnJlY3RDaGVja2xpc3RFbGVtZW50LFxuICAgICAgICBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQsIGNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdCwgZ2V0VGFza0luZGV4LCBnZXRDaGVja2xpc3RUYXNrSW5kZXgsIGdldFRhYkluZGV4LCBnZXROZXdWYWx1ZSwgZ2V0QnV0dG9uVHlwZSwgZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQsIH07XG59KSgpO1xuXG5leHBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfTsiLCJjb25zdCBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbERlc2NyaXB0aW9uKSA9PiB7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gaW5pdGlhbERlc2NyaXB0aW9uO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRGVzY3JpcHRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tEZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IiwiLy8gb3JpZ2luYWwgd2hlcmUgYWxsIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZ2V0IHJldHVybmVkLCBzbyBubyBwcml2YXRlIGZpZWxkcyAoY29tcGxldGVkIHNob3VsZCBiZSBwcml2YXRlKVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2FuQ29tcGxldGUgPSAob2JqZWN0KSA9PiAoe1xuLy8gICAgIGNvbXBsZXRlZDogZmFsc2UsXG4vLyAgICAgdG9nZ2xlOiAoKSA9PiB7XG4vLyAgICAgICAgIGlmIChvYmplY3QuY29tcGxldGVkKSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gZmFsc2U7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gdHJ1ZTtcbi8vICAgICAgICAgfTtcbi8vICAgICB9LFxuLy8gICAgIGdldENvbXBsZXRlZFN0YXRlOiAoKSA9PiB7XG4vLyAgICAgICAgIHJldHVybiBvYmplY3QuY29tcGxldGVkXG4vLyAgICAgfVxuLy8gfSk7XG5cbmNvbnN0IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbENvbXBsZXRlZFN0YXRlKSA9PiB7XG4gICAgbGV0IGNvbXBsZXRlZCA9IGluaXRpYWxDb21wbGV0ZWRTdGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlQ29tcGxldGVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRDb21wbGV0ZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgdG9Eb1Rhc2sgfSBmcm9tIFwiLi90b2RvX3Rhc2tfb2JqZWN0XCI7XG5pbXBvcnQgeyBjaGVja2xpc3RUYXNrT2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X3Rhc2tfb2JqZWN0XCI7XG5cbmNvbnN0IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0ID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJUb1RvZG9BcnJheSA9ICh0YWJOYW1lPVwiTmV3IFRhYlwiKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RhYiA9IHRvRG9UYWIodGFiTmFtZSk7XG4gICAgICAgIHJldHVybiB0b0RvTGlzdC5hZGRUYXNrKG5ld1RhYik7XG4gICAgfVxuICAgIGNvbnN0IGVkaXRUYWJOYW1lID0gKHRhYkluZGV4LCBuZXdUYWJOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIHRhYk9iamVjdC5zZXRUYXNrVGl0bGUobmV3VGFiTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KHRhYkluZGV4KVxuICAgIH1cbiAgICBjb25zdCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiQXJyYXkgPSB0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICBsZXQgZmlyc3RUYWIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgdGFiIGluIHRhYkFycmF5KSB7XG4gICAgICAgICAgICBpZiAodGFiQXJyYXlbdGFiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KHRhYik7XG4gICAgICAgICAgICAgICAgZmlyc3RUYWIgPSB0YWI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0VGFiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdUYXNrVG9UYWIgPSAodGl0bGU9XCJOZXcgVGFzayBUaXRsZVwiLCBkdWVEYXRlPVwiVGFzayBEdWUgRGF0ZVwiLCBkZXNjcmlwdGlvbj1cIlRhc2sgRGVzY3JpcHRpb25cIiwgbm90ZXM9XCJUYXNrIE5vdGVzXCIsIHBpbm5lZD1mYWxzZSwgY29tcGxldGVkPWZhbHNlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2sgPSB0b0RvVGFzayh0aXRsZSwgZHVlRGF0ZSwgZGVzY3JpcHRpb24sIG5vdGVzLCBwaW5uZWQsIGNvbXBsZXRlZCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IGN1cnJlbnRUYWIuYWRkVGFzayhuZXdUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGVkaXRUYXNrT2JqZWN0SW5mbyA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdUYXNrVGl0bGVWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0U3ViY29udGFpbmVyVHlwZShldmVudCk7XG4gICAgICAgIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLXRpdGxlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrT2JqZWN0LnNldFRhc2tUaXRsZShuZXdUYXNrVGl0bGVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iamVjdC5zZXRUYXNrRHVlRGF0ZShuZXdUYXNrVGl0bGVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iamVjdC5zZXRUYXNrRGVzY3JpcHRpb24obmV3VGFza1RpdGxlVmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tbm90ZXMtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tPYmplY3Quc2V0VGFza05vdGVzKG5ld1Rhc2tUaXRsZVZhbHVlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICB0YXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrID0gKHRhc2tJbmRleCwgZGVzY3JpcHRpb249XCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvblwiLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2sgPSBjaGVja2xpc3RUYXNrT2JqZWN0KGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrSW5kZXggPSB0YXNrT2JqZWN0LmFkZFRhc2sobmV3Q2hlY2tsaXN0VGFzayk7XG4gICAgICAgIHJldHVybiBuZXdDaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBlZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgY2hlY2tsaXN0VGFza09iamVjdC5zZXRUYXNrRGVzY3JpcHRpb24obmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldENoZWNrbGlzdFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjaGVja2xpc3RUYXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrUGluID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIHRhc2tPYmplY3QudG9nZ2xlUGlubmVkU3RhdGUoKTtcbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYlRvVG9kb0FycmF5LCBlZGl0VGFiTmFtZSwgdXBkYXRlQ3VycmVudFRhYiwgc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIsXG4gICAgICAgIGFkZE5ld1Rhc2tUb1RhYiwgZWRpdFRhc2tPYmplY3RJbmZvLCB0b2dnbGVUYXNrQ29tcGxldGUsIGFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2ssXG4gICAgICAgIGVkaXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24sIHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSwgdG9nZ2xlVGFza1BpbiwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYWIgPSAodGl0bGUpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFiIH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBub3Rlc0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYXNrID0gKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICB0aXRsZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgdGl0bGUpLCBcbiAgICAgICAgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGRlc2NyaXB0aW9uKSxcbiAgICAgICAgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZHVlRGF0ZSksXG4gICAgICAgIG5vdGVzQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBub3RlcyksXG4gICAgICAgIC8vIGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICAgICAgcGlubmVkQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBwaW5uZWQpLFxuICAgICAgICBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGNvbXBsZXRlZCksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFzayB9OyIsImNvbnN0IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxEdWVEYXRlKSA9PiB7XG4gICAgbGV0IGR1ZURhdGUgPSBpbml0aWFsRHVlRGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza0R1ZURhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZHVlRGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0R1ZURhdGUobmV3RHVlRGF0ZSkge1xuICAgICAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3Qgbm90ZXNCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxOb3RlcykgPT4ge1xuICAgIGxldCBub3RlcyA9IGluaXRpYWxOb3RlcztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza05vdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdGVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrTm90ZXMobmV3Tm90ZXMpIHtcbiAgICAgICAgICAgIG5vdGVzID0gbmV3Tm90ZXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSIsImNvbnN0IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbFBpbm5lZFN0YXRlKSA9PiB7XG4gICAgbGV0IHBpbm5lZCA9IGluaXRpYWxQaW5uZWRTdGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlUGlubmVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAocGlubmVkKSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpbm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwaW5uZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIG9yaWdpbmFsIHdoZXJlIG9iamVjdCB3b3VsZCBuZWVkIHRvIGhhdmUgT2JqZWN0LmFzc2lnbigpIGZvciBldmVyeSBpbnN0YW5jZVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbikgPT4ge1xuICAgIC8vIGNvbnN0IGdldFRhc2tEZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIC8vIH07XG4gICAgLy8gY29uc3Qgc2V0VGFza0Rlc2NyaXB0aW9uID0gKG5ld0Rlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gICAgIGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgLy8gfTtcbi8vICAgICByZXR1cm4geyBnZXRUYXNrRGVzY3JpcHRpb24sIHNldFRhc2tEZXNjcmlwdGlvbiB9O1xuLy8gfTtcblxuY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbiwgY29tcGxldGVkKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZGVzY3JpcHRpb24pLFxuICAgICAgICBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGNvbXBsZXRlZClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59XG5cbmV4cG9ydCB7IGNoZWNrbGlzdFRhc2tPYmplY3QgfTsiLCJpbXBvcnQgeyBjaGVja2xpc3RPYmplY3QgfSBmcm9tIFwiLi9jaGVja2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyBET01VcGRhdGVDb250cm9sbGVyIH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXRcIjtcbmltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5cbmNvbnN0IGV2ZW50QXNzaWduZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYkxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YWJcIik7XG4gICAgICAgIGFkZFRhYkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmFkZFRhYik7XG4gICAgfTtcbiAgICBjb25zdCBhZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJFZGl0QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuaW5zZXJ0VGFiSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhZGRUYWJJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZVRhYilcbiAgICB9XG4gICAgY29uc3QgYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiUmVtb3ZlQnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5yZW1vdmUtdGFiXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFiUmVtb3ZlQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIucmVtb3ZlVGFiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFN3aXRjaFRhYkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYlN3aXRjaEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpdGNoLXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYlN3aXRjaEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnN3aXRjaFRhYik7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGFkZE5ld1Rhc2tMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFza0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXRvLWRvLXRhc2tcIik7XG4gICAgICAgIG5ld1Rhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5uZXdUYXNrKTtcbiAgICB9XG4gICAgY29uc3QgYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tSZW1vdmVCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLXJlbW92ZS10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza1JlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZVRhc2spO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdFRhc2tMaXN0ZW5lcnMgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VkaXRCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tFZGl0QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuaW5zZXJ0VGFza0lucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYXNrSW5wdXRMaXN0ZW5lciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50QnVuZGxlci51cGRhdGVUYXNrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZVRhc2tDb21wbGV0ZUxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZUNoZWNrYm94ZXMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrYm94IG9mIHRhc2tDb21wbGV0ZUNoZWNrYm94ZXMpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlVGFza0NvbXBsZXRlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrQnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWRkLWNoZWNrbGlzdC10YXNrXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiBuZXdDaGVja2xpc3RUYXNrQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuYWRkTmV3Q2hlY2tsaXN0VGFzaylcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEVkaXRDaGVja2xpc3RUYXNrTGlzdGVuZXJzID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEVkaXRCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtY2hlY2tsaXN0LXRhc2tcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiBjaGVja2xpc3RFZGl0QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50QnVuZGxlci51cGRhdGVDaGVja2xpc3RUYXNrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZUxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3hlcyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrYm94IG9mIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3hlcykge1xuICAgICAgICAgICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tSZW1vdmVCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5yZW1vdmUtY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGNoZWNrbGlzdFRhc2tSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVDaGVja2xpc3RUYXNrKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZVRhc2tQaW5MaXN0ZW5lcnMgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1BpbkJ1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLXBpblwiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza1BpbkJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZVRhc2tQaW4pO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzTGlzdGVuZXJzID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tUb2dnbGVEaXNwbGF5QnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudG8tZG8tdGFzay1jaGFuZ2UtZGlzcGxheVwiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza1RvZ2dsZURpc3BsYXlCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVEaXNwbGF5VGFza0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4geyBhZGROZXdUYWJMaXN0ZW5lciwgYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyLCBhZGRUYWJJbnB1dExpc3RlbmVyLCBhZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lcixcbiAgICAgICAgYWRkU3dpdGNoVGFiTGlzdGVuZXIsIGFkZE5ld1Rhc2tMaXN0ZW5lciwgYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyLFxuICAgICAgICBhZGRFZGl0VGFza0xpc3RlbmVycywgYWRkVGFza0lucHV0TGlzdGVuZXIsIGFkZFRvZ2dsZVRhc2tDb21wbGV0ZUxpc3RlbmVyLFxuICAgICAgICBhZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXIsIGFkZEVkaXRDaGVja2xpc3RUYXNrTGlzdGVuZXJzLCBhZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lcixcbiAgICAgICAgYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIsIGFkZFJlbW92ZUNoZWNrbGlzdFRhc2tMaXN0ZW5lciwgYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycyxcbiAgICAgICAgYWRkVG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzTGlzdGVuZXJzLCB9O1xufSkoKTtcblxuZXhwb3J0IHsgZXZlbnRBc3NpZ25lciB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgZXZlbnRBc3NpZ25lciB9IGZyb20gXCIuL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgZXZlbnRCdW5kbGVyIH0gZnJvbSBcIi4vZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcblxuY29uc3QgRE9NQ29udHJvbGxlckFkZEVkaXQgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYlRvRE9NID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGFkZFRhYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhYlwiKTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBuZXdUYWJOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgbmV3VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgbmV3VGFiT2JqZWN0VGl0bGUgPSBuZXdUYWJPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIG5ld1RhYk5vZGUuY2xhc3NMaXN0LmFkZChcInRhYi10aXRsZVwiKTtcbiAgICAgICAgbmV3VGFiTm9kZS5kYXRhc2V0LnRhYkluZGV4ID0gaW5kZXg7XG4gICAgICAgIG5ld1RhYk5vZGUuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInN3aXRjaC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJ0YWItbmFtZVwiPlRBQiBOQU1FIFBMQUNFSE9MREVSPC9oMj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFiIG5hbWUgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiUmVtb3ZlIHRhYiBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCB0YWJOYW1lRE9NID0gbmV3VGFiTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRhYi1uYW1lXCIpO1xuICAgICAgICB0YWJOYW1lRE9NLnRleHRDb250ZW50ID0gbmV3VGFiT2JqZWN0VGl0bGU7XG4gICAgICAgIHRvRG9UYWJTZWN0aW9uLmluc2VydEJlZm9yZShuZXdUYWJOb2RlLCBhZGRUYWJCdXR0b24pO1xuICAgICAgICByZXR1cm4gbmV3VGFiTm9kZTtcbiAgICB9XG4gICAgY29uc3Qgc2V0VGFiSW5wdXRFbGVtZW50VmFsdWUgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhYi1pbmRleD0nJHt0YWJJbmRleH0nXWApO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFiTmFtZSA9IHRhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gdGFiTmFtZTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWItaW5kZXg9JyR7dGFiSW5kZXh9J11gKTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhYi1uYW1lLWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKGlucHV0RWxlbWVudCwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFRhYk5hbWVFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWItaW5kZXg9JyR7dGFiSW5kZXh9J11gKTtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFiTmFtZSA9IHRhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgY29uc3QgdGFiQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgICAgICAgdGFiQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJzd2l0Y2gtdGFiXCIpO1xuICAgICAgICBjb25zdCB0YWJCdXR0b25OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuICAgICAgICB0YWJCdXR0b25OYW1lLmNsYXNzTGlzdC5hZGQoXCJ0YWItbmFtZVwiKTtcbiAgICAgICAgdGFiQnV0dG9uTmFtZS50ZXh0Q29udGVudCA9IHRhYk5hbWU7XG4gICAgICAgIHRhYkJ1dHRvbi5hcHBlbmRDaGlsZCh0YWJCdXR0b25OYW1lKTtcbiAgICAgICAgdGFiRWxlbWVudC5pbnNlcnRCZWZvcmUodGFiQnV0dG9uLCB0YWJFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICByZXR1cm4gdGFiRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHNldERlZmF1bHRDdXJyZW50VGFiRE9NID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRvRG9UYWJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhYi1pbmRleD0nJHtpbmRleH0nXWApO1xuICAgICAgICBpZiAoY3VycmVudFRhYiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgICAgICBjdXJyZW50VGFiLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY3VycmVudC10YWJcIik7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDdXJyZW50VGFiRE9NID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0N1cnJlbnRUYWJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiLWluZGV4PScke3RhYkluZGV4fSddYCk7XG4gICAgICAgIG5ld0N1cnJlbnRUYWJFbGVtZW50LnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY3VycmVudC10YWJcIik7XG4gICAgfVxuICAgIGNvbnN0IHNldEZpcnN0VGFiVG9DdXJyZW50VGFiID0gKGZpcnN0VGFiSW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGZpcnN0VGFiSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0VGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiLWluZGV4PScke2ZpcnN0VGFiSW5kZXh9J11gKVxuICAgICAgICBmaXJzdFRhYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBhZGROZXdUYXNrVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3VGFza05vZGUuY2xhc3NMaXN0LmFkZChcInRvLWRvLXRhc2tcIik7XG4gICAgICAgIG5ld1Rhc2tOb2RlLmRhdGFzZXQudGFza0luZGV4ID0gaW5kZXg7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tUaXRsZSA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEZXNjcmlwdGlvbiA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEdWVEYXRlID0gbmV3VGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrTm90ZXMgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICBjb25zdCBuZXdUYXNrQ29tcGxldGVJRCA9IGB0by1kby1jb21wbGV0ZS1jaGVja2JveC0ke2luZGV4fWA7XG4gICAgICAgIG5ld1Rhc2tOb2RlLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby10YXNrLW92ZXJ2aWV3XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLXRpdGxlLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwidG8tZG8tdGl0bGVcIj5USVRMRSBQTEFDRUhPTERFUjwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby1waW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9hc3NldHMvcGluLXVucGlubmVkLnBuZ1wiIGFsdD1cIlBpbiB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay10aXRsZSBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgdGl0bGUgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tcmVtb3ZlLXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIlJlbW92ZSB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tY29tcGxldGUtc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tY29tcGxldGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJJRCBQTEFDRUhPTERFUlwiIGNsYXNzPVwidG8tZG8tY29tcGxldGUtbGFiZWxcIj5Db21wbGV0ZWQ6PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwiXCIgY2xhc3M9XCJ0by1kby1jb21wbGV0ZS1jaGVja2JveFwiIGlkPVwiSUQgUExBQ0VIT0xERVJcIj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jaGV2cm9uLWRvd24ucG5nXCIgYWx0PVwiQ2hhbmdlIHRhc2sgZGlzcGxheSBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0by1kby1kdWUtZGF0ZVwiPkRVRSBEQVRFIFBMQUNFSE9MREVSPC9wPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLWR1ZS1kYXRlIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayBkdWUgZGF0ZSBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0by1kby1kZXNjcmlwdGlvblwiPkRFU0NSSVBUSU9OIFBMQUNFSE9MREVSPC9wPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stZGVzY3JpcHRpb24gZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgZGVzY3JpcHRpb24gYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1ub3Rlcy1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0by1kby1ub3Rlc1wiPk5PVEVTIFBMQUNFSE9MREVSPC9wPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stbm90ZXMgZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgbm90ZXMgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgYWN0aW9uPVwiXCIgY2xhc3M9XCJjaGVja2xpc3RcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tsaXN0LWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8bGVnZW5kIGNsYXNzPVwiY2hlY2tsaXN0LWxhYmVsXCI+Q2hlY2tsaXN0PC9sZWdlbmQ+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJhZGQtY2hlY2tsaXN0LXRhc2tcIiB0eXBlPVwiYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wbHVzLnBuZ1wiIGFsdD1cIkFkZCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgdGl0bGVET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRpdGxlXCIpO1xuICAgICAgICB0aXRsZURPTS50ZXh0Q29udGVudCA9IG5ld1Rhc2tUaXRsZTtcbiAgICAgICAgY29uc3QgZHVlRGF0ZURPTSA9IG5ld1Rhc2tOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZHVlLWRhdGVcIik7XG4gICAgICAgIGR1ZURhdGVET00udGV4dENvbnRlbnQgPSBcIkR1ZSBPbjogXCIgKyBuZXdUYXNrRHVlRGF0ZTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25ET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBkZXNjcmlwdGlvbkRPTS50ZXh0Q29udGVudCA9IFwiRGVzY3JpcHRpb246IFwiICsgbmV3VGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICBjb25zdCBub3Rlc0RPTSA9IG5ld1Rhc2tOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tbm90ZXNcIik7XG4gICAgICAgIG5vdGVzRE9NLnRleHRDb250ZW50ID0gXCJOb3RlczogXCIgKyBuZXdUYXNrTm90ZXM7XG4gICAgICAgIHRvRG9Db250ZW50LmFwcGVuZENoaWxkKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgY29uc3QgY29tcGxldGVMYWJlbCA9IG5ld1Rhc2tOb2RlLnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtcbiAgICAgICAgY29tcGxldGVMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgbmV3VGFza0NvbXBsZXRlSUQpO1xuICAgICAgICBjb25zdCBjb21wbGV0ZUNoZWNrYm94ID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgY29tcGxldGVDaGVja2JveC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBuZXdUYXNrQ29tcGxldGVJRCk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrTm9kZTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFza0lucHV0RWxlbWVudCA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFzay1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyLmluc2VydEJlZm9yZShpbnB1dEVsZW1lbnQsIHRhc2tTdWJjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3Qgc2V0VGFza0lucHV0RWxlbWVudFZhbHVlID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBsZXQgdGFza09iamVjdFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0VmFsdWUgPSB0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgdGFza09iamVjdFZhbHVlID0gdGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgdGFza09iamVjdFZhbHVlID0gdGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIk5vdGVzXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3RWYWx1ZSA9IHRhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IHRhc2tPYmplY3RWYWx1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydFRhc2tTdWJjb250ZW50RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXRTdWJjb250YWluZXJUeXBlKGV2ZW50KTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250ZW50RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tdGl0bGUtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza1RpdGxlID0gdGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tdGl0bGVcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSB0YXNrVGl0bGU7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1kdWUtZGF0ZVwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiRHVlIE9uOiBcIiArIHRhc2tEdWVEYXRlO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiRGVzY3JpcHRpb246IFwiICsgdGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tbm90ZXMtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza05vdGVzID0gdGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1ub3Rlc1wiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IFwiTm90ZXM6IFwiICsgdGFza05vdGVzO1xuICAgICAgICB9O1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyLmluc2VydEJlZm9yZSh0YXNrU3ViY29udGVudEVsZW1lbnQsIHRhc2tTdWJjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGNvbnN0IHRvZ2dsZVRhc2tET01Db21wbGV0ZSA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWluZGV4PScke3Rhc2tJbmRleH0nXWApO1xuICAgICAgICBjb25zdCBjb21wbGV0ZUNoZWNrYm94ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9ICB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVkU3RhdGVkID0gdGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBpZiAodGFza0NvbXBsZXRlZFN0YXRlZCkge1xuICAgICAgICAgICAgY29tcGxldGVDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBsZXRlQ2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NID0gKHRhc2tJbmRleCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFzay1pbmRleD0nJHt0YXNrSW5kZXh9J2ApO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3RcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sobmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0NvbXBsZXRlZCA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tOb2RlLmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4ID0gbmV3Q2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7bmV3Q2hlY2tsaXN0VGFza0luZGV4fVwiIGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBERVNDUklQVElPTiBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgYFxuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gbmV3Q2hlY2tsaXN0VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY2hlY2tsaXN0RWxlbWVudC5hcHBlbmRDaGlsZChuZXdDaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgICAgIHJldHVybiBuZXdDaGVja2xpc3RUYXNrTm9kZTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24uYXBwZW5kQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUgPSAoZXZlbnQsIGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBjaGVja2xpc3RUYXNrRWxlbWVudC5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IHRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldENoZWNrbGlzdFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LnNldEF0dHJpYnV0ZShcImZvclwiLCBgY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke2NoZWNrbGlzdFRhc2tJbmRleH1gKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2stZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb247XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5hcHBlbmRDaGlsZChjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staW5kZXg9JyR7dGFza0luZGV4fSddYCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY2hlY2tsaXN0LXRhc2staW5kZXg9JyR7Y2hlY2tsaXN0VGFza0luZGV4fSddYCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3ggPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jaGVja2VkID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBpZiAoY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94LmNsYXNzTGlzdC5yZW1vdmUoXCJjaGVja2xpc3QtdGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGFuZ2VQaW5CdXR0b25JbWFnZSA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWluZGV4PScke3Rhc2tJbmRleH0nXWApO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgcGluQnV0dG9uID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1waW5cIilcbiAgICAgICAgY29uc3QgcGluQnV0dG9uSW1hZ2UgPSBwaW5CdXR0b24ucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcbiAgICAgICAgaWYgKHRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgcGluQnV0dG9uSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9hc3NldHMvcGluLXBpbm5lZC5wbmdcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tdW5waW5uZWQucG5nXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3Qgc2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhc2staW5kZXg9JyR7dGFza0luZGV4fSddYCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudEluZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgaWYgKHRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBpbm5lZC10YXNrXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgdGFza0NvbnRlbnRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWRUYXNrRWxlbWVudEluZGV4ID0gcGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrRWxlbWVudEluZGV4IDwgcGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgcGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RQaW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBpbm5lZFRhc2tFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbSh0YXNrQ29udGVudFNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50by1kby10YXNrOm5vdCgucGlubmVkLXRhc2spXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uYXBwZW5kQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUVuZEluZGV4ID0gbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzW2FycmF5RW5kSW5kZXhdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdW5waW5uZWRUYXNrRWxlbWVudCBvZiBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnBpbm5lZFRhc2tFbGVtZW50SW5kZXggPSB1bnBpbm5lZFRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFza0VsZW1lbnRJbmRleCA8IHVucGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgdW5waW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1bnBpbm5lZFRhc2tFbGVtZW50ID09PSBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmFwcGVuZENoaWxkKHRhc2tFbGVtZW50LCBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicGlubmVkLXRhc2tcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBsb2FkVGFza3NGcm9tTmV3Q3VycmVudFRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgbGlzdE9mVGFza3MgPSBjdXJyZW50VGFiT2JqZWN0LmdldENoZWNrbGlzdFRhc2tzKCk7XG4gICAgICAgIGZvciAoY29uc3QgdGFza0luZGV4IGluIGxpc3RPZlRhc2tzKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gbGlzdE9mVGFza3NbdGFza0luZGV4XVxuICAgICAgICAgICAgaWYgKHRhc2tPYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1Rhc2tFbGVtZW50ID0gYWRkTmV3VGFza1RvRE9NKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgc2V0UGluQnV0dG9uSW1hZ2UobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHJlYXJyYW5nZVBpbm5lZFRhc2tzUG9zaXRpb24obmV3VGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIGV2ZW50QnVuZGxlci5hZGRUYXNrTGlzdGVuZXJzKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0T2ZDaGVja2xpc3RUYXNrcyA9IHRhc2tPYmplY3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCBpbiBsaXN0T2ZDaGVja2xpc3RUYXNrcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gbGlzdE9mQ2hlY2tsaXN0VGFza3NbY2hlY2tsaXN0VGFza0luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrbGlzdFRhc2tPYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQgPSBhZGROZXdDaGVja2xpc3RUYXNrVG9ET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QnVuZGxlci5hZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBzZXRQaW5CdXR0b25JbWFnZSA9IChuZXdUYXNrRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFza0luZGV4ID0gbmV3VGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHBpbkJ1dHRvbiA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tcGluXCIpO1xuICAgICAgICBjb25zdCBwaW5CdXR0b25JbWFnZSA9IHBpbkJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgcGluQnV0dG9uSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9hc3NldHMvcGluLXBpbm5lZC5wbmdcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tdW5waW5uZWQucG5nXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgcmVhcnJhbmdlUGlubmVkVGFza3NQb3NpdGlvbiA9IChuZXdUYXNrRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFza0luZGV4ID0gbmV3VGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgaWYgKGN1cnJlbnRUYXNrT2JqZWN0LmdldFBpbm5lZFN0YXRlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5waW5uZWQtdGFza1wiKSk7XG4gICAgICAgICAgICBpZiAobGlzdE9mUGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFza0VsZW1lbnQsIHRhc2tDb250ZW50U2VjdGlvbi5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5RW5kSW5kZXggPSBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGlubmVkVGFza0VsZW1lbnQgPSBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHNbYXJyYXlFbmRJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwaW5uZWRUYXNrRWxlbWVudCBvZiBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlubmVkVGFza0VsZW1lbnRJbmRleCA9IHBpbm5lZFRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhc2tJbmRleCA8IHBpbm5lZFRhc2tFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFza0VsZW1lbnQsIHBpbm5lZFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBpbm5lZFRhc2tFbGVtZW50ID09PSBsYXN0UGlubmVkVGFza0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQaW5uZWRUYXNrRWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuZXdUYXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicGlubmVkLXRhc2tcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB0YXNrTm90ZXMgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHRhc2tDaGVja2xpc3QgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdFwiKTtcbiAgICAgICAgY29uc3QgZWxlbWVudHNUb1RvZ2dsZSA9IFt0YXNrRGVzY3JpcHRpb24sIHRhc2tOb3RlcywgdGFza0NoZWNrbGlzdF07XG4gICAgICAgIGVsZW1lbnRzVG9Ub2dnbGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudENsYXNzZXMgPSBBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcImhpZGUtdG8tZG8tZGV0YWlsc1wiKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGUtdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LXRvLWRvLWRldGFpbHNcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGUtdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LXRvLWRvLWRldGFpbHNcIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJvdGF0ZUNoZXZyb25CdXR0b24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlID0gYnV0dG9uRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBjb25zdCBidXR0b25JbWFnZUNsYXNzID0gYnV0dG9uSW1hZ2UuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgICAgIGlmIChidXR0b25JbWFnZUNsYXNzID09PSBudWxsIHx8IGJ1dHRvbkltYWdlQ2xhc3MgPT09IFwicm90YXRlLWhpZGUtdGFzay1kZXRhaWxzXCIpIHtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC50b2dnbGUoXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIiwgZmFsc2UpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LmFkZChcInJvdGF0ZS1kaXNwbGF5LXRhc2stZGV0YWlsc1wiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25JbWFnZUNsYXNzID09PSBcInJvdGF0ZS1kaXNwbGF5LXRhc2stZGV0YWlsc1wiKSB7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LmFkZChcInJvdGF0ZS1oaWRlLXRhc2stZGV0YWlsc1wiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYlRvRE9NLCBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0VGFiSW5wdXRFbGVtZW50LCBpbnNlcnRUYWJOYW1lRWxlbWVudCwgc2V0RGVmYXVsdEN1cnJlbnRUYWJET00sXG4gICAgICAgIHNldEN1cnJlbnRUYWJET00sIHNldEZpcnN0VGFiVG9DdXJyZW50VGFiLCBhZGROZXdUYXNrVG9ET00sXG4gICAgICAgIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsIHNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSwgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50LFxuICAgICAgICB0b2dnbGVUYXNrRE9NQ29tcGxldGUsIGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSwgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlLCBpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LFxuICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUsIGNoYW5nZVBpbkJ1dHRvbkltYWdlLCBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24sXG4gICAgICAgIGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiLCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMsIHJvdGF0ZUNoZXZyb25CdXR0b24sIH07XG59KSgpO1xuXG5leHBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0ID0gKCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVUYWJGcm9tVG9kb0FycmF5ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIHRvRG9MaXN0LnJlbW92ZVRhc2sodGFiSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFza0Zyb21UYWJBcnJheSA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY3VycmVudFRhYk9iamVjdC5yZW1vdmVUYXNrKHRhc2tJbmRleCk7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tGcm9tVGFza0FycmF5ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICB0YXNrT2JqZWN0LnJlbW92ZVRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICB9O1xuICAgIHJldHVybiB7IHJlbW92ZVRhYkZyb21Ub2RvQXJyYXksIHJlbW92ZVRhc2tGcm9tVGFiQXJyYXksIHJlbW92ZUNoZWNrbGlzdFRhc2tGcm9tVGFza0FycmF5LCB9O1xufSkoKTtcblxuZXhwb3J0IHsgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBET01Db250cm9sbGVyUmVtb3ZlID0gKCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVUYWJOYW1lRWxlbWVudCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiLWluZGV4PScke3RhYkluZGV4fSddYCk7XG4gICAgICAgIGxldCBzd2l0Y2hUYWIgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3dpdGNoLXRhYlwiKVxuICAgICAgICB0YWJFbGVtZW50LnJlbW92ZUNoaWxkKHN3aXRjaFRhYik7XG4gICAgICAgIHN3aXRjaFRhYiA9IG51bGxcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYklucHV0RWxlbWVudCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiLWluZGV4PScke3RhYkluZGV4fSddYCk7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgdGFiRWxlbWVudC5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00gPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHRhYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWItaW5kZXg9JyR7dGFiSW5kZXh9J11gKTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5yZW1vdmVDaGlsZCh0YWJFbGVtZW50KTtcbiAgICAgICAgdGFiRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZXNldEN1cnJlbnRUYWJTdGF0dXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2N1cnJlbnQtdGFiXCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhYiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudFRhYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBsZXQgdGFza0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWluZGV4PScke3Rhc2tJbmRleH0nXWApO1xuICAgICAgICBjb25zdCB0b0RvVGFza1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIHRvRG9UYXNrU2VjdGlvbi5yZW1vdmVDaGlsZCh0YXNrRWxlbWVudCk7XG4gICAgICAgIHRhc2tFbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza1N1YmNvbnRlbnRFbGVtZW50RnJvbURPTSA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQodGFza0luZGV4LCBidXR0b25UeXBlKTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250ZW50RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXJFbGVtZW50LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5yZW1vdmVDaGlsZCh0YXNrU3ViY29udGVudEVsZW1lbnQpO1xuICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBudWxsXG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXIucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyLnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkRPTSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RCdXR0b25FbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gYnV0dG9uRWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnJlbW92ZUNoaWxkKGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00gPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWluZGV4PScke3Rhc2tJbmRleH0nXWApO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3RcIik7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGNoZWNrbGlzdEVsZW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtY2hlY2tsaXN0LXRhc2staW5kZXg9JyR7Y2hlY2tsaXN0VGFza0luZGV4fSddYCk7XG4gICAgICAgIGNoZWNrbGlzdEVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBjaGVja2xpc3RUYXNrRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVBbGxUYXNrRWxlbWVudHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLnJlcGxhY2VDaGlsZHJlbigpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiTmFtZUVsZW1lbnQsIHJlbW92ZVRhYklucHV0RWxlbWVudCwgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00sXG4gICAgICAgIHJlc2V0Q3VycmVudFRhYlN0YXR1cywgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NLCByZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NLFxuICAgICAgICByZW1vdmVUYXNrSW5wdXRFbGVtZW50LCByZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00sIHJlbW92ZUNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQsXG4gICAgICAgIHJlbW92ZUNoZWNrbGlzdFRhc2tFbGVtZW50RE9NLCByZW1vdmVBbGxUYXNrRWxlbWVudHMsIH1cbn0pKCk7XG5cbmV4cG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCB9IGZyb20gXCIuL29iamVjdF9jb250cm9sbGVyX2FkZF9lZGl0X29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgZXZlbnRBc3NpZ25lciB9IGZyb20gXCIuL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCB9IGZyb20gXCIuL29iamVjdF9jb250cm9sbGVyX3JlbW92ZV9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9yZW1vdmVcIjtcblxuY29uc3QgZXZlbnRCdW5kbGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGRUYWIgPSAoZXZlbnQsIHRhYk5hbWU9XCJOZXcgVGFiXCIpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdUYWJUb1RvZG9BcnJheSh0YWJOYW1lKTtcbiAgICAgICAgY29uc3QgbmV3VGFiTm9kZSA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld1RhYlRvRE9NKG5ld1RhYkluZGV4KTtcbiAgICAgICAgYWRkVGFiTGlzdGVuZXJzKG5ld1RhYk5vZGUpO1xuICAgICAgICBpZiAoaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZPbmx5T25lVGFiKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoZmlyc3RUYWJJbmRleClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yVGFiSW5wdXRFbGVtZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgdGFiSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiSW5wdXRFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiTmFtZUVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFiSW5wdXRFbGVtZW50VmFsdWUodGFiSW5kZXgpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUYWJJbnB1dExpc3RlbmVyKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZVRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgY29uc3QgdGFiSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFiTmFtZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXROZXdWYWx1ZShldmVudCk7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0VGFiTmFtZSh0YWJJbmRleCwgbmV3VGFiTmFtZSk7XG4gICAgICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiTmFtZUVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWJJbnB1dEVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRTd2l0Y2hUYWJMaXN0ZW5lcih0YWJFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlVGFiRnJvbVRvZG9BcnJheSh0YWJJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiRWxlbWVudEZyb21ET00odGFiSW5kZXgpO1xuICAgICAgICBpZiAoaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZXYXNDdXJyZW50VGFiKGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgZmlyc3RUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnNldEZpcnN0VGFiVG9DdXJyZW50VGFiKCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYihmaXJzdFRhYkluZGV4KVxuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBzd2l0Y2hUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZldhc0N1cnJlbnRUYWIoZXZlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJJbmRleChldmVudCk7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC51cGRhdGVDdXJyZW50VGFiKHRhYkluZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVzZXRDdXJyZW50VGFiU3RhdHVzKCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRDdXJyZW50VGFiRE9NKHRhYkluZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQWxsVGFza0VsZW1lbnRzKCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5sb2FkVGFza3NGcm9tTmV3Q3VycmVudFRhYigpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBuZXdUYXNrID0gKGV2ZW50LCB0aXRsZT1cIk5ldyBUYXNrIFRpdGxlXCIsIGR1ZURhdGU9XCJUYXNrIER1ZSBEYXRlXCIsIGRlc2NyaXB0aW9uPVwiVGFzayBEZXNjcmlwdGlvblwiLCBub3Rlcz1cIlRhc2sgTm90ZXNcIiwgcGlubmVkPWZhbHNlLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFza0luZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuYWRkTmV3VGFza1RvVGFiKHRpdGxlLCBkdWVEYXRlLCBkZXNjcmlwdGlvbiwgbm90ZXMsIHBpbm5lZCwgY29tcGxldGVkKTtcbiAgICAgICAgY29uc3QgbmV3VGFza05vZGUgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdUYXNrVG9ET00obmV3VGFza0luZGV4KTtcbiAgICAgICAgYWRkVGFza0xpc3RlbmVycyhuZXdUYXNrTm9kZSk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrSW5kZXg7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlVGFza0Zyb21UYWJBcnJheSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhc2tFbGVtZW50RnJvbURPTSh0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvblR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0QnV0dG9uVHlwZShldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00odGFza0luZGV4LCBidXR0b25UeXBlKTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhc2tJbnB1dEVsZW1lbnQodGFza0luZGV4LCBidXR0b25UeXBlKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmVkaXRUYXNrT2JqZWN0SW5mbyhldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudG9nZ2xlVGFza0NvbXBsZXRlKGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tOb2RlID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NKHRhc2tJbmRleCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhuZXdDaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgfTtcbiAgICBjb25zdCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudChldmVudCkpIHtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRE9NKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlKGV2ZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza1BpbiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudG9nZ2xlVGFza1BpbihldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmNoYW5nZVBpbkJ1dHRvbkltYWdlKHRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbih0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgLy8gY29uc3QgbG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIgPSAoKSA9PiB7XG4gICAgLy8gICAgIGZvciAoY29uc3QgdGFzayApXG4gICAgLy8gfTtcbiAgICBjb25zdCBhZGRUYXNrTGlzdGVuZXJzID0gKG5ld1Rhc2tOb2RlKSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFza0xpc3RlbmVycyhuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIobmV3VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lcihuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycyhuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzTGlzdGVuZXJzKG5ld1Rhc2tOb2RlKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMgPSAobmV3Q2hlY2tsaXN0VGFza05vZGUpID0+IHtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycyhuZXdDaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIobmV3Q2hlY2tsaXN0VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZUNoZWNrbGlzdFRhc2tMaXN0ZW5lcihuZXdDaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzKGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQucm90YXRlQ2hldnJvbkJ1dHRvbihldmVudCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYWJMaXN0ZW5lcnMgPSAobmV3VGFiTm9kZSkgPT4ge1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lcihuZXdUYWJOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lcihuZXdUYWJOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRTd2l0Y2hUYWJMaXN0ZW5lcihuZXdUYWJOb2RlKTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJbml0aWFsUGFnZSA9ICgpID0+IHtcbiAgICAgICAgYWRkVGFiKGV2ZW50LCBcIkluc3RydWN0aW9uc1wiKTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gbmV3VGFzayhldmVudCwgXCJRdWljayBUaXBzISBDbGljayB0aGUgcGluIGJ1dHRvbiB0byBwaW4gYSB0YXNrIHRvIHRoZSB0b3Agb2YgdGhlIGxpc3QuXCIsXG4gICAgICAgICAgICBgVG9tb3Jyb3csIG5leHQgd2Vlaywgb3Igd2hlbmV2ZXIgeW91ciB0YXNrIGlzIGR1ZSwgeW91IGNhbiBhZGQgaXQgaGVyZSFcbiAgICAgICAgICAgIENsaWNrIHRoZSBhcnJvdyBidXR0b24gdG8gdG9nZ2xlIGJldHdlZW4gc2hvd2luZyBhbmQgaGlkaW5nIHRhc2sgZGV0YWlscy5gLFxuICAgICAgICAgICAgXCJBZGQgYSBkZXNjcmlwdGlvbiBvZiB5b3VyIHRhc2sgaGVyZSEgQ2xpY2sgdGhlIHBlbmNpbCBidXR0b25zIHRvIGVkaXQgdGhlIHZhcmlvdXMgcGFydHMgb2YgeW91ciB0YXNrLlwiLFxuICAgICAgICAgICAgXCJKb3QgZG93biBzb21lIG5vdGVzIGhlcmUhIE1hcmsgeW91ciB0YXNrIGFzIGNvbXBsZXRlIHdoZW4geW91J3JlIGRvbmUsIG9yIHJlbW92ZSBpdCBmcm9tIHRoZSBsaXN0IGJ5IGNsaWNraW5nIHRoZSBYIGJ1dHRvbi5cIiwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZVRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5jaGFuZ2VQaW5CdXR0b25JbWFnZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zaGlmdFRhc2tFbGVtZW50UG9zaXRpb24odGFza0luZGV4KTtcbiAgICAgICAgYWRkSW5zdHJ1Y3Rpb25zQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgYWRkSW5zdHJ1Y3Rpb25zQ2hlY2tsaXN0VGFzayA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgaW5zdHJ1Y3Rpb25zID0gW1xuICAgICAgICAgICAgW1wiSWYgeW91ciB0YXNrIGhhcyBtdWx0aXBsZSBzdGVwcywgdHJ5IGJyZWFraW5nIHRoZW0gZG93biBpbnRvIGEgY2hlY2tsaXN0ISBDbGljayB0aGUgcGx1cyBzaWduIGJ1dHRvbiB0byBhZGQgc3RlcHMgYXMgbmVlZGVkLlwiLCB0cnVlXSxcbiAgICAgICAgICAgIFtcIkhhdmUgYSBuZXcgdGFzayB5b3Ugd2FudCB0byBrZWVwIHRyYWNrIG9mPyBBZGQgaXQgdG8gdGhlIGxpc3QgYnkgY2xpY2tpbmcgb24gdGhlICdOZXcgVGFzaycgYnV0dG9uIGJlbG93IVwiLCB0cnVlXSxcbiAgICAgICAgICAgIFtgT3JnYW5pemUgdGhlIGRpZmZlcmVudCB0eXBlcyBvZiB0YXNrcyBpbiB5b3VyIGxpZmUgYnkgY3JlYXRpbmcgdGhlbWVkIHRhYnMuIFxuICAgICAgICAgICAgQ3JlYXRlIGEgbmV3IHRhYiBieSBjbGlja2luZyBvbiB0aGUgcGx1cyBzaWduIGJ1dHRvbiBhdCB0aGUgdG9wIG9mIHRoZSBsaXN0LlxuICAgICAgICAgICAgQ2hhbmdlIHRhYnMgYnkgY2xpY2tpbmcgb24gZGlmZmVyZW50IHRhYiBuYW1lcy5gLCB0cnVlXV07XG4gICAgICAgIGluc3RydWN0aW9ucy5mb3JFYWNoKChpbnN0cnVjdGlvbnNJdGVtKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKHRhc2tJbmRleCwgaW5zdHJ1Y3Rpb25zSXRlbVswXSwgaW5zdHJ1Y3Rpb25zSXRlbVsxXSk7XG4gICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrTm9kZSA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhjaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgICAgIH0pXG4gICAgfTtcbiAgICByZXR1cm4geyBhZGRUYWIsIGluc2VydFRhYklucHV0RWxlbWVudCwgdXBkYXRlVGFiLCByZW1vdmVUYWIsIHN3aXRjaFRhYixcbiAgICAgICAgbmV3VGFzaywgcmVtb3ZlVGFzaywgaW5zZXJ0VGFza0lucHV0RWxlbWVudCwgdXBkYXRlVGFzaywgdG9nZ2xlVGFza0NvbXBsZXRlLFxuICAgICAgICBhZGROZXdDaGVja2xpc3RUYXNrLCBpbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LCB1cGRhdGVDaGVja2xpc3RUYXNrLFxuICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUsIHJlbW92ZUNoZWNrbGlzdFRhc2ssIHRvZ2dsZVRhc2tQaW4sIGFkZFRhc2tMaXN0ZW5lcnMsXG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMsIHRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscywgYWRkVGFiTGlzdGVuZXJzLCBsb2FkSW5pdGlhbFBhZ2UsIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEJ1bmRsZXIgfTsiLCJpbXBvcnQgeyB0b0RvVGFzayB9IGZyb20gXCIuL29iamVjdHMvdG9kb190YXNrX29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0cy9jaGVja2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyBjaGVja2xpc3RUYXNrT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0cy9jaGVja2xpc3RfdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcblxuLy8gdGVzdGluZyB0b2RvIHRhc2sgb2JqZWN0XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBub3Rlc0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50XCI7XG5cbi8vIHRlc3RpbmcgY2hlY2tsaXN0IG9iamVjdFxuLy8gaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG4vLyB0ZXN0aW5nIHRhYnMgKGFycmF5cyB0aGF0IGNvbnRhaW4gbWFueSB0byBkbyB0YXNrcylcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi9vYmplY3RzL3RvZG9fdGFiX29iamVjdFwiO1xuXG4vLyB0ZXN0aW5nIGxpc3QgdGhhdCBjb250YWluIGV2ZXJ5dGhpbmdcbmltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0XCI7XG5cbi8vIHRlc3RpbmcgZm9yIERPTSBjb250cm9sbGVyIG9iamVjdHNcbmltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL29iamVjdHMvZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcbmltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9vYmplY3RzL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5cbi8vIGxldCB0ZXN0ID0gY2hlY2tsaXN0VGFza09iamVjdChcImRkdGVzdFwiKTtcbi8vIGNvbnNvbGUubG9nKHRlc3QpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gaWYgKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSkge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgbm93IHRydWVcIilcbi8vIH0gZWxzZSB7XG4vLyAgICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBzdGlsbCBmYWxzZVwiKVxuLy8gfVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QudG9nZ2xlQ29tcGxldGVkU3RhdGUoKSlcblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG5cbi8vIGlmICh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIG5vdyB0cnVlXCIpXG4vLyB9IGVsc2Uge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgc3RpbGwgZmFsc2VcIilcbi8vIH1cblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0KVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldFRhc2tEZXNjcmlwdGlvbigpKVxuLy8gdGVzdC5zZXRUYXNrRGVzY3JpcHRpb24oXCJ3b3d3aWVcIilcbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG5cbi8vIGxldCBpbXBvcnRhbnRUYXNrID0gdG9Eb1Rhc2soXCJNYWtlIENlcmVhbFwiLCBcInBhcnQgb2YgYnJlYWtmYXN0IHBsYW5cIiwgXCJ0aGlzIG1vcm5pbmdcIiwgXCJtYWtlIHN1cmUgdG8gcHV0IG1pbGsgYmFjayBpbiBmcmlkZ2VcIik7XG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrVGl0bGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEdWVEYXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tOb3RlcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRQaW5uZWRTdGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tUaXRsZShcIk1ha2UgQ2hpY2tlbiBCcm90aFwiKVxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrRGVzY3JpcHRpb24oXCJyZXF1aXJlcyAxIGNoaWNrZW4gYW5kIDEgYnJvdGhcIilcbi8vIGltcG9ydGFudFRhc2suc2V0VGFza0R1ZURhdGUoXCJiZWZvcmUgSSBjYXVnaHQgdGhpcyBjb2xkXCIpXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tOb3RlcyhcImRvbid0IHNuZWV6ZSBpbnRvIHBvdFwiKVxuLy8gaW1wb3J0YW50VGFzay50b2dnbGVQaW5uZWRTdGF0ZSgpO1xuLy8gaW1wb3J0YW50VGFzay50b2dnbGVDb21wbGV0ZWRTdGF0ZSgpO1xuXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tUaXRsZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRGVzY3JpcHRpb24oKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0R1ZURhdGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza05vdGVzKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFBpbm5lZFN0YXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGltcG9ydGFudFRhc2suYWRkVGFzayh0ZXN0KVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrRGVzY3JpcHRpb24oKSlcblxuXG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gdGFiMS5hZGRUYXNrKGltcG9ydGFudFRhc2spXG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrVGl0bGUoKSlcblxuLy8gbGV0IGFub3RoZXJJbXBvcnRhbnRUYXNrID0gdG9Eb1Rhc2soXCJDbGVhbiBwb3RcIiwgXCJwYXJ0IG9mIGNob3JlcyBwbGFuXCIsIFwidGhpcyBhZnRlcm5vb25cIiwgXCJtYWtlIHN1cmUgdG8gdXNlIHNvYXBcIik7XG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gdGFiMS5hZGRUYXNrKGFub3RoZXJJbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMSkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygxKS5nZXRUYXNrVGl0bGUoKSlcblxuXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tUaXRsZSgpKVxuXG4vLyAvLyBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYigwKTtcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG5cbi8vIGxldCB0YWIyID0gdG9Eb1RhYihcImhlZSBoZWVcIilcbi8vIHRvRG9MaXN0LmFkZFRhc2sodGFiMilcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG5cbi8vIGxldCB0YWIxID0gdG9Eb1RhYihcIkRlZmF1bHQgdGVzdFwiKVxuLy8gdG9Eb0xpc3QuYWRkVGFzayh0YWIxKVxuXG4vLyBsZXQgdGFzazEgPSB0b0RvVGFzayhcIk1ha2UgTW9uZXkgVEVTVCAwXCIsIFwiVGFzayBEdWUgRGF0ZVwiLCBcIlRhc2sgRGVzY3JpcHRpb25cIiwgXCJUYXNrIE5vdGVzXCIpO1xuLy8gY29uc29sZS5sb2codGFiMS5hZGRUYXNrKHRhc2sxKSlcblxuLy8gbGV0IHRhc2syID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gMVwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrMilcblxuLy8gbGV0IHRhc2szID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gQUdBSU4gMlwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrMylcblxuLy8gbGV0IHRhc2s0ID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gQUdBSU4gQUdBSU4gM1wiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrNClcblxuLy8gbGV0IHRhYjIgPSB0b0RvVGFiKFwiVGVzdCBmb3IgbG9hZGluZyBpbiB0YXNrIG9iamVjdHNcIilcbi8vIHRvRG9MaXN0LmFkZFRhc2sodGFiMilcbi8vIGxldCB0YXNrQSA9IHRvRG9UYXNrKFwiVEVTVCBPRiBUSEUgT1VURE9PUiBXQVJOSU5HIFNZU1RFTVwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjIuYWRkVGFzayh0YXNrQSlcbi8vIGxldCB0YXNrQiA9IHRvRG9UYXNrKFwiVEhJUyBJUyBPTkxZIEEgVEVTVFwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjIuYWRkVGFzayh0YXNrQilcblxuLy8gbGV0IGNoZWNrbGlzdFRhc2tBID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgQVwiKVxuLy8gdGFza0EuYWRkVGFzayhjaGVja2xpc3RUYXNrQSlcbi8vIGxldCBjaGVja2xpc3RUYXNrQiA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIEJcIilcbi8vIHRhc2tBLmFkZFRhc2soY2hlY2tsaXN0VGFza0IpXG4vLyBsZXQgY2hlY2tsaXN0VGFza0MgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBDXCIpXG4vLyB0YXNrQi5hZGRUYXNrKGNoZWNrbGlzdFRhc2tDKVxuLy8gbGV0IGNoZWNrbGlzdFRhc2tEID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgRFwiKVxuLy8gdGFza0IuYWRkVGFzayhjaGVja2xpc3RUYXNrRClcbi8vIGxldCBjaGVja2xpc3RUYXNrRSA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIERcIilcbi8vIHRhc2tCLmFkZFRhc2soY2hlY2tsaXN0VGFza0UpXG5cbi8vIHRhc2tCLnJlbW92ZVRhc2soMSlcblxuZXZlbnRBc3NpZ25lci5hZGROZXdUYWJMaXN0ZW5lcigpO1xuLy8gZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFiTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyKCk7XG5cblxuXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdClcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbkRPTUNvbnRyb2xsZXJBZGRFZGl0LnNldERlZmF1bHRDdXJyZW50VGFiRE9NKDApXG5cbmV2ZW50QXNzaWduZXIuYWRkU3dpdGNoVGFiTGlzdGVuZXIoKVxuXG5ldmVudEFzc2lnbmVyLmFkZE5ld1Rhc2tMaXN0ZW5lcigpO1xuXG5ldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lcigpO1xuXG5ldmVudEFzc2lnbmVyLmFkZEVkaXRUYXNrTGlzdGVuZXJzKCk7XG5cbi8vIGNvbnN0IGhlaCA9ICgpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhcImJsb29wXCIpXG4vLyB9XG5cbi8vIGNvbnN0IGJvaSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIilcbi8vIGJvaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGVoKVxuXG5ldmVudEFzc2lnbmVyLmFkZFRvZ2dsZVRhc2tDb21wbGV0ZUxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycygpO1xuXG4vLyBsZXQgY2hlY2tsaXN0VGFzazEgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVFwiKVxuLy8gdGFzazEuYWRkVGFzayhjaGVja2xpc3RUYXNrMSlcblxuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIoKTtcblxuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzKCk7XG5ldmVudEFzc2lnbmVyLmFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVycygpO1xuXG5ldmVudEJ1bmRsZXIubG9hZEluaXRpYWxQYWdlKCk7Il0sIm5hbWVzIjpbImNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50Iiwib2JqZWN0IiwiY2hlY2tsaXN0IiwiT2JqZWN0IiwiYXNzaWduIiwiYWRkVGFzayIsInRhc2siLCJwdXNoIiwibGVuZ3RoIiwicmVtb3ZlVGFzayIsImluZGV4IiwidW5kZWZpbmVkIiwiZ2V0Q2hlY2tsaXN0VGFza3MiLCJnZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2siLCJ0b0RvTGlzdCIsImN1cnJlbnRUYWIiLCJnZXRDdXJyZW50VGFiSW5kZXgiLCJzZXRDdXJyZW50VGFiSW5kZXgiLCJuZXdDdXJyZW50VGFiIiwiZ2V0Q3VycmVudFRhYk9iamVjdCIsImN1cnJlbnRUYWJJbmRleCIsInRpdGxlQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsVGl0bGUiLCJ0aXRsZSIsImdldFRhc2tUaXRsZSIsInNldFRhc2tUaXRsZSIsIm5ld1RpdGxlIiwiaGVscGVyRnVuY3Rpb25zIiwiZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQiLCJldmVudCIsInRhYkVsZW1lbnQiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwiZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50IiwidGFza0VsZW1lbnQiLCJjbGFzc0xpc3QiLCJBcnJheSIsImZyb20iLCJpbmNsdWRlcyIsImVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIiLCJ0YXNrU3ViY29udGFpbmVyIiwiZ2V0VGFyZ2V0VGFza09iamVjdCIsImRhdGFzZXQiLCJ0YXNrSW5kZXgiLCJlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudCIsImJ1dHRvbkVsZW1lbnQiLCJ0YWdOYW1lIiwiZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50IiwiY2hlY2tsaXN0VGFza0VsZW1lbnQiLCJjaGVja0ZvclRhYklucHV0RWxlbWVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2hlY2tJZldhc0N1cnJlbnRUYWIiLCJjaGVja0lmT25seU9uZVRhYiIsInRvRG9UYWJTZWN0aW9uIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicXVlcnlTZWxlY3RvckFsbCIsImNoZWNrRm9yVGFza1N1YmNvbnRhaW5lcklucHV0RWxlbWVudCIsImdldFN1YmNvbnRhaW5lclR5cGUiLCJlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0RWxlbWVudCIsImNoZWNrbGlzdEVsZW1lbnQiLCJjaGVja0ZvckNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQiLCJnZXRUYXJnZXRDaGVja2xpc3RUYXNrT2JqZWN0IiwidGFza09iamVjdCIsImNoZWNrbGlzdFRhc2tJbmRleCIsImdldFRhc2tJbmRleCIsImdldENoZWNrbGlzdFRhc2tJbmRleCIsImdldFRhYkluZGV4IiwidGFiSW5kZXgiLCJnZXROZXdWYWx1ZSIsInZhbHVlIiwiZ2V0QnV0dG9uVHlwZSIsImJ1dHRvbkNsYXNzZXMiLCJidXR0b25UeXBlIiwiZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQiLCJ0YXNrU3ViY29udGFpbmVyRWxlbWVudCIsImRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsImdldFRhc2tEZXNjcmlwdGlvbiIsInNldFRhc2tEZXNjcmlwdGlvbiIsIm5ld0Rlc2NyaXB0aW9uIiwiY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsQ29tcGxldGVkU3RhdGUiLCJjb21wbGV0ZWQiLCJ0b2dnbGVDb21wbGV0ZWRTdGF0ZSIsImdldENvbXBsZXRlZFN0YXRlIiwib2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QiLCJ0YWJOYW1lIiwibmV3VGFiIiwidG9Eb1RhYiIsIm5ld1RhYk5hbWUiLCJ0YWJBcnJheSIsImZpcnN0VGFiIiwidGFiIiwiZHVlRGF0ZSIsIm5vdGVzIiwicGlubmVkIiwibmV3VGFzayIsImluaXRpYWxEdWVEYXRlIiwiZ2V0VGFza0R1ZURhdGUiLCJzZXRUYXNrRHVlRGF0ZSIsIm5ld0R1ZURhdGUiLCJkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsTm90ZXMiLCJnZXRUYXNrTm90ZXMiLCJzZXRUYXNrTm90ZXMiLCJuZXdOb3RlcyIsIm5vdGVzQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsUGlubmVkU3RhdGUiLCJ0b2dnbGVQaW5uZWRTdGF0ZSIsImdldFBpbm5lZFN0YXRlIiwicGlubmVkQmVoYXZpb3JDb21wb25lbnQiLCJ0b0RvVGFzayIsIm5ld1Rhc2tUaXRsZVZhbHVlIiwidGFza1N1YmNvbnRhaW5lclR5cGUiLCJuZXdDaGVja2xpc3RUYXNrIiwiY2hlY2tsaXN0VGFza09iamVjdCIsIm5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiIsImV2ZW50QXNzaWduZXIiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnRCdW5kbGVyIiwiYWRkVGFiIiwic2NvcGUiLCJ0YWJFZGl0QnV0dG9ucyIsImJ1dHRvbiIsImluc2VydFRhYklucHV0RWxlbWVudCIsImlucHV0RWxlbWVudCIsInVwZGF0ZVRhYiIsInRhYlJlbW92ZUJ1dHRvbnMiLCJyZW1vdmVUYWIiLCJ0YWJTd2l0Y2hCdXR0b25zIiwic3dpdGNoVGFiIiwidGFza1JlbW92ZUJ1dHRvbnMiLCJ0YXNrRWRpdEJ1dHRvbnMiLCJpbnNlcnRUYXNrSW5wdXRFbGVtZW50IiwidXBkYXRlVGFzayIsInRhc2tDb21wbGV0ZUNoZWNrYm94ZXMiLCJjaGVja2JveCIsInRvZ2dsZVRhc2tDb21wbGV0ZSIsIm5ld0NoZWNrbGlzdFRhc2tCdXR0b25zIiwiYWRkTmV3Q2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdEVkaXRCdXR0b25zIiwiaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCIsInVwZGF0ZUNoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ZXMiLCJ0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUiLCJjaGVja2xpc3RUYXNrUmVtb3ZlQnV0dG9ucyIsInJlbW92ZUNoZWNrbGlzdFRhc2siLCJ0YXNrUGluQnV0dG9ucyIsInRvZ2dsZVRhc2tQaW4iLCJ0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMiLCJ0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMiLCJET01Db250cm9sbGVyQWRkRWRpdCIsImFkZE5ld1Rhc2tUb0RPTSIsIm5ld1Rhc2tPYmplY3QiLCJ0b0RvQ29udGVudCIsIm5ld1Rhc2tOb2RlIiwiY3JlYXRlRWxlbWVudCIsImFkZCIsIm5ld1Rhc2tUaXRsZSIsIm5ld1Rhc2tEZXNjcmlwdGlvbiIsIm5ld1Rhc2tEdWVEYXRlIiwibmV3VGFza05vdGVzIiwibmV3VGFza0NvbXBsZXRlSUQiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlVGFza0RPTUNvbXBsZXRlIiwiY29tcGxldGVDaGVja2JveCIsImNoZWNrZWQiLCJyZW1vdmUiLCJhZGROZXdDaGVja2xpc3RUYXNrVG9ET00iLCJuZXdDaGVja2xpc3RUYXNrSW5kZXgiLCJuZXdDaGVja2xpc3RUYXNrTm9kZSIsInRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSIsImNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3giLCJzZXRQaW5CdXR0b25JbWFnZSIsIm5ld1Rhc2tFbGVtZW50IiwiY3VycmVudFRhYk9iamVjdCIsImN1cnJlbnRUYXNrSW5kZXgiLCJjdXJyZW50VGFza09iamVjdCIsInBpbkJ1dHRvbkltYWdlIiwicmVhcnJhbmdlUGlubmVkVGFza3NQb3NpdGlvbiIsInRhc2tDb250ZW50U2VjdGlvbiIsImxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cyIsImluc2VydEJlZm9yZSIsImxhc3RQaW5uZWRUYXNrRWxlbWVudCIsInBpbm5lZFRhc2tFbGVtZW50IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiYWRkTmV3VGFiVG9ET00iLCJhZGRUYWJCdXR0b24iLCJuZXdUYWJOb2RlIiwibmV3VGFiT2JqZWN0VGl0bGUiLCJzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSIsImZpcnN0Q2hpbGQiLCJmb2N1cyIsImluc2VydFRhYk5hbWVFbGVtZW50IiwidGFiQnV0dG9uIiwidGFiQnV0dG9uTmFtZSIsInNldERlZmF1bHRDdXJyZW50VGFiRE9NIiwic2V0Q3VycmVudFRhYkRPTSIsInNldEZpcnN0VGFiVG9DdXJyZW50VGFiIiwiZmlyc3RUYWJJbmRleCIsInNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSIsInRhc2tPYmplY3RWYWx1ZSIsImluc2VydFRhc2tTdWJjb250ZW50RWxlbWVudCIsInRhc2tTdWJjb250ZW50RWxlbWVudCIsInRhc2tUaXRsZSIsInRhc2tEdWVEYXRlIiwidGFza0Rlc2NyaXB0aW9uIiwidGFza05vdGVzIiwiY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uIiwic2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlIiwiY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uIiwiaW5zZXJ0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCIsImNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQiLCJjaGFuZ2VQaW5CdXR0b25JbWFnZSIsInNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbiIsInRhc2tFbGVtZW50SW5kZXgiLCJsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cyIsImxhc3RVbnBpbm5lZFRhc2tFbGVtZW50IiwidW5waW5uZWRUYXNrRWxlbWVudCIsImxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiIiwibGlzdE9mVGFza3MiLCJhZGRUYXNrTGlzdGVuZXJzIiwibGlzdE9mQ2hlY2tsaXN0VGFza3MiLCJuZXdDaGVja2xpc3RUYXNrRWxlbWVudCIsImFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMiLCJmb3JFYWNoIiwiZWxlbWVudCIsInJvdGF0ZUNoZXZyb25CdXR0b24iLCJidXR0b25JbWFnZSIsImJ1dHRvbkltYWdlQ2xhc3MiLCJ0b2dnbGUiLCJvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IiwiRE9NQ29udHJvbGxlclJlbW92ZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInJlcGxhY2VDaGlsZHJlbiIsIm5ld1RhYkluZGV4IiwiYWRkVGFiTGlzdGVuZXJzIiwibmV3VGFza0luZGV4IiwiY29kZSIsImxvYWRJbml0aWFsUGFnZSIsImluc3RydWN0aW9uc0l0ZW0iLCJjaGVja2xpc3RUYXNrTm9kZSIsImFkZEluc3RydWN0aW9uc0NoZWNrbGlzdFRhc2siXSwic291cmNlUm9vdCI6IiJ9
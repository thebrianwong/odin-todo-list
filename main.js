(()=>{"use strict";const t=()=>{document.querySelector(".add-tab").addEventListener("click",G.addTab)},e=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-tab"));for(const t of e)t.addEventListener("click",G.insertTabInputElement)},s=t=>{t.addEventListener("keydown",G.updateTab)},n=(t=document)=>{const e=Array.from(t.querySelectorAll(".remove-tab"));for(const t of e)t.addEventListener("click",G.removeTab)},a=(t=document)=>{const e=Array.from(t.querySelectorAll(".switch-tab"));for(const t of e)t.addEventListener("click",G.switchTab)},o=()=>{document.querySelector(".new-to-do-task").addEventListener("click",G.addTask)},c=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-task"));for(const t of e)t.addEventListener("click",G.insertTaskInputElement)},i=t=>{t.addEventListener("keydown",G.updateTask)},l=(t=document)=>{const e=t.querySelectorAll(".to-do-pin");for(const t of e)t.addEventListener("click",G.toggleTaskPin)},r=(t=document)=>{const e=t.querySelectorAll(".to-do-complete-checkbox");for(const t of e)t.addEventListener("click",G.toggleTaskComplete)},d=(t=document)=>{const e=Array.from(t.querySelectorAll(".to-do-remove-task"));for(const t of e)t.addEventListener("click",G.removeTask)},k=(t=document)=>{const e=t.querySelectorAll(".add-checklist-task");for(const t of e)t.addEventListener("click",G.addNewChecklistTask)},u=(t=document)=>{const e=Array.from(t.querySelectorAll(".edit-checklist-task"));for(const t of e)t.addEventListener("click",G.insertChecklistTaskInputElement)},T=t=>{t.addEventListener("keydown",G.updateChecklistTask)},g=(t=document)=>{const e=t.querySelectorAll(".checklist-complete-checkbox");for(const t of e)t.addEventListener("click",G.toggleChecklistTaskComplete)},b=(t=document)=>{const e=t.querySelectorAll(".remove-checklist-task");for(const t of e)t.addEventListener("click",G.removeChecklistTask)},m=(t=document)=>{const e=t.querySelectorAll(".to-do-task-change-display");for(const t of e)t.addEventListener("click",G.toggleDisplayTaskDetails)},p=t=>{let e=[];return Object.assign(t,{addTask:t=>(e.push(t),e.length-1),removeTask(t){e[t]=void 0},getChecklistTasks:()=>e,getSpecificChecklistTask:t=>e[t]})},h=(()=>{let t=0;const e=()=>t;let s={getCurrentTabIndex:e,setCurrentTabIndex:e=>{t=null===e?null:Number(e)},getCurrentTabObject:()=>{const t=e();return h.getSpecificChecklistTask(t)}};return Object.assign(s,p(s)),s})(),C=(t,e)=>{let s=e;return Object.assign(t,{getTaskTitle:()=>s,setTaskTitle(t){s=t}})},f=(()=>{const t=t=>{let e=t.target.parentElement;for(;"tab-title"!==e.getAttribute("class");)e=e.parentElement;return e},e=t=>{let e=t.target.parentElement,s=Array.from(e.classList);for(;!s.includes("to-do-task-subcontainer");)e=e.parentElement,s=Array.from(e.classList);return e},s=t=>{let e=t.target,s=Array.from(e.classList);for(;!s.includes("checklist-task");)e=e.parentElement,s=Array.from(e.classList);return e},n=t=>document.querySelector(`[data-task-index='${t}']`),a=t=>h.getSpecificChecklistTask(t),o=(t,e)=>a(t).getSpecificChecklistTask(e);return{checkIfWasCurrentTab:e=>"current-tab"===t(e).getAttribute("id"),checkIfOnlyOneTab:()=>{const t=document.querySelector(".to-do-tab-section");return 1===Array.from(t.querySelectorAll(".tab-title")).length},getTaskIndex:t=>{const e=(t=>{let e=t.target.parentElement,s=Array.from(e.classList);for(;!s.includes("to-do-task");)e=e.parentElement,s=Array.from(e.classList);return e})(t);return e.dataset.taskIndex},getChecklistTaskIndex:t=>s(t).dataset.checklistTaskIndex,getTabIndex:e=>t(e).dataset.tabIndex,getNewValue:t=>t.target.value,getTaskSubcontainerType:t=>{const s=e(t),n=Array.from(s.classList);let a;return n.includes("to-do-title-section")?a="Title":n.includes("to-do-due-date-section")?a="Due Date":n.includes("to-do-description-section")?a="Description":n.includes("to-do-notes-section")&&(a="Notes"),a},getTaskSubcontainerElement:(t,e)=>{const s=n(t);let a;return"Title"===e?a=s.querySelector(".to-do-title-section"):"Due Date"===e?a=s.querySelector(".to-do-due-date-section"):"Description"===e?a=s.querySelector(".to-do-description-section"):"Notes"===e&&(a=s.querySelector(".to-do-notes-section")),a},getTaskElement:n,getChecklistTaskElement:(t,e)=>n(t).querySelector(`[data-checklist-task-index='${e}']`),getTabElement:t=>document.querySelector(`[data-tab-index='${t}']`),checkForExistingInputElement:(n,a)=>{let o;return"Tab"===a?o=t(n).querySelector(".tab-name-input"):"Task"===a?o=e(n).querySelector(".task-input"):"Checklist Task"===a&&(o=s(n).querySelector(".checklist-complete-section").querySelector(".checklist-input")),null!==o},tryingToDoubleClick:t=>{const e=n(t);return!!Array.from(e.classList).includes("mid-animation")},getTabObject:a,getTaskObject:o,getChecklistTaskObject:(t,e,s)=>o(t,e).getSpecificChecklistTask(s),checkIfNoMoreTabs:()=>{const t=document.querySelector(".to-do-tab-section");return 0===Array.from(t.querySelectorAll(".tab-title")).length}}})(),S=(t,e)=>{let s=e;return Object.assign(t,{getTaskDescription:()=>s,setTaskDescription(t){s=t}})},y=(t,e)=>{let s=e;return Object.assign(t,{toggleCompletedState(){s=!s},getCompletedState:()=>s})},E=(t="New Tab")=>{const e=(t=>{let e={};return Object.assign(e,C(e,t),p(e)),e})(t);return h.addTask(e)},I=(t,e)=>{h.getSpecificChecklistTask(t).setTaskTitle(e)},v=t=>{h.setCurrentTabIndex(t)},D=()=>{const t=h.getChecklistTasks();let e;for(const s in t)if(void 0!==t[s])return h.setCurrentTabIndex(s),e=s,e;return h.setCurrentTabIndex(null),null},L=(t,e="New Task Title",s="Task Due Date",n="Task Description",a="Task Notes",o=!1,c=!1)=>{const i=h.getSpecificChecklistTask(t),l=((t,e,s,n,a,o)=>{let c={};return Object.assign(c,C(c,t),S(c,s),((t,e)=>{let s=e;return Object.assign(t,{getTaskDueDate:()=>s,setTaskDueDate(t){s=t}})})(c,e),((t,e)=>{let s=e;return Object.assign(t,{getTaskNotes:()=>s,setTaskNotes(t){s=t}})})(c,n),((t,e)=>{let s=e;return Object.assign(t,{togglePinnedState(){s=!s},getPinnedState:()=>s})})(c,a),y(c,o),p(c)),c})(e,s,n,a,o,c);return i.addTask(l)},x=(t,e,s)=>{const n=h.getCurrentTabObject().getSpecificChecklistTask(t);"Title"===e?n.setTaskTitle(s):"Due Date"===e?n.setTaskDueDate(s):"Description"===e?n.setTaskDescription(s):"Notes"===e&&n.setTaskNotes(s)},O=t=>{h.getCurrentTabObject().getSpecificChecklistTask(t).toggleCompletedState()},q=(t,e,s="Checklist Task Description",n=!1)=>{const a=h.getSpecificChecklistTask(t).getSpecificChecklistTask(e),o=((t,e)=>{let s={};return Object.assign(s,S(s,t),y(s,e)),s})(s,n);return a.addTask(o)},A=(t,e,s)=>{h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).setTaskDescription(s)},_=(t,e)=>{h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).toggleCompletedState()},N=t=>{h.getCurrentTabObject().getSpecificChecklistTask(t).togglePinnedState()},$=(()=>{const t=t=>{const e=h.getCurrentTabObject().getSpecificChecklistTask(t),s=document.querySelector(".to-do-content"),n=document.createElement("div");n.classList.add("to-do-task"),n.dataset.taskIndex=t;const a=e.getTaskTitle(),o=e.getTaskDescription(),c=e.getTaskDueDate(),i=e.getTaskNotes(),l=`to-do-complete-checkbox-${t}`;return n.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-unpinned.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="ID PLACEHOLDER" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="ID PLACEHOLDER">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer animation-target">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer animation-target">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <div action="" class="checklist animation-target">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </div>\n        ',n.querySelector(".to-do-title").textContent=a,n.querySelector(".to-do-due-date").textContent="Due On: "+c,n.querySelector(".to-do-description").textContent="Description: "+o,n.querySelector(".to-do-notes").textContent="Notes: "+i,s.appendChild(n),n.querySelector("label").setAttribute("for",l),n.querySelector(".to-do-complete-checkbox").setAttribute("id",l),n},e=t=>{const e=f.getTaskElement(t),s=e.querySelector(".to-do-complete-checkbox");h.getCurrentTabObject().getSpecificChecklistTask(t).getCompletedState()?(s.checked=!0,e.classList.add("task-completed")):(s.checked=!1,e.classList.remove("task-completed"))},s=(t,e)=>{const s=f.getTaskElement(t).querySelector(".checklist"),n=h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).getTaskDescription(),a=document.createElement("div");return a.classList.add("checklist-task"),a.dataset.checklistTaskIndex=e,a.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${t}-${e}" class="checklist-complete-checkbox">\n                <label for="checklist-${t}-${e}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,a.querySelector(".checklist-task-description").textContent=n,s.appendChild(a),a},n=(t,e)=>{const s=f.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section").querySelector(".checklist-complete-checkbox"),n=h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e);s.checked=n.getCompletedState(),n.getCompletedState()?s.classList.add("checklist-task-completed"):s.classList.remove("checklist-task-completed")},a=t=>{const e=f.getTaskElement(t),s=h.getCurrentTabObject().getSpecificChecklistTask(t),n=e.querySelector(".to-do-pin").querySelector("img");s.getPinnedState()?n.setAttribute("src","./assets/pin-pinned.png"):n.setAttribute("src","./assets/pin-unpinned.png")},o=t=>{const e=f.getTaskElement(t),s=h.getCurrentTabObject().getSpecificChecklistTask(t),n=e.dataset.taskIndex,a=document.querySelector(".to-do-content");if(s.getPinnedState()){const t=Array.from(document.querySelectorAll(".pinned-task"));if(0===t.length)a.insertBefore(e,a.firstElementChild);else{const s=t[t.length-1];for(const o of t){if(n<o.dataset.taskIndex){a.insertBefore(e,o);break}o===s&&s.insertAdjacentElement("afterend",e)}}e.classList.add("pinned-task")}else{const t=Array.from(a.querySelectorAll(".to-do-task:not(.pinned-task)"));if(0===t.length)a.appendChild(e);else{const s=t[t.length-1];for(const o of t){if(n<o.dataset.taskIndex){a.insertBefore(e,o);break}o===s&&a.appendChild(e,s)}}e.classList.remove("pinned-task")}};return{addNewTabToDOM:t=>{const e=document.querySelector(".add-tab"),s=document.querySelector(".to-do-tab-section"),n=document.createElement("div"),a=h.getSpecificChecklistTask(t).getTaskTitle();return n.classList.add("tab-title"),n.dataset.tabIndex=t,n.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',n.querySelector(".tab-name").textContent=a,s.insertBefore(n,e),n},insertTabInputElement:t=>{const e=f.getTabElement(t),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),e.insertBefore(s,e.firstChild),s.focus(),s},setTabInputElementValue:t=>{const e=f.getTabElement(t).querySelector("input"),s=h.getSpecificChecklistTask(t).getTaskTitle();e.value=s},insertTabNameElement:t=>{const e=f.getTabElement(t),s=h.getSpecificChecklistTask(t).getTaskTitle(),n=document.createElement("button");n.classList.add("switch-tab");const a=document.createElement("h2");return a.classList.add("tab-name"),a.textContent=s,n.appendChild(a),e.insertBefore(n,e.firstChild),e},addCurrentTabIndicator:()=>{const t=h.getCurrentTabIndex();null!==t&&f.getTabElement(t).setAttribute("id","current-tab")},loadTasksFromNewCurrentTab:()=>{const c=h.getCurrentTabObject().getChecklistTasks();for(const i in c){const l=c[i];if(void 0!==l){const c=t(i);a(i),o(i),e(i),G.addTaskListeners(c);const r=l.getChecklistTasks();for(const t in r)if(void 0!==r[t]){const e=s(i,t);n(i,t),G.addChecklistTaskListeners(e)}}}},addNewTaskToDOM:t,insertTaskInputElement:(t,e)=>{const s=f.getTaskSubcontainerElement(t,e),n=document.createElement("input");return n.classList.add("task-input"),n.setAttribute("type","text"),s.insertBefore(n,s.firstChild),n.focus(),n},setTaskInputElementValue:(t,e)=>{const s=f.getTaskSubcontainerElement(t,e).querySelector("input"),n=h.getCurrentTabObject().getSpecificChecklistTask(t);let a;"Title"===e?a=n.getTaskTitle():"Due Date"===e?a=n.getTaskDueDate():"Description"===e?a=n.getTaskDescription():"Notes"===e&&(a=n.getTaskNotes()),s.value=a},insertTaskSubcontentElement:(t,e)=>{const s=f.getTaskSubcontainerElement(t,e),n=h.getCurrentTabObject().getSpecificChecklistTask(t);let a;if("Title"===e){const t=n.getTaskTitle();a=document.createElement("h3"),a.classList.add("to-do-title"),a.textContent=t}else if("Due Date"===e){const t=n.getTaskDueDate();a=document.createElement("p"),a.classList.add("to-do-due-date"),a.textContent="Due On: "+t}else if("Description"===e){const t=n.getTaskDescription();a=document.createElement("p"),a.classList.add("to-do-description"),a.textContent="Description: "+t}else if("Notes"===e){const t=n.getTaskNotes();a=document.createElement("p"),a.classList.add("to-do-notes"),a.textContent="Notes: "+t}s.insertBefore(a,s.firstChild)},toggleTaskDOMComplete:e,addNewChecklistTaskToDOM:s,insertChecklistTaskInputElement:(t,e)=>{const s=f.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section"),n=document.createElement("input");return n.classList.add("checklist-input"),n.setAttribute("type","text"),s.appendChild(n),n.focus(),n},setChecklistTaskInputElementValue:(t,e)=>{const s=f.getChecklistTaskElement(t,e).querySelector(".checklist-input"),n=h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).getTaskDescription();s.value=n},insertChecklistTaskDescriptionElement:(t,e)=>{const s=f.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section"),n=h.getCurrentTabObject().getSpecificChecklistTask(t).getSpecificChecklistTask(e).getTaskDescription(),a=document.createElement("label");a.setAttribute("for",`checklist-${t}-${e}`),a.classList.add("checklist-task-description"),a.textContent=n,s.appendChild(a)},toggleChecklistTaskDOMComplete:n,changePinButtonImage:a,shiftTaskElementPosition:o,toggleDisplayTaskDetails:t=>{const e=f.getTaskElement(t);Array.from(e.querySelectorAll(".animation-target")).forEach((t=>{Array.from(t.classList).includes("hide-to-do-details")?(t.classList.remove("hide-to-do-details"),t.classList.add("display-to-do-details"),t.style.display="flex"):(t.classList.add("hide-to-do-details"),t.classList.remove("display-to-do-details"),setTimeout((()=>{t.style.display="none"}),1e3))})),(t=>{t.classList.add("mid-animation"),setTimeout((()=>{t.classList.remove("mid-animation")}),1e3)})(e)},rotateChevronButton:t=>{const e=f.getTaskElement(t).querySelector(".to-do-task-change-display").querySelector("img"),s=Array.from(e.classList);0===s.length||s.includes("rotate-hide-task-details")?(e.classList.remove("rotate-hide-task-details"),e.classList.add("rotate-display-task-details"),e.classList.add("rotated-chevron")):s.includes("rotate-display-task-details")&&(e.classList.remove("rotate-display-task-details"),e.classList.add("rotate-hide-task-details"),e.classList.remove("rotated-chevron"))},toggleAnimations:(t,e)=>{const s=f.getTaskElement(t),n=s.querySelector(".to-do-task-change-display").querySelector("img"),a=Array.from(s.querySelectorAll(".animation-target"));a.push(n),a.forEach((t=>{"Enable"===e?t.classList.add("no-animations"):"Disable"===e&&t.classList.remove("no-animations")}))}}})(),j=t=>{const e=f.getTabElement(t);let s=e.querySelector(".switch-tab");e.removeChild(s),s=null},w=t=>{const e=f.getTabElement(t);let s=e.querySelector("input");e.removeChild(s),s=null},P=t=>{let e=f.getTabElement(t);document.querySelector(".to-do-tab-section").removeChild(e),e=null},M=()=>{const t=document.querySelector("#current-tab");null!==t&&t.removeAttribute("id")},V=t=>{let e=f.getTaskElement(t);document.querySelector(".to-do-content").removeChild(e),e=null},B=(t,e)=>{const s=f.getTaskSubcontainerElement(t,e);let n=s.firstElementChild;s.removeChild(n),n=null},H=(t,e)=>{const s=f.getTaskSubcontainerElement(t,e);let n=s.querySelector("input");s.removeChild(n),n=null},R=(t,e)=>{const s=f.getChecklistTaskElement(t,e),n=s.querySelector(".checklist-complete-section");let a=s.querySelector(".checklist-task-description");n.removeChild(a),a=null},F=(t,e)=>{const s=f.getChecklistTaskElement(t,e).querySelector(".checklist-complete-section");let n=s.querySelector(".checklist-input");s.removeChild(n),n=null},J=(t,e)=>{const s=f.getTaskElement(t).querySelector(".checklist");let n=f.getChecklistTaskElement(t,e);s.removeChild(n),n=null},z=()=>{document.querySelector(".to-do-content").replaceChildren()},W=t=>{h.removeTask(t)},Q=t=>{h.getCurrentTabObject().removeTask(t)},U=(t,e)=>{h.getCurrentTabObject().getSpecificChecklistTask(t).removeTask(e)},X=(()=>{let t=!1;const e=()=>{const t=localStorage.getItem("to_do_list");return JSON.parse(t)},s=t=>{const e=JSON.stringify(t);localStorage.setItem("to_do_list",e)};return{addTab:t=>{const n=f.getTabObject(t),a=e(),o=`{\n            "title": "${n.getTaskTitle()}",\n            "tasks": {}\n        }`,c=JSON.parse(o);a.tabs[`tab_${t}`]=c,s(a)},setCurrentTab:t=>{const n=e();n.current_tab=null===t?null:Number(t),s(n)},setTabName:t=>{const n=f.getTabObject(t),a=e();a.tabs[`tab_${t}`].title=n.getTaskTitle(),s(a)},getCurrentTabIndex:()=>e().current_tab,getTabTitle:t=>e().tabs[t].title,getTabObjects:()=>X.getLocalStorageValue().tabs,removeTab:t=>{const n=e();n.tabs[`tab_${t}`]=null,s(n)},addTask:(t,n)=>{const a=f.getTaskObject(t,n),o=e(),c=`{\n            "title": "${a.getTaskTitle()}",\n            "due_date": "${a.getTaskDueDate()}",\n            "description": "${a.getTaskDescription()}",\n            "notes": "${a.getTaskNotes()}",\n            "pinned": ${a.getPinnedState()},\n            "completed": ${a.getCompletedState()},\n            "checklist_tasks": {}\n        }`,i=JSON.parse(c);o.tabs[`tab_${t}`].tasks[`task_${n}`]=i,s(o)},setTaskSubcontainerValue:(t,n,a)=>{const o=f.getTaskObject(t,n),c=e();"Title"===a?c.tabs[`tab_${t}`].tasks[`task_${n}`].title=o.getTaskTitle():"Due Date"===a?c.tabs[`tab_${t}`].tasks[`task_${n}`].due_date=o.getTaskDueDate():"Description"===a?c.tabs[`tab_${t}`].tasks[`task_${n}`].description=o.getTaskDescription():"Notes"===a&&(c.tabs[`tab_${t}`].tasks[`task_${n}`].notes=o.getTaskNotes()),s(c)},toggleTaskPinned:(t,n)=>{const a=f.getTaskObject(t,n),o=e();o.tabs[`tab_${t}`].tasks[`task_${n}`].pinned=a.getPinnedState(),s(o)},toggleTaskCompleted:(t,n)=>{const a=f.getTaskObject(t,n),o=e();o.tabs[`tab_${t}`].tasks[`task_${n}`].completed=a.getCompletedState(),s(o)},getTaskValues:(t,s)=>{const n=e();let a=[];const o=n.tabs[t].tasks[s].title;a.push(o);const c=n.tabs[t].tasks[s].due_date;a.push(c);const i=n.tabs[t].tasks[s].description;a.push(i);const l=n.tabs[t].tasks[s].notes;a.push(l);const r=n.tabs[t].tasks[s].pinned;a.push(r);const d=n.tabs[t].tasks[s].completed;return a.push(d),a},getTaskObjects:t=>X.getLocalStorageValue().tabs[`tab_${t}`].tasks,removeTask:(t,n)=>{const a=e();a.tabs[`tab_${t}`].tasks[`task_${n}`]=null,s(a)},addChecklistTask:(t,n,a)=>{const o=f.getChecklistTaskObject(t,n,a),c=e(),i=`{\n            "description": "${o.getTaskDescription()}",\n            "completed": ${o.getCompletedState()}\n        }`,l=JSON.parse(i);c.tabs[`tab_${t}`].tasks[`task_${n}`].checklist_tasks[`checklist_task_${a}`]=l,s(c)},setChecklistTaskDescription:(t,n,a)=>{const o=f.getChecklistTaskObject(t,n,a),c=e();c.tabs[`tab_${t}`].tasks[`task_${n}`].checklist_tasks[`checklist_task_${a}`].description=o.getTaskDescription(),s(c)},toggleChecklistTaskCompleted:(t,n,a)=>{const o=f.getChecklistTaskObject(t,n,a),c=e();c.tabs[`tab_${t}`].tasks[`task_${n}`].checklist_tasks[`checklist_task_${a}`].completed=o.getCompletedState(),s(c)},getChecklistTaskValues:(t,s,n)=>{const a=e();let o=[];const c=a.tabs[t].tasks[s].checklist_tasks[n].description;o.push(c);const i=a.tabs[t].tasks[s].checklist_tasks[n].completed;return o.push(i),o},getChecklistTaskObjects:(t,e)=>X.getLocalStorageValue().tabs[`tab_${t}`].tasks[`task_${e}`].checklist_tasks,removeChecklistTask:(t,n,a)=>{const o=e();o.tabs[`tab_${t}`].tasks[`task_${n}`].checklist_tasks[`checklist_task_${a}`]=null,s(o)},checkForExistingStorage:()=>!!localStorage.getItem("to_do_list"),getLocalStorageValue:e,initializeTodoList:()=>{const t=`{\n            "current_tab": ${h.getCurrentTabIndex()},\n            "tabs": {}\n        }`,e=JSON.parse(t);s(e)},toggleLoading:()=>{t=!t},isLoading:()=>t}})(),G=(()=>{const p=(t,e="New Tab")=>{const s=E(e),n=$.addNewTabToDOM(s);if(C(n),!X.isLoading()&&(X.addTab(s),f.checkIfOnlyOneTab())){const t=D();$.addCurrentTabIndicator(),X.setCurrentTab(t)}return s},C=t=>{e(t),n(t),a(t)},S=(t,e=h.getCurrentTabIndex(),s="New Task Title",n="Task Due Date",a="Task Description",o="Task Notes",c=!1,i=!1)=>{if(null===h.getCurrentTabIndex())return void K();const l=L(e,s,n,a,o,c,i),r=$.addNewTaskToDOM(l);return y(r),X.isLoading()||X.addTask(h.getCurrentTabIndex(),l),l},y=t=>{d(t),c(t),r(t),k(t),l(t),m(t)},G=t=>{u(t),g(t),b(t)},K=()=>{const t=p(event,"Instructions"),e=S(event,t,"Quick Tips! Click the pin button to pin a task to the top of the list.","Tomorrow, next week, or whenever your task is due, you can add it here! Click the arrow button to toggle between showing and hiding task details.","Add a description of your task here! Click the pencil buttons to edit the various parts of your task.","Jot down some notes here! Mark your task as complete when you're done, or remove it from the list by clicking the X button.",!1,!1);$.toggleTaskDOMComplete(e),$.changePinButtonImage(e),$.shiftTaskElementPosition(e),Y(t,e,"If your task has multiple steps, try breaking them down into a checklist! Click the plus sign button to add steps as needed.",!1),Y(t,e,"Have a new task you want to keep track of? Add it to the list by clicking on the 'New Task' button below!",!1),Y(t,e,"Organize the different types of tasks in your life by creating themed tabs. Create a new tab by clicking on the plus sign button at the top of the list. Change tabs by clicking on different tab names.",!1)},Y=(t,e,s,n)=>{const a=q(t,e,s,n),o=$.addNewChecklistTaskToDOM(e,a);$.toggleChecklistTaskDOMComplete(e,a),G(o),X.isLoading()||X.addChecklistTask(t,e,a)},Z=()=>{X.toggleLoading(),tt(),et(),X.toggleLoading()},tt=()=>{const t=X.getCurrentTabIndex();h.setCurrentTabIndex(t)},et=()=>{const t=X.getTabObjects();for(const e in t)if(null===t[e])h.addTask(void 0);else{const t=X.getTabTitle(e),s=p(event,t);st(s,e)}$.addCurrentTabIndicator()},st=(t,e)=>{const s=f.getTabObject(t),n=X.getTaskObjects(t);for(const a in n)if(null===n[a])s.addTask(void 0);else{const s=X.getTaskValues(e,a),n=s[0],o=s[1],c=s[2],i=s[3],l=s[4],r=s[5];let d;t===h.getCurrentTabIndex()?(d=S(event,t,n,o,c,i,l,r),$.toggleTaskDOMComplete(d),$.changePinButtonImage(d),$.shiftTaskElementPosition(d)):d=L(t,n,o,c,i,l,r),nt(t,e,d,a)}},nt=(t,e,s,n)=>{const a=f.getTaskObject(t,s),o=X.getChecklistTaskObjects(t,s);for(const c in o)if(null===o[c])a.addTask(void 0);else{const a=X.getChecklistTaskValues(e,n,c),o=a[0],i=a[1];let l;l=t===h.getCurrentTabIndex()?Y(t,s,o,i):q(t,s,o,i)}},at=()=>{t(),o()};return{addTab:p,insertTabInputElement:t=>{if(!f.checkForExistingInputElement(t,"Tab")){const e=f.getTabIndex(t),n=$.insertTabInputElement(e);j(e),$.setTabInputElementValue(e),s(n)}},updateTab:t=>{if("Enter"===t.code){const e=f.getTabIndex(t),s=f.getNewValue(t);I(e,s);const n=$.insertTabNameElement(e);w(e),a(n),X.setTabName(e)}},switchTab:t=>{if(!f.checkIfWasCurrentTab(t)){const e=f.getTabIndex(t);v(e),M(),$.addCurrentTabIndicator(),z(),$.loadTasksFromNewCurrentTab(),X.setCurrentTab(e)}},removeTab:t=>{const e=f.getTabIndex(t);if(W(e),P(e),X.removeTab(e),f.checkIfWasCurrentTab(t)){const t=D();$.addCurrentTabIndicator(),z(),X.setCurrentTab(t),f.checkIfNoMoreTabs()||$.loadTasksFromNewCurrentTab()}},addTabListeners:C,addTask:S,insertTaskInputElement:t=>{if(!f.checkForExistingInputElement(t,"Task")){const e=f.getTaskIndex(t),s=f.getTaskSubcontainerType(t);B(e,s);const n=$.insertTaskInputElement(e,s);$.setTaskInputElementValue(e,s),i(n)}},updateTask:t=>{if("Enter"===t.code){const e=f.getTaskIndex(t),s=f.getTaskSubcontainerType(t),n=f.getNewValue(t);x(e,s,n),$.insertTaskSubcontentElement(e,s),H(e,s),X.setTaskSubcontainerValue(h.getCurrentTabIndex(),e,s)}},toggleTaskPin:t=>{const e=f.getTaskIndex(t);$.toggleAnimations(e,"Enable"),N(e),$.changePinButtonImage(e),$.shiftTaskElementPosition(e),X.toggleTaskPinned(h.getCurrentTabIndex(),e)},toggleTaskComplete:t=>{const e=f.getTaskIndex(t);O(e),$.toggleTaskDOMComplete(e),X.toggleTaskCompleted(h.getCurrentTabIndex(),e)},removeTask:t=>{const e=f.getTaskIndex(t);Q(e),V(e),X.removeTask(h.getCurrentTabIndex(),e)},addTaskListeners:y,addNewChecklistTask:t=>{const e=h.getCurrentTabIndex(),s=f.getTaskIndex(t),n=q(e,s),a=$.addNewChecklistTaskToDOM(s,n);G(a),X.isLoading()||X.addChecklistTask(h.getCurrentTabIndex(),s,n)},insertChecklistTaskInputElement:t=>{if(!f.checkForExistingInputElement(t,"Checklist Task")){const e=f.getTaskIndex(t),s=f.getChecklistTaskIndex(t);R(e,s);const n=$.insertChecklistTaskInputElement(e,s);$.setChecklistTaskInputElementValue(e,s),T(n)}},updateChecklistTask:t=>{if("Enter"===t.code){const e=f.getTaskIndex(t),s=f.getChecklistTaskIndex(t),n=f.getNewValue(t);A(e,s,n),$.insertChecklistTaskDescriptionElement(e,s),F(e,s),X.setChecklistTaskDescription(h.getCurrentTabIndex(),e,s)}},toggleChecklistTaskComplete:t=>{const e=f.getTaskIndex(t),s=f.getChecklistTaskIndex(t);_(e,s),$.toggleChecklistTaskDOMComplete(e,s),X.toggleChecklistTaskCompleted(h.getCurrentTabIndex(),e,s)},removeChecklistTask:t=>{const e=f.getTaskIndex(t),s=f.getChecklistTaskIndex(t);U(e,s),J(e,s),X.removeChecklistTask(h.getCurrentTabIndex(),e,s)},addChecklistTaskListeners:G,toggleDisplayTaskDetails:t=>{const e=f.getTaskIndex(t);f.tryingToDoubleClick(e)||($.toggleAnimations(e,"Disable"),$.toggleDisplayTaskDetails(e),$.rotateChevronButton(e))},loadInInstructionsPage:K,loadInLocalStorage:Z,loadInTabObjects:et,loadInInitialListeners:at,loadInPage:()=>{at(),X.checkForExistingStorage()?Z():(X.initializeTodoList(),K())}}})();G.loadInPage()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTVksRUFBWWQsRUFBZ0JxQixhQUFhbkIsR0FDekN3QixFQUFxQjFCLEVBQWdCeUIsc0JBQXNCdkIsR0FDakUySyxFQUE4RC9KLEVBQVdZLEdBQ3pFK0ksRUFBa0QzSixFQUFXWSxHQUM3RG9KLEVBQWdCM00sb0JBQW9CZSxFQUFTRSxxQkFBc0IwQixFQUFXWSxFQUFtQixFQStLakdvSCw0QkFDQXpLLHlCQXpLOEI2QixJQUM5QixNQUFNWSxFQUFZZCxFQUFnQnFCLGFBQWFuQixHQUMxQ0YsRUFBZ0J1QyxvQkFBb0J6QixLQUNyQ3dFLEVBQXFCZ0YsaUJBQWlCeEosRUFBVyxXQUNqRHdFLEVBQXFCakgseUJBQXlCeUMsR0FDOUN3RSxFQUFxQjZFLG9CQUFvQnJKLEdBQzVDLEVBb0tEa04seUJBQ0FHLHFCQUNBRSxvQkFDQU8sMEJBQ0FFLFdBbENlLEtBQ2ZGLEtBQ0k5RCxFQUFnQjJDLDBCQUNoQlUsS0FFQXJELEVBQWdCNEMscUJBQ2hCTSxJQUNILEVBNkJSLEVBblhvQixHQ1ByQi9SLEVBQWE2UyxZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9ldmVudF9hc3NpZ25lcl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvaGVscGVyX2Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9vYmplY3RfY29udHJvbGxlcl9hZGRfZWRpdF9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3RhYl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3Rhc2tfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2NoZWNrbGlzdF90YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvRE9NX2NvbnRyb2xsZXJfcmVtb3ZlLmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvb2JqZWN0X2NvbnRyb2xsZXJfcmVtb3ZlX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fbGlzdF9zdG9yYWdlX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5cbmNvbnN0IGV2ZW50QXNzaWduZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYkxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YWJcIik7XG4gICAgICAgIGFkZFRhYkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmFkZFRhYik7XG4gICAgfTtcbiAgICBjb25zdCBhZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJFZGl0QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuaW5zZXJ0VGFiSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhZGRUYWJJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZVRhYilcbiAgICB9XG4gICAgY29uc3QgYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiUmVtb3ZlQnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5yZW1vdmUtdGFiXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFiUmVtb3ZlQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIucmVtb3ZlVGFiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFN3aXRjaFRhYkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYlN3aXRjaEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpdGNoLXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYlN3aXRjaEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnN3aXRjaFRhYik7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGFkZE5ld1Rhc2tMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFza0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXRvLWRvLXRhc2tcIik7XG4gICAgICAgIG5ld1Rhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGRUYXNrKTtcbiAgICB9XG4gICAgY29uc3QgYWRkRWRpdFRhc2tMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza0VkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZVRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tQaW5CdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1waW5cIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tQaW5CdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVUYXNrUGluKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZVRhc2tDb21wbGV0ZUxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZUNoZWNrYm94ZXMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrYm94IG9mIHRhc2tDb21wbGV0ZUNoZWNrYm94ZXMpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlVGFza0NvbXBsZXRlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrUmVtb3ZlQnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1yZW1vdmUtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVUYXNrKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrQnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYWRkLWNoZWNrbGlzdC10YXNrXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiBuZXdDaGVja2xpc3RUYXNrQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuYWRkTmV3Q2hlY2tsaXN0VGFzaylcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEVkaXRDaGVja2xpc3RUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC1jaGVja2xpc3QtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGNoZWNrbGlzdEVkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENoZWNrbGlzdFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZUNoZWNrbGlzdFRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5jaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tib3ggb2YgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzKSB7XG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlbW92ZS1jaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZUNoZWNrbGlzdFRhc2spO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkVG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1RvZ2dsZURpc3BsYXlCdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby10YXNrLWNoYW5nZS1kaXNwbGF5XCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZE5ld1RhYkxpc3RlbmVyLFxuICAgICAgICBhZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIsXG4gICAgICAgIGFkZFRhYklucHV0TGlzdGVuZXIsXG4gICAgICAgIGFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyLFxuICAgICAgICBhZGRTd2l0Y2hUYWJMaXN0ZW5lcixcbiAgICAgICAgYWRkTmV3VGFza0xpc3RlbmVyLFxuICAgICAgICBhZGRFZGl0VGFza0xpc3RlbmVyLFxuICAgICAgICBhZGRUYXNrSW5wdXRMaXN0ZW5lcixcbiAgICAgICAgYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVyLFxuICAgICAgICBhZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lcixcbiAgICAgICAgYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyLFxuICAgICAgICBhZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXIsXG4gICAgICAgIGFkZEVkaXRDaGVja2xpc3RUYXNrTGlzdGVuZXIsXG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tJbnB1dExpc3RlbmVyLFxuICAgICAgICBhZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lcixcbiAgICAgICAgYWRkUmVtb3ZlQ2hlY2tsaXN0VGFza0xpc3RlbmVyLFxuICAgICAgICBhZGRUb2dnbGVEaXNwbGF5VGFza0RldGFpbHNMaXN0ZW5lclxuICAgIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEFzc2lnbmVyIH07IiwiY29uc3QgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0KSA9PiB7XG4gICAgbGV0IGNoZWNrbGlzdCA9IFtdO1xuICAgIGNvbnN0IGdldFRhc2tJbmRleCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGFkZFRhc2sodGFzaykge1xuICAgICAgICAgICAgY2hlY2tsaXN0LnB1c2godGFzayk7XG4gICAgICAgICAgICAvLyByZXR1cm4gY2hlY2tsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGFza0luZGV4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVRhc2soaW5kZXgpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFtpbmRleF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENoZWNrbGlzdFRhc2tzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrbGlzdDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tsaXN0W2luZGV4XTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfTsiLCIvLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb0xpc3QgPSAoKCkgPT4ge1xuICAgIGxldCBjdXJyZW50VGFiID0gMDtcbiAgICBjb25zdCBnZXRDdXJyZW50VGFiSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjdXJyZW50VGFiO1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q3VycmVudFRhYkluZGV4ID0gKG5ld0N1cnJlbnRUYWIpID0+IHtcbiAgICAgICAgaWYgKG5ld0N1cnJlbnRUYWIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRUYWIgPSBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudFRhYiA9IE51bWJlcihuZXdDdXJyZW50VGFiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldEN1cnJlbnRUYWJPYmplY3QgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IGdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIHJldHVybiBjdXJyZW50VGFiT2JqZWN0O1xuICAgIH1cbiAgICBsZXQgb2JqZWN0ID0ge1xuICAgICAgICBnZXRDdXJyZW50VGFiSW5kZXgsXG4gICAgICAgIHNldEN1cnJlbnRUYWJJbmRleCxcbiAgICAgICAgZ2V0Q3VycmVudFRhYk9iamVjdFxuICAgIH07XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufSkoKTtcblxuZXhwb3J0IHsgdG9Eb0xpc3QgfTsiLCJjb25zdCB0aXRsZUJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbFRpdGxlKSA9PiB7XG4gICAgbGV0IHRpdGxlID0gaW5pdGlhbFRpdGxlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrVGl0bGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tUaXRsZShuZXdUaXRsZSkge1xuICAgICAgICAgICAgdGl0bGUgPSBuZXdUaXRsZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5cbmNvbnN0IGhlbHBlckZ1bmN0aW9ucyA9ICgoKSA9PiB7XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhYkVsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHRhYkVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgIT09IFwidGFiLXRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhYkVsZW1lbnQgPSB0YWJFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YWJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudCA9IChldmVudCwgZWxlbWVudFR5cGUpID0+IHtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGVsZW1lbnRUeXBlID09PSBcIlRhYlwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50ID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYi1uYW1lLWlucHV0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBcIlRhc2tcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgaW5wdXRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50YXNrLWlucHV0XCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRUeXBlID09PSBcIkNoZWNrbGlzdCBUYXNrXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQgPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tJZldhc0N1cnJlbnRUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHRhYkVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IFwiY3VycmVudC10YWJcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0lmT25seU9uZVRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFicyA9IEFycmF5LmZyb20odG9Eb1RhYlNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50YWItdGl0bGVcIikpO1xuICAgICAgICBpZiAodG9Eb1RhYnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza0VsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJ0by1kby10YXNrXCIpKSB7XG4gICAgICAgICAgICB0YXNrRWxlbWVudCA9IHRhc2tFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YXNrRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYXNrU3ViY29udGFpbmVyRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lckVsZW1lbnQuY2xhc3NMaXN0KVxuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcInRvLWRvLXRhc2stc3ViY29udGFpbmVyXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHRhc2tTdWJjb250YWluZXJFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXJFbGVtZW50LmNsYXNzTGlzdClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbShjaGVja2xpc3RUYXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcImNoZWNrbGlzdC10YXNrXCIpKSB7XG4gICAgICAgICAgICBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKGNoZWNrbGlzdFRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgZ2V0VGFza0luZGV4ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIHJldHVybiB0YXNrSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDaGVja2xpc3RUYXNrSW5kZXggPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBjaGVja2xpc3RUYXNrRWxlbWVudC5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhYkluZGV4ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhYkluZGV4ID0gdGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICByZXR1cm4gdGFiSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBnZXROZXdWYWx1ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFza1N1YmNvbnRhaW5lclR5cGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudENsYXNzZXMgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXJFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInRvLWRvLXRpdGxlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJUeXBlID0gXCJUaXRsZVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJUeXBlID0gXCJEdWUgRGF0ZVwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJUeXBlID0gXCJEZXNjcmlwdGlvblwiO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcInRvLWRvLW5vdGVzLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJUeXBlID0gXCJOb3Rlc1wiO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFza1N1YmNvbnRhaW5lclR5cGU7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBnZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10aXRsZS1zZWN0aW9uXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWR1ZS1kYXRlLXNlY3Rpb25cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvblwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIk5vdGVzXCIpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1ub3Rlcy1zZWN0aW9uXCIpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrRWxlbWVudCA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YXNrLWluZGV4PScke3Rhc2tJbmRleH0nXWApO1xuICAgICAgICByZXR1cm4gdGFza0VsZW1lbnQ7XG4gICAgfVxuICAgIGNvbnN0IGdldENoZWNrbGlzdFRhc2tFbGVtZW50ID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1jaGVja2xpc3QtdGFzay1pbmRleD0nJHtjaGVja2xpc3RUYXNrSW5kZXh9J11gKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBnZXRUYWJFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWItaW5kZXg9JyR7dGFiSW5kZXh9J11gKTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCB0cnlpbmdUb0RvdWJsZUNsaWNrID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tDbGFzc2VzID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICBpZiAodGFza0NsYXNzZXMuaW5jbHVkZXMoXCJtaWQtYW5pbWF0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhYk9iamVjdCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICByZXR1cm4gdGFiT2JqZWN0O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFza09iamVjdCA9ICh0YWJJbmRleCwgdGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IGdldFRhYk9iamVjdCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSB0YWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIHJldHVybiB0YXNrT2JqZWN0O1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q2hlY2tsaXN0VGFza09iamVjdCA9ICh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza09iamVjdDtcbiAgICB9XG4gICAgY29uc3QgY2hlY2tJZk5vTW9yZVRhYnMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYnMgPSBBcnJheS5mcm9tKHRvRG9UYWJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLXRpdGxlXCIpKTtcbiAgICAgICAgaWYgKHRvRG9UYWJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4geyBjaGVja0lmV2FzQ3VycmVudFRhYiwgY2hlY2tJZk9ubHlPbmVUYWIsIGdldFRhc2tJbmRleCxcbiAgICAgICAgZ2V0Q2hlY2tsaXN0VGFza0luZGV4LCBnZXRUYWJJbmRleCwgZ2V0TmV3VmFsdWUsIGdldFRhc2tTdWJjb250YWluZXJUeXBlLFxuICAgICAgICBnZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCwgZ2V0VGFza0VsZW1lbnQsIGdldENoZWNrbGlzdFRhc2tFbGVtZW50LFxuICAgICAgICBnZXRUYWJFbGVtZW50LCBjaGVja0ZvckV4aXN0aW5nSW5wdXRFbGVtZW50LCB0cnlpbmdUb0RvdWJsZUNsaWNrLCBnZXRUYWJPYmplY3QsIGdldFRhc2tPYmplY3QsIGdldENoZWNrbGlzdFRhc2tPYmplY3QsIGNoZWNrSWZOb01vcmVUYWJzIH07XG59KSgpO1xuXG5leHBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfTsiLCJjb25zdCBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbERlc2NyaXB0aW9uKSA9PiB7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gaW5pdGlhbERlc2NyaXB0aW9uO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRGVzY3JpcHRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tEZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IiwiLy8gb3JpZ2luYWwgd2hlcmUgYWxsIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZ2V0IHJldHVybmVkLCBzbyBubyBwcml2YXRlIGZpZWxkcyAoY29tcGxldGVkIHNob3VsZCBiZSBwcml2YXRlKVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2FuQ29tcGxldGUgPSAob2JqZWN0KSA9PiAoe1xuLy8gICAgIGNvbXBsZXRlZDogZmFsc2UsXG4vLyAgICAgdG9nZ2xlOiAoKSA9PiB7XG4vLyAgICAgICAgIGlmIChvYmplY3QuY29tcGxldGVkKSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gZmFsc2U7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gdHJ1ZTtcbi8vICAgICAgICAgfTtcbi8vICAgICB9LFxuLy8gICAgIGdldENvbXBsZXRlZFN0YXRlOiAoKSA9PiB7XG4vLyAgICAgICAgIHJldHVybiBvYmplY3QuY29tcGxldGVkXG4vLyAgICAgfVxuLy8gfSk7XG5cbmNvbnN0IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbENvbXBsZXRlZFN0YXRlKSA9PiB7XG4gICAgbGV0IGNvbXBsZXRlZCA9IGluaXRpYWxDb21wbGV0ZWRTdGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlQ29tcGxldGVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRDb21wbGV0ZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgdG9Eb1Rhc2sgfSBmcm9tIFwiLi90b2RvX3Rhc2tfb2JqZWN0XCI7XG5pbXBvcnQgeyBjaGVja2xpc3RUYXNrT2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X3Rhc2tfb2JqZWN0XCI7XG5cbmNvbnN0IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0ID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJUb1RvZG9BcnJheSA9ICh0YWJOYW1lPVwiTmV3IFRhYlwiKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RhYiA9IHRvRG9UYWIodGFiTmFtZSk7XG4gICAgICAgIHJldHVybiB0b0RvTGlzdC5hZGRUYXNrKG5ld1RhYik7XG4gICAgfVxuICAgIGNvbnN0IGVkaXRUYWJOYW1lID0gKHRhYkluZGV4LCBuZXdUYWJOYW1lKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIHRhYk9iamVjdC5zZXRUYXNrVGl0bGUobmV3VGFiTmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KHRhYkluZGV4KVxuICAgIH1cbiAgICBjb25zdCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiQXJyYXkgPSB0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpO1xuICAgICAgICBsZXQgZmlyc3RUYWIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgdGFiIGluIHRhYkFycmF5KSB7XG4gICAgICAgICAgICBpZiAodGFiQXJyYXlbdGFiXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdG9Eb0xpc3Quc2V0Q3VycmVudFRhYkluZGV4KHRhYik7XG4gICAgICAgICAgICAgICAgZmlyc3RUYWIgPSB0YWI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0VGFiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRvRG9MaXN0LnNldEN1cnJlbnRUYWJJbmRleChudWxsKVxuICAgICAgICByZXR1cm4gbnVsbFxuICAgIH07XG4gICAgY29uc3QgYWRkTmV3VGFza1RvVGFiID0gKHRhYkluZGV4LCB0aXRsZT1cIk5ldyBUYXNrIFRpdGxlXCIsIGR1ZURhdGU9XCJUYXNrIER1ZSBEYXRlXCIsIGRlc2NyaXB0aW9uPVwiVGFzayBEZXNjcmlwdGlvblwiLCBub3Rlcz1cIlRhc2sgTm90ZXNcIiwgcGlubmVkPWZhbHNlLCBjb21wbGV0ZWQ9ZmFsc2UpID0+IHtcbiAgICAgICAgLy8gY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhYkluZGV4KVxuICAgICAgICBjb25zdCBuZXdUYXNrID0gdG9Eb1Rhc2sodGl0bGUsIGR1ZURhdGUsIGRlc2NyaXB0aW9uLCBub3RlcywgcGlubmVkLCBjb21wbGV0ZWQpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdUYXNrKVxuICAgICAgICBjb25zdCBuZXdUYXNrSW5kZXggPSB0YWJPYmplY3QuYWRkVGFzayhuZXdUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGVkaXRUYXNrT2JqZWN0SW5mbyA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUsIG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3Quc2V0VGFza1RpdGxlKG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgdGFza09iamVjdC5zZXRUYXNrRHVlRGF0ZShuZXdUYXNrU3ViY29udGVudFZhbHVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkRlc2NyaXB0aW9uXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3Quc2V0VGFza0Rlc2NyaXB0aW9uKG5ld1Rhc2tTdWJjb250ZW50VmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiTm90ZXNcIikge1xuICAgICAgICAgICAgdGFza09iamVjdC5zZXRUYXNrTm90ZXMobmV3VGFza1N1YmNvbnRlbnRWYWx1ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrQ29tcGxldGUgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICB0YXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGRlc2NyaXB0aW9uPVwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb25cIiwgY29tcGxldGVkPWZhbHNlKSA9PiB7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRhc2tJbmRleClcbiAgICAgICAgLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCkpXG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSB0YWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2sgPSBjaGVja2xpc3RUYXNrT2JqZWN0KGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrSW5kZXggPSB0YXNrT2JqZWN0LmFkZFRhc2sobmV3Q2hlY2tsaXN0VGFzayk7XG4gICAgICAgIHJldHVybiBuZXdDaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgfTtcbiAgICBjb25zdCBlZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4LCBuZXdEZXNjcmlwdGlvblZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY2hlY2tsaXN0VGFza09iamVjdC5zZXRUYXNrRGVzY3JpcHRpb24obmV3RGVzY3JpcHRpb25WYWx1ZSk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjaGVja2xpc3RUYXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrUGluID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgdGFza09iamVjdC50b2dnbGVQaW5uZWRTdGF0ZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiVG9Ub2RvQXJyYXksIGVkaXRUYWJOYW1lLCB1cGRhdGVDdXJyZW50VGFiLCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYixcbiAgICAgICAgYWRkTmV3VGFza1RvVGFiLCBlZGl0VGFza09iamVjdEluZm8sIHRvZ2dsZVRhc2tDb21wbGV0ZSwgYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzayxcbiAgICAgICAgZWRpdENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiwgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlLCB0b2dnbGVUYXNrUGluLCB9O1xufSkoKTtcblxuZXhwb3J0IHsgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgfTsiLCJpbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb1RhYiA9ICh0aXRsZSkgPT4ge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgdGl0bGVCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIHRpdGxlKSxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCB7IHRvRG9UYWIgfTsiLCJpbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kdWVfZGF0ZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3Bpbm5lZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb1Rhc2sgPSAodGl0bGUsIGR1ZURhdGUsIGRlc2NyaXB0aW9uLCBub3RlcywgcGlubmVkLCBjb21wbGV0ZWQpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksIFxuICAgICAgICBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZGVzY3JpcHRpb24pLFxuICAgICAgICBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkdWVEYXRlKSxcbiAgICAgICAgbm90ZXNCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIG5vdGVzKSxcbiAgICAgICAgLy8gY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudChvYmplY3QpLFxuICAgICAgICBwaW5uZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIHBpbm5lZCksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgY29tcGxldGVkKSxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCB7IHRvRG9UYXNrIH07IiwiY29uc3QgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbER1ZURhdGUpID0+IHtcbiAgICBsZXQgZHVlRGF0ZSA9IGluaXRpYWxEdWVEYXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRHVlRGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkdWVEYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrRHVlRGF0ZShuZXdEdWVEYXRlKSB7XG4gICAgICAgICAgICBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IH0iLCJjb25zdCBub3Rlc0JlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbE5vdGVzKSA9PiB7XG4gICAgbGV0IG5vdGVzID0gaW5pdGlhbE5vdGVzO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrTm90ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gbm90ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tOb3RlcyhuZXdOb3Rlcykge1xuICAgICAgICAgICAgbm90ZXMgPSBuZXdOb3RlcztcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3QgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsUGlubmVkU3RhdGUpID0+IHtcbiAgICBsZXQgcGlubmVkID0gaW5pdGlhbFBpbm5lZFN0YXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICB0b2dnbGVQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChwaW5uZWQpIHtcbiAgICAgICAgICAgICAgICBwaW5uZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBpbm5lZFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBpbm5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcblxuLy8gb3JpZ2luYWwgd2hlcmUgb2JqZWN0IHdvdWxkIG5lZWQgdG8gaGF2ZSBPYmplY3QuYXNzaWduKCkgZm9yIGV2ZXJ5IGluc3RhbmNlXG4vLyBrZWVwaW5nIGZvciBwb3N0ZXJpdHksIHByb2JhYmx5IHdpbGwgZGVsZXRlZCBhdCB0aGUgZW5kXG4vLyBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gKGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gY29uc3QgZ2V0VGFza0Rlc2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIC8vICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgLy8gfTtcbiAgICAvLyBjb25zdCBzZXRUYXNrRGVzY3JpcHRpb24gPSAobmV3RGVzY3JpcHRpb24pID0+IHtcbiAgICAvLyAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAvLyB9O1xuLy8gICAgIHJldHVybiB7IGdldFRhc2tEZXNjcmlwdGlvbiwgc2V0VGFza0Rlc2NyaXB0aW9uIH07XG4vLyB9O1xuXG5jb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gKGRlc2NyaXB0aW9uLCBjb21wbGV0ZWQpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkZXNjcmlwdGlvbiksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgY29tcGxldGVkKVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn1cblxuZXhwb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuaW1wb3J0IHsgZXZlbnRBc3NpZ25lciB9IGZyb20gXCIuL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgZXZlbnRCdW5kbGVyIH0gZnJvbSBcIi4vZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcblxuY29uc3QgRE9NQ29udHJvbGxlckFkZEVkaXQgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYlRvRE9NID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGFkZFRhYkJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhYlwiKTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBuZXdUYWJFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgY29uc3QgbmV3VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgbmV3VGFiT2JqZWN0VGl0bGUgPSBuZXdUYWJPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIG5ld1RhYkVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhYi10aXRsZVwiKTtcbiAgICAgICAgbmV3VGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4ID0gaW5kZXg7XG4gICAgICAgIG5ld1RhYkVsZW1lbnQuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInN3aXRjaC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJ0YWItbmFtZVwiPlRBQiBOQU1FIFBMQUNFSE9MREVSPC9oMj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFiIG5hbWUgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZW1vdmUtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiUmVtb3ZlIHRhYiBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICBgO1xuICAgICAgICBjb25zdCB0YWJOYW1lRWxlbWVudCA9IG5ld1RhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWItbmFtZVwiKTtcbiAgICAgICAgdGFiTmFtZUVsZW1lbnQudGV4dENvbnRlbnQgPSBuZXdUYWJPYmplY3RUaXRsZTtcbiAgICAgICAgdG9Eb1RhYlNlY3Rpb24uaW5zZXJ0QmVmb3JlKG5ld1RhYkVsZW1lbnQsIGFkZFRhYkJ1dHRvbik7XG4gICAgICAgIHJldHVybiBuZXdUYWJFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFiTmFtZSA9IHRhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gdGFiTmFtZTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YWItbmFtZS1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICB0YWJFbGVtZW50Lmluc2VydEJlZm9yZShpbnB1dEVsZW1lbnQsIHRhYkVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJOYW1lRWxlbWVudCA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYkVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBjb25zdCB0YWJCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICB0YWJCdXR0b24uY2xhc3NMaXN0LmFkZChcInN3aXRjaC10YWJcIik7XG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIHRhYkJ1dHRvbk5hbWUuY2xhc3NMaXN0LmFkZChcInRhYi1uYW1lXCIpO1xuICAgICAgICB0YWJCdXR0b25OYW1lLnRleHRDb250ZW50ID0gdGFiTmFtZTtcbiAgICAgICAgdGFiQnV0dG9uLmFwcGVuZENoaWxkKHRhYkJ1dHRvbk5hbWUpO1xuICAgICAgICB0YWJFbGVtZW50Lmluc2VydEJlZm9yZSh0YWJCdXR0b24sIHRhYkVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIHJldHVybiB0YWJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgYWRkQ3VycmVudFRhYkluZGljYXRvciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGlmIChjdXJyZW50VGFiSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIHRhYkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiaWRcIiwgXCJjdXJyZW50LXRhYlwiKTtcbiAgICB9XG4gICAgY29uc3QgYWRkTmV3VGFza1RvRE9NID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCk7XG4gICAgICAgIGNvbnN0IHRvRG9Db250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld1Rhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby10YXNrXCIpO1xuICAgICAgICBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleCA9IGluZGV4O1xuICAgICAgICBjb25zdCBuZXdUYXNrVGl0bGUgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRGVzY3JpcHRpb24gPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICBjb25zdCBuZXdUYXNrRHVlRGF0ZSA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza05vdGVzID0gbmV3VGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0NvbXBsZXRlSUQgPSBgdG8tZG8tY29tcGxldGUtY2hlY2tib3gtJHtpbmRleH1gO1xuICAgICAgICBuZXdUYXNrRWxlbWVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tdGFzay1vdmVydmlld1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby10aXRsZS1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cInRvLWRvLXRpdGxlXCI+VElUTEUgUExBQ0VIT0xERVI8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tcGluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIiBhbHQ9XCJQaW4gdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stdGl0bGUgZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIHRpdGxlIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvLWRvLXJlbW92ZS10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiSUQgUExBQ0VIT0xERVJcIiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLWxhYmVsXCI+Q29tcGxldGVkOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIlwiIGNsYXNzPVwidG8tZG8tY29tcGxldGUtY2hlY2tib3hcIiBpZD1cIklEIFBMQUNFSE9MREVSXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tdGFzay1jaGFuZ2UtZGlzcGxheVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2hldnJvbi1kb3duLnBuZ1wiIGFsdD1cIkNoYW5nZSB0YXNrIGRpc3BsYXkgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tZHVlLWRhdGVcIj5EVUUgREFURSBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1kdWUtZGF0ZSBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgZHVlIGRhdGUgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lciBhbmltYXRpb24tdGFyZ2V0XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0by1kby1kZXNjcmlwdGlvblwiPkRFU0NSSVBUSU9OIFBMQUNFSE9MREVSPC9wPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stZGVzY3JpcHRpb24gZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgZGVzY3JpcHRpb24gYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1ub3Rlcy1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyIGFuaW1hdGlvbi10YXJnZXRcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRvLWRvLW5vdGVzXCI+Tk9URVMgUExBQ0VIT0xERVI8L3A+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1ub3RlcyBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayBub3RlcyBidXR0b25cIj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBhY3Rpb249XCJcIiBjbGFzcz1cImNoZWNrbGlzdCBhbmltYXRpb24tdGFyZ2V0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrbGlzdC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxlZ2VuZCBjbGFzcz1cImNoZWNrbGlzdC1sYWJlbFwiPkNoZWNrbGlzdDwvbGVnZW5kPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWRkLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGx1cy5wbmdcIiBhbHQ9XCJBZGQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IHRpdGxlRWxlbWVudCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGl0bGVcIik7XG4gICAgICAgIHRpdGxlRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld1Rhc2tUaXRsZTtcbiAgICAgICAgY29uc3QgZHVlRGF0ZUVsZW1lbnQgPSBuZXdUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWR1ZS1kYXRlXCIpO1xuICAgICAgICBkdWVEYXRlRWxlbWVudC50ZXh0Q29udGVudCA9IFwiRHVlIE9uOiBcIiArIG5ld1Rhc2tEdWVEYXRlO1xuICAgICAgICBjb25zdCBkZXNjcmlwdGlvbkVsZW1lbnQgPSBuZXdUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBkZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkRlc2NyaXB0aW9uOiBcIiArIG5ld1Rhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY29uc3Qgbm90ZXNFbGVtZW50ID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1ub3Rlc1wiKTtcbiAgICAgICAgbm90ZXNFbGVtZW50LnRleHRDb250ZW50ID0gXCJOb3RlczogXCIgKyBuZXdUYXNrTm90ZXM7XG4gICAgICAgIHRvRG9Db250ZW50LmFwcGVuZENoaWxkKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgY29uc3QgY29tcGxldGVMYWJlbCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtcbiAgICAgICAgY29tcGxldGVMYWJlbC5zZXRBdHRyaWJ1dGUoXCJmb3JcIiwgbmV3VGFza0NvbXBsZXRlSUQpO1xuICAgICAgICBjb25zdCBjb21wbGV0ZUNoZWNrYm94ID0gbmV3VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgY29tcGxldGVDaGVja2JveC5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBuZXdUYXNrQ29tcGxldGVJRCk7XG4gICAgICAgIHJldHVybiBuZXdUYXNrRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFza0lucHV0RWxlbWVudCA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFzay1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyLmluc2VydEJlZm9yZShpbnB1dEVsZW1lbnQsIHRhc2tTdWJjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3Qgc2V0VGFza0lucHV0RWxlbWVudFZhbHVlID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBsZXQgdGFza09iamVjdFZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoYnV0dG9uVHlwZSA9PT0gXCJUaXRsZVwiKSB7XG4gICAgICAgICAgICB0YXNrT2JqZWN0VmFsdWUgPSB0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgdGFza09iamVjdFZhbHVlID0gdGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRGVzY3JpcHRpb25cIikge1xuICAgICAgICAgICAgdGFza09iamVjdFZhbHVlID0gdGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIk5vdGVzXCIpIHtcbiAgICAgICAgICAgIHRhc2tPYmplY3RWYWx1ZSA9IHRhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IHRhc2tPYmplY3RWYWx1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydFRhc2tTdWJjb250ZW50RWxlbWVudCA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQodGFza0luZGV4LCBidXR0b25UeXBlKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGVudEVsZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChidXR0b25UeXBlID09PSBcIlRpdGxlXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tUaXRsZSA9IHRhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLXRpdGxlXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gdGFza1RpdGxlO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgY29uc3QgdGFza0R1ZURhdGUgPSB0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tZHVlLWRhdGVcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkR1ZSBPbjogXCIgKyB0YXNrRHVlRGF0ZTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIkRlc2NyaXB0aW9uXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tEZXNjcmlwdGlvbiA9IHRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIkRlc2NyaXB0aW9uOiBcIiArIHRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlID09PSBcIk5vdGVzXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tOb3RlcyA9IHRhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tbm90ZXNcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSBcIk5vdGVzOiBcIiArIHRhc2tOb3RlcztcbiAgICAgICAgfTtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRhc2tTdWJjb250ZW50RWxlbWVudCwgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIGNvbnN0IHRvZ2dsZVRhc2tET01Db21wbGV0ZSA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY29tcGxldGVDaGVja2JveCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSAgdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdGFza0NvbXBsZXRlZFN0YXRlZCA9IHRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKTtcbiAgICAgICAgaWYgKHRhc2tDb21wbGV0ZWRTdGF0ZWQpIHtcbiAgICAgICAgICAgIGNvbXBsZXRlQ2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFzay1jb21wbGV0ZWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb21wbGV0ZUNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJ0YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSA9ICh0YXNrSW5kZXgsIG5ld0NoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFbGVtZW50ID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3RcIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sobmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4ID0gbmV3Q2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrRWxlbWVudC5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7bmV3Q2hlY2tsaXN0VGFza0luZGV4fVwiIGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBERVNDUklQVElPTiBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgYFxuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY2hlY2tsaXN0RWxlbWVudC5hcHBlbmRDaGlsZChuZXdDaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIHJldHVybiBuZXdDaGVja2xpc3RUYXNrRWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWlucHV0XCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9yXCIsIGBjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7Y2hlY2tsaXN0VGFza0luZGV4fWApO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLmFwcGVuZENoaWxkKGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveCA9IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94LmNoZWNrZWQgPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgIGlmIChjaGVja2xpc3RUYXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3guY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC10YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3guY2xhc3NMaXN0LnJlbW92ZShcImNoZWNrbGlzdC10YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGNoYW5nZVBpbkJ1dHRvbkltYWdlID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrRWxlbWVudCh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgcGluQnV0dG9uID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1waW5cIilcbiAgICAgICAgY29uc3QgcGluQnV0dG9uSW1hZ2UgPSBwaW5CdXR0b24ucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcbiAgICAgICAgdGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpXG4gICAgICAgICAgICA/IHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi1waW5uZWQucG5nXCIpXG4gICAgICAgICAgICA6IHBpbkJ1dHRvbkltYWdlLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIik7XG4gICAgfTtcbiAgICBjb25zdCBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24gPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudEluZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgaWYgKHRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnBpbm5lZC10YXNrXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgdGFza0NvbnRlbnRTZWN0aW9uLmZpcnN0RWxlbWVudENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyYXlFbmRJbmRleCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQaW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50c1thcnJheUVuZEluZGV4XTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwaW5uZWRUYXNrRWxlbWVudEluZGV4ID0gcGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrRWxlbWVudEluZGV4IDwgcGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgcGlubmVkVGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RQaW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFBpbm5lZFRhc2tFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIHRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzID0gQXJyYXkuZnJvbSh0YXNrQ29udGVudFNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50by1kby10YXNrOm5vdCgucGlubmVkLXRhc2spXCIpKTtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uYXBwZW5kQ2hpbGQodGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUVuZEluZGV4ID0gbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCA9IGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzW2FycmF5RW5kSW5kZXhdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdW5waW5uZWRUYXNrRWxlbWVudCBvZiBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB1bnBpbm5lZFRhc2tFbGVtZW50SW5kZXggPSB1bnBpbm5lZFRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFza0VsZW1lbnRJbmRleCA8IHVucGlubmVkVGFza0VsZW1lbnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmluc2VydEJlZm9yZSh0YXNrRWxlbWVudCwgdW5waW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1bnBpbm5lZFRhc2tFbGVtZW50ID09PSBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbnRlbnRTZWN0aW9uLmFwcGVuZENoaWxkKHRhc2tFbGVtZW50LCBsYXN0VW5waW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YXNrRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicGlubmVkLXRhc2tcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVBbmltYXRpb25zID0gKHRhc2tJbmRleCwgYWN0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZ2dsZURpc3BsYXlCdXR0b24gPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhc2stY2hhbmdlLWRpc3BsYXlcIik7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlID0gdG9nZ2xlRGlzcGxheUJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBjb25zdCBlbGVtZW50c1RvVG9nZ2xlID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFuaW1hdGlvbi10YXJnZXRcIikpO1xuICAgICAgICBlbGVtZW50c1RvVG9nZ2xlLnB1c2goYnV0dG9uSW1hZ2UpXG4gICAgICAgIGVsZW1lbnRzVG9Ub2dnbGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGFjdGlvbiA9PT0gXCJFbmFibGVcIikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm5vLWFuaW1hdGlvbnNcIik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJEaXNhYmxlXCIpe1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm5vLWFuaW1hdGlvbnNcIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBsaXN0T2ZUYXNrcyA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgZm9yIChjb25zdCB0YXNrSW5kZXggaW4gbGlzdE9mVGFza3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBsaXN0T2ZUYXNrc1t0YXNrSW5kZXhdXG4gICAgICAgICAgICBpZiAodGFza09iamVjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3VGFza0VsZW1lbnQgPSBhZGROZXdUYXNrVG9ET00odGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VQaW5CdXR0b25JbWFnZSh0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIHNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbih0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZVRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIGV2ZW50QnVuZGxlci5hZGRUYXNrTGlzdGVuZXJzKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaXN0T2ZDaGVja2xpc3RUYXNrcyA9IHRhc2tPYmplY3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCBpbiBsaXN0T2ZDaGVja2xpc3RUYXNrcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gbGlzdE9mQ2hlY2tsaXN0VGFza3NbY2hlY2tsaXN0VGFza0luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrbGlzdFRhc2tPYmplY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQgPSBhZGROZXdDaGVja2xpc3RUYXNrVG9ET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50QnVuZGxlci5hZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMgPSAodGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzVG9Ub2dnbGUgPSBBcnJheS5mcm9tKHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYW5pbWF0aW9uLXRhcmdldFwiKSk7XG4gICAgICAgIGVsZW1lbnRzVG9Ub2dnbGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudENsYXNzZXMgPSBBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcImhpZGUtdG8tZG8tZGV0YWlsc1wiKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGUtdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LXRvLWRvLWRldGFpbHNcIik7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGUtdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LXRvLWRvLWRldGFpbHNcIik7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZlbnREb3VibGVDbGljayh0YXNrRWxlbWVudCk7XG4gICAgfTtcbiAgICBjb25zdCBwcmV2ZW50RG91YmxlQ2xpY2sgPSAodGFza0VsZW1lbnQpID0+IHtcbiAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1pZC1hbmltYXRpb25cIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1pZC1hbmltYXRpb25cIik7XG4gICAgICAgIH0sIDEwMDApO1xuICAgIH07XG4gICAgY29uc3Qgcm90YXRlQ2hldnJvbkJ1dHRvbiA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hldnJvbkJ1dHRvbiA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFzay1jaGFuZ2UtZGlzcGxheVwiKTtcbiAgICAgICAgY29uc3QgYnV0dG9uSW1hZ2UgPSBjaGV2cm9uQnV0dG9uLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlQ2xhc3NlcyA9IEFycmF5LmZyb20oYnV0dG9uSW1hZ2UuY2xhc3NMaXN0KTtcbiAgICAgICAgaWYgKGJ1dHRvbkltYWdlQ2xhc3Nlcy5sZW5ndGggPT09IDAgfHwgYnV0dG9uSW1hZ2VDbGFzc2VzLmluY2x1ZGVzKFwicm90YXRlLWhpZGUtdGFzay1kZXRhaWxzXCIpKSB7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlLWhpZGUtdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LmFkZChcInJvdGF0ZS1kaXNwbGF5LXRhc2stZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5hZGQoXCJyb3RhdGVkLWNoZXZyb25cIik7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uSW1hZ2VDbGFzc2VzLmluY2x1ZGVzKFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpKSB7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LmFkZChcInJvdGF0ZS1oaWRlLXRhc2stZGV0YWlsc1wiKTtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC5yZW1vdmUoXCJyb3RhdGVkLWNoZXZyb25cIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGROZXdUYWJUb0RPTSxcbiAgICAgICAgaW5zZXJ0VGFiSW5wdXRFbGVtZW50LFxuICAgICAgICBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0VGFiTmFtZUVsZW1lbnQsXG4gICAgICAgIGFkZEN1cnJlbnRUYWJJbmRpY2F0b3IsXG4gICAgICAgIGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiLFxuXG4gICAgICAgIGFkZE5ld1Rhc2tUb0RPTSxcbiAgICAgICAgaW5zZXJ0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgc2V0VGFza0lucHV0RWxlbWVudFZhbHVlLFxuICAgICAgICBpbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQsXG4gICAgICAgIHRvZ2dsZVRhc2tET01Db21wbGV0ZSxcblxuICAgICAgICBhZGROZXdDaGVja2xpc3RUYXNrVG9ET00sXG4gICAgICAgIGluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQsXG4gICAgICAgIHNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCxcbiAgICAgICAgdG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlLFxuXG4gICAgICAgIGNoYW5nZVBpbkJ1dHRvbkltYWdlLFxuICAgICAgICBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24sXG4gICAgICAgIFxuICAgICAgICB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMsXG4gICAgICAgIHJvdGF0ZUNoZXZyb25CdXR0b24sXG4gICAgICAgIHRvZ2dsZUFuaW1hdGlvbnNcbiAgICB9O1xufSkoKTtcblxuZXhwb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcblxuY29uc3QgRE9NQ29udHJvbGxlclJlbW92ZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgcmVtb3ZlVGFiTmFtZUVsZW1lbnQgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgbGV0IHN3aXRjaFRhYiA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5zd2l0Y2gtdGFiXCIpXG4gICAgICAgIHRhYkVsZW1lbnQucmVtb3ZlQ2hpbGQoc3dpdGNoVGFiKTtcbiAgICAgICAgc3dpdGNoVGFiID0gbnVsbFxuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFiSW5wdXRFbGVtZW50ID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgdGFiRWxlbWVudC5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00gPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiRWxlbWVudCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgdG9Eb1RhYlNlY3Rpb24ucmVtb3ZlQ2hpbGQodGFiRWxlbWVudCk7XG4gICAgICAgIHRhYkVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVzZXRDdXJyZW50VGFiU3RhdHVzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjdXJyZW50LXRhYlwiKTtcbiAgICAgICAgaWYgKGN1cnJlbnRUYWIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGN1cnJlbnRUYWIucmVtb3ZlQXR0cmlidXRlKFwiaWRcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2tFbGVtZW50RnJvbURPTSA9ICh0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tFbGVtZW50KHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvRG9UYXNrU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgdG9Eb1Rhc2tTZWN0aW9uLnJlbW92ZUNoaWxkKHRhc2tFbGVtZW50KTtcbiAgICAgICAgdGFza0VsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NID0gKHRhc2tJbmRleCwgYnV0dG9uVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyRWxlbWVudCh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lckVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgICAgIHRhc2tTdWJjb250YWluZXJFbGVtZW50LnJlbW92ZUNoaWxkKHRhc2tTdWJjb250ZW50RWxlbWVudCk7XG4gICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IG51bGxcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza0lucHV0RWxlbWVudCA9ICh0YXNrSW5kZXgsIGJ1dHRvblR5cGUpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQodGFza0luZGV4LCBidXR0b25UeXBlKTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lckVsZW1lbnQucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRE9NID0gKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LXRhc2stZGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5yZW1vdmVDaGlsZChjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24pO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9ICh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrRWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00gPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0VsZW1lbnQodGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWxlbWVudCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0XCIpO1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICBjaGVja2xpc3RFbGVtZW50LnJlbW92ZUNoaWxkKGNoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQWxsVGFza0VsZW1lbnRzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrQ29udGVudFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICB9O1xuICAgIHJldHVybiB7IHJlbW92ZVRhYk5hbWVFbGVtZW50LCByZW1vdmVUYWJJbnB1dEVsZW1lbnQsIHJlbW92ZVRhYkVsZW1lbnRGcm9tRE9NLFxuICAgICAgICByZXNldEN1cnJlbnRUYWJTdGF0dXMsIHJlbW92ZVRhc2tFbGVtZW50RnJvbURPTSwgcmVtb3ZlVGFza1N1YmNvbnRlbnRFbGVtZW50RnJvbURPTSxcbiAgICAgICAgcmVtb3ZlVGFza0lucHV0RWxlbWVudCwgcmVtb3ZlQ2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRE9NLCByZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LFxuICAgICAgICByZW1vdmVDaGVja2xpc3RUYXNrRWxlbWVudERPTSwgcmVtb3ZlQWxsVGFza0VsZW1lbnRzLCB9XG59KSgpO1xuXG5leHBvcnQgeyBET01Db250cm9sbGVyUmVtb3ZlIH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5cbmNvbnN0IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZVRhYkZyb21Ub2RvQXJyYXkgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgdG9Eb0xpc3QucmVtb3ZlVGFzayh0YWJJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYXNrRnJvbVRhYkFycmF5ID0gKHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjdXJyZW50VGFiT2JqZWN0LnJlbW92ZVRhc2sodGFza0luZGV4KTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0Zyb21UYXNrQXJyYXkgPSAodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKHRhc2tJbmRleCk7XG4gICAgICAgIHRhc2tPYmplY3QucmVtb3ZlVGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiRnJvbVRvZG9BcnJheSwgcmVtb3ZlVGFza0Zyb21UYWJBcnJheSwgcmVtb3ZlQ2hlY2tsaXN0VGFza0Zyb21UYXNrQXJyYXksIH07XG59KSgpO1xuXG5leHBvcnQgeyBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5cbmNvbnN0IHRvZG9MaXN0U3RvcmFnZSA9ICgoKSA9PiB7XG4gICAgbGV0IGxvYWRpbmdJbkNvbnRlbnQgPSBmYWxzZTtcbiAgICBjb25zdCBhZGRUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYk9iamVjdCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgY29uc3QgdGFiSlNPTlN0cmluZyA9IGB7XG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiJHt0YWJPYmplY3QuZ2V0VGFza1RpdGxlKCl9XCIsXG4gICAgICAgICAgICBcInRhc2tzXCI6IHt9XG4gICAgICAgIH1gO1xuICAgICAgICBjb25zdCB0YWJQYXJzZWRPYmplY3QgPSBKU09OLnBhcnNlKHRhYkpTT05TdHJpbmcpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdID0gdGFiUGFyc2VkT2JqZWN0O1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDdXJyZW50VGFiID0gKHRhYkluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgdGFiSW5kZXggPT09IG51bGxcbiAgICAgICAgICAgID8gKHRvZG9MaXN0UGFyc2VkT2JqZWN0W1wiY3VycmVudF90YWJcIl0gPSBudWxsKVxuICAgICAgICAgICAgOiAodG9kb0xpc3RQYXJzZWRPYmplY3RbXCJjdXJyZW50X3RhYlwiXSA9IE51bWJlcih0YWJJbmRleCkpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdClcbiAgICB9O1xuICAgIGNvbnN0IHNldFRhYk5hbWUgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhYk9iamVjdCh0YWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRpdGxlXCJdID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDdXJyZW50VGFiSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJjdXJyZW50X3RhYlwiXTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUYWJJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGdldFRhYlRpdGxlID0gKHRhYktleSkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGNvbnN0IHRhYlRpdGxlID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0aXRsZVwiXTtcbiAgICAgICAgcmV0dXJuIHRhYlRpdGxlO1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFiT2JqZWN0cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0cyA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXTtcbiAgICAgICAgcmV0dXJuIHRhYk9iamVjdHM7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdID0gbnVsbDtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBjb25zdCB0YXNrSlNPTlN0cmluZyA9IGB7XG4gICAgICAgICAgICBcInRpdGxlXCI6IFwiJHt0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpfVwiLFxuICAgICAgICAgICAgXCJkdWVfZGF0ZVwiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpfVwiLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIiR7dGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKX1cIixcbiAgICAgICAgICAgIFwibm90ZXNcIjogXCIke3Rhc2tPYmplY3QuZ2V0VGFza05vdGVzKCl9XCIsXG4gICAgICAgICAgICBcInBpbm5lZFwiOiAke3Rhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKX0sXG4gICAgICAgICAgICBcImNvbXBsZXRlZFwiOiAke3Rhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKX0sXG4gICAgICAgICAgICBcImNoZWNrbGlzdF90YXNrc1wiOiB7fVxuICAgICAgICB9YDtcbiAgICAgICAgY29uc3QgdGFza1BhcnNlZE9iamVjdCA9IEpTT04ucGFyc2UodGFza0pTT05TdHJpbmcpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF0gPSB0YXNrUGFyc2VkT2JqZWN0O1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBzZXRUYXNrU3ViY29udGFpbmVyVmFsdWUgPSAodGFiSW5kZXgsIHRhc2tJbmRleCwgc3ViY29udGFpbmVyVHlwZSkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgaWYgKHN1YmNvbnRhaW5lclR5cGUgPT09IFwiVGl0bGVcIikge1xuICAgICAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1widGl0bGVcIl0gPSB0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKHN1YmNvbnRhaW5lclR5cGUgPT09IFwiRHVlIERhdGVcIikge1xuICAgICAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1wiZHVlX2RhdGVcIl0gPSB0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3ViY29udGFpbmVyVHlwZSA9PT0gXCJEZXNjcmlwdGlvblwiKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJkZXNjcmlwdGlvblwiXSA9IHRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3ViY29udGFpbmVyVHlwZSA9PT0gXCJOb3Rlc1wiKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJub3Rlc1wiXSA9IHRhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgIH07XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tQaW5uZWQgPSAodGFiSW5kZXgsIHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdW1wicGlubmVkXCJdID0gdGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrQ29tcGxldGVkID0gKHRhYkluZGV4LCB0YXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrT2JqZWN0KHRhYkluZGV4LCB0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcImNvbXBsZXRlZFwiXSA9IHRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKTtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFza1ZhbHVlcyA9ICh0YWJLZXksIHRhc2tLZXkpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBsZXQgdGFza1ZhbHVlcyA9IFtdO1xuICAgICAgICBjb25zdCB0YXNrVGl0bGUgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRhc2tzXCJdW3Rhc2tLZXldW1widGl0bGVcIl07XG4gICAgICAgIHRhc2tWYWx1ZXMucHVzaCh0YXNrVGl0bGUpO1xuICAgICAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGFza3NcIl1bdGFza0tleV1bXCJkdWVfZGF0ZVwiXTtcbiAgICAgICAgdGFza1ZhbHVlcy5wdXNoKHRhc2tEdWVEYXRlKTtcbiAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0YXNrc1wiXVt0YXNrS2V5XVtcImRlc2NyaXB0aW9uXCJdO1xuICAgICAgICB0YXNrVmFsdWVzLnB1c2godGFza0Rlc2NyaXB0aW9uKTtcbiAgICAgICAgY29uc3QgdGFza05vdGVzID0gdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW3RhYktleV1bXCJ0YXNrc1wiXVt0YXNrS2V5XVtcIm5vdGVzXCJdO1xuICAgICAgICB0YXNrVmFsdWVzLnB1c2godGFza05vdGVzKTtcbiAgICAgICAgY29uc3QgdGFza1Bpbm5lZCA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGFza3NcIl1bdGFza0tleV1bXCJwaW5uZWRcIl07XG4gICAgICAgIHRhc2tWYWx1ZXMucHVzaCh0YXNrUGlubmVkKTtcbiAgICAgICAgY29uc3QgdGFza0NvbXBsZXRlZCA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGFza3NcIl1bdGFza0tleV1bXCJjb21wbGV0ZWRcIl07XG4gICAgICAgIHRhc2tWYWx1ZXMucHVzaCh0YXNrQ29tcGxldGVkKTtcbiAgICAgICAgcmV0dXJuIHRhc2tWYWx1ZXM7XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXNrT2JqZWN0cyA9ICh0YWJJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IHRvZG9MaXN0U3RvcmFnZS5nZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0cyA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXTtcbiAgICAgICAgcmV0dXJuIHRhc2tPYmplY3RzO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgdG9kb0xpc3RQYXJzZWRPYmplY3RbXCJ0YWJzXCJdW2B0YWJfJHt0YWJJbmRleH1gXVtcInRhc2tzXCJdW2B0YXNrXyR7dGFza0luZGV4fWBdID0gbnVsbDtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgYWRkQ2hlY2tsaXN0VGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrT2JqZWN0KHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRvZG9MaXN0UGFyc2VkT2JqZWN0ID0gZ2V0TG9jYWxTdG9yYWdlVmFsdWUoKTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0pTT05TdHJpbmcgPSBge1xuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBcIiR7Y2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKX1cIixcbiAgICAgICAgICAgIFwiY29tcGxldGVkXCI6ICR7Y2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpfVxuICAgICAgICB9YDtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza1BhcnNlZE9iamVjdCA9IEpTT04ucGFyc2UoY2hlY2tsaXN0VGFza0pTT05TdHJpbmcpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJjaGVja2xpc3RfdGFza3NcIl1bYGNoZWNrbGlzdF90YXNrXyR7Y2hlY2tsaXN0VGFza0luZGV4fWBdID0gY2hlY2tsaXN0VGFza1BhcnNlZE9iamVjdDtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgXG4gICAgXG4gICAgXG4gICAgXG4gICAgXG4gICAgY29uc3Qgc2V0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJjaGVja2xpc3RfdGFza3NcIl1bYGNoZWNrbGlzdF90YXNrXyR7Y2hlY2tsaXN0VGFza0luZGV4fWBdW1wiZGVzY3JpcHRpb25cIl0gPSBjaGVja2xpc3RUYXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVkID0gKHRhYkluZGV4LCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tPYmplY3QodGFiSW5kZXgsIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJjaGVja2xpc3RfdGFza3NcIl1bYGNoZWNrbGlzdF90YXNrXyR7Y2hlY2tsaXN0VGFza0luZGV4fWBdW1wiY29tcGxldGVkXCJdID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICB1cGRhdGVMb2NhbFN0b3JhZ2VWYWx1ZSh0b2RvTGlzdFBhcnNlZE9iamVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBnZXRDaGVja2xpc3RUYXNrVmFsdWVzID0gKHRhYktleSwgdGFza0tleSwgY2hlY2tsaXN0VGFza0tleSkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IGdldExvY2FsU3RvcmFnZVZhbHVlKCk7XG4gICAgICAgIGxldCBjaGVja2xpc3RUYXNrVmFsdWVzID0gW107XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVt0YWJLZXldW1widGFza3NcIl1bdGFza0tleV1bXCJjaGVja2xpc3RfdGFza3NcIl1bY2hlY2tsaXN0VGFza0tleV1bXCJkZXNjcmlwdGlvblwiXTtcbiAgICAgICAgY2hlY2tsaXN0VGFza1ZhbHVlcy5wdXNoKGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbik7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tDb21wbGV0ZWQgPSB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bdGFiS2V5XVtcInRhc2tzXCJdW3Rhc2tLZXldW1wiY2hlY2tsaXN0X3Rhc2tzXCJdW2NoZWNrbGlzdFRhc2tLZXldW1wiY29tcGxldGVkXCJdO1xuICAgICAgICBjaGVja2xpc3RUYXNrVmFsdWVzLnB1c2goY2hlY2tsaXN0VGFza0NvbXBsZXRlZCk7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3RUYXNrVmFsdWVzO1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q2hlY2tsaXN0VGFza09iamVjdHMgPSAodGFiSW5kZXgsIHRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IHRvZG9MaXN0U3RvcmFnZS5nZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0cyA9IHRvZG9MaXN0UGFyc2VkT2JqZWN0W1widGFic1wiXVtgdGFiXyR7dGFiSW5kZXh9YF1bXCJ0YXNrc1wiXVtgdGFza18ke3Rhc2tJbmRleH1gXVtcImNoZWNrbGlzdF90YXNrc1wiXTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tPYmplY3RzO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSgpO1xuICAgICAgICB0b2RvTGlzdFBhcnNlZE9iamVjdFtcInRhYnNcIl1bYHRhYl8ke3RhYkluZGV4fWBdW1widGFza3NcIl1bYHRhc2tfJHt0YXNrSW5kZXh9YF1bXCJjaGVja2xpc3RfdGFza3NcIl1bYGNoZWNrbGlzdF90YXNrXyR7Y2hlY2tsaXN0VGFza0luZGV4fWBdID0gbnVsbDtcbiAgICAgICAgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUodG9kb0xpc3RQYXJzZWRPYmplY3QpO1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tGb3JFeGlzdGluZ1N0b3JhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInRvX2RvX2xpc3RcIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBjb25zdCBnZXRMb2NhbFN0b3JhZ2VWYWx1ZSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RKU09OU3RyaW5nID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b19kb19saXN0XCIpO1xuICAgICAgICBjb25zdCB0b2RvTGlzdFBhcnNlZE9iamVjdCA9IEpTT04ucGFyc2UodG9kb0xpc3RKU09OU3RyaW5nKTtcbiAgICAgICAgcmV0dXJuIHRvZG9MaXN0UGFyc2VkT2JqZWN0O1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlTG9jYWxTdG9yYWdlVmFsdWUgPSAobmV3VmFsdWUpID0+IHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEpTT05TdHJpbmdWYWx1ZSA9IEpTT04uc3RyaW5naWZ5KG5ld1ZhbHVlKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b19kb19saXN0XCIsIHVwZGF0ZWRKU09OU3RyaW5nVmFsdWUpO1xuICAgIH07XG4gICAgY29uc3QgaW5pdGlhbGl6ZVRvZG9MaXN0ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0b2RvTGlzdEpTT05TdHJpbmcgPSBge1xuICAgICAgICAgICAgXCJjdXJyZW50X3RhYlwiOiAke3RvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpfSxcbiAgICAgICAgICAgIFwidGFic1wiOiB7fVxuICAgICAgICB9YDtcbiAgICAgICAgY29uc3QgdG9kb0xpc3RQYXJzZWRPYmplY3QgPSBKU09OLnBhcnNlKHRvZG9MaXN0SlNPTlN0cmluZyk7XG4gICAgICAgIHVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlKHRvZG9MaXN0UGFyc2VkT2JqZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUxvYWRpbmcgPSAoKSA9PiB7XG4gICAgICAgIGxvYWRpbmdJbkNvbnRlbnQgPyBsb2FkaW5nSW5Db250ZW50ID0gZmFsc2UgOiBsb2FkaW5nSW5Db250ZW50ID0gdHJ1ZTtcbiAgICB9O1xuICAgIGNvbnN0IGlzTG9hZGluZyA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGxvYWRpbmdJbkNvbnRlbnQ7XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRUYWIsXG4gICAgICAgIHNldEN1cnJlbnRUYWIsXG4gICAgICAgIHNldFRhYk5hbWUsXG4gICAgICAgIGdldEN1cnJlbnRUYWJJbmRleCxcbiAgICAgICAgZ2V0VGFiVGl0bGUsXG4gICAgICAgIGdldFRhYk9iamVjdHMsXG4gICAgICAgIHJlbW92ZVRhYixcbiAgICAgICAgYWRkVGFzayxcbiAgICAgICAgc2V0VGFza1N1YmNvbnRhaW5lclZhbHVlLFxuICAgICAgICB0b2dnbGVUYXNrUGlubmVkLFxuICAgICAgICB0b2dnbGVUYXNrQ29tcGxldGVkLFxuICAgICAgICBnZXRUYXNrVmFsdWVzLFxuICAgICAgICBnZXRUYXNrT2JqZWN0cyxcbiAgICAgICAgcmVtb3ZlVGFzayxcbiAgICAgICAgYWRkQ2hlY2tsaXN0VGFzayxcbiAgICAgICAgc2V0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uLFxuICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVkLFxuICAgICAgICBnZXRDaGVja2xpc3RUYXNrVmFsdWVzLFxuICAgICAgICBnZXRDaGVja2xpc3RUYXNrT2JqZWN0cyxcbiAgICAgICAgcmVtb3ZlQ2hlY2tsaXN0VGFzayxcbiAgICAgICAgY2hlY2tGb3JFeGlzdGluZ1N0b3JhZ2UsXG4gICAgICAgIGdldExvY2FsU3RvcmFnZVZhbHVlLFxuICAgICAgICBpbml0aWFsaXplVG9kb0xpc3QsXG4gICAgICAgIHRvZ2dsZUxvYWRpbmcsXG4gICAgICAgIGlzTG9hZGluZ1xuICAgIH1cbn0pKCk7XG5cbmV4cG9ydCB7IHRvZG9MaXN0U3RvcmFnZSB9OyIsImltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RfY29udHJvbGxlcl9hZGRfZWRpdF9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXRcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9yZW1vdmVcIjtcbmltcG9ydCB7IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RfY29udHJvbGxlcl9yZW1vdmVfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyB0b2RvTGlzdFN0b3JhZ2UgfSBmcm9tIFwiLi90b2RvX2xpc3Rfc3RvcmFnZV9vYmplY3RcIjtcblxuY29uc3QgZXZlbnRCdW5kbGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGRUYWIgPSAoZXZlbnQsIHRhYk5hbWU9XCJOZXcgVGFiXCIpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdUYWJUb1RvZG9BcnJheSh0YWJOYW1lKTtcbiAgICAgICAgY29uc3QgbmV3VGFiRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld1RhYlRvRE9NKG5ld1RhYkluZGV4KTtcbiAgICAgICAgYWRkVGFiTGlzdGVuZXJzKG5ld1RhYkVsZW1lbnQpO1xuICAgICAgICBpZiAoIXRvZG9MaXN0U3RvcmFnZS5pc0xvYWRpbmcoKSkge1xuICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLmFkZFRhYihuZXdUYWJJbmRleCk7XG4gICAgICAgICAgICBpZiAoaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZPbmx5T25lVGFiKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaXJzdFRhYkluZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3Quc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoKTtcbiAgICAgICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5hZGRDdXJyZW50VGFiSW5kaWNhdG9yKClcbiAgICAgICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2Uuc2V0Q3VycmVudFRhYihmaXJzdFRhYkluZGV4KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1RhYkluZGV4XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFRhYklucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0ZvckV4aXN0aW5nSW5wdXRFbGVtZW50KGV2ZW50LCBcIlRhYlwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFiSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiSW5wdXRFbGVtZW50KHRhYkluZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiTmFtZUVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFiSW5wdXRFbGVtZW50VmFsdWUodGFiSW5kZXgpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUYWJJbnB1dExpc3RlbmVyKGlucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZVRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgY29uc3QgdGFiSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFiTmFtZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXROZXdWYWx1ZShldmVudCk7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0VGFiTmFtZSh0YWJJbmRleCwgbmV3VGFiTmFtZSk7XG4gICAgICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiTmFtZUVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWJJbnB1dEVsZW1lbnQodGFiSW5kZXgpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRTd2l0Y2hUYWJMaXN0ZW5lcih0YWJFbGVtZW50KTtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5zZXRUYWJOYW1lKHRhYkluZGV4KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlVGFiRnJvbVRvZG9BcnJheSh0YWJJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiRWxlbWVudEZyb21ET00odGFiSW5kZXgpO1xuICAgICAgICB0b2RvTGlzdFN0b3JhZ2UucmVtb3ZlVGFiKHRhYkluZGV4KTtcbiAgICAgICAgaWYgKGhlbHBlckZ1bmN0aW9ucy5jaGVja0lmV2FzQ3VycmVudFRhYihldmVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkQ3VycmVudFRhYkluZGljYXRvcigpXG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZUFsbFRhc2tFbGVtZW50cygpO1xuICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnNldEN1cnJlbnRUYWIoZmlyc3RUYWJJbmRleCk7XG4gICAgICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0lmTm9Nb3JlVGFicygpKSB7XG4gICAgICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQubG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZXYXNDdXJyZW50VGFiKGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgdGFiSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFiSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudXBkYXRlQ3VycmVudFRhYih0YWJJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlc2V0Q3VycmVudFRhYlN0YXR1cygpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkQ3VycmVudFRhYkluZGljYXRvcigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVBbGxUYXNrRWxlbWVudHMoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiKCk7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2Uuc2V0Q3VycmVudFRhYih0YWJJbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhYkxpc3RlbmVycyA9IChuZXdUYWJFbGVtZW50KSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyKG5ld1RhYkVsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyKG5ld1RhYkVsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyKG5ld1RhYkVsZW1lbnQpO1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFzayA9IChcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIHRhYkluZGV4PXRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLFxuICAgICAgICB0aXRsZT1cIk5ldyBUYXNrIFRpdGxlXCIsXG4gICAgICAgIGR1ZURhdGU9XCJUYXNrIER1ZSBEYXRlXCIsXG4gICAgICAgIGRlc2NyaXB0aW9uPVwiVGFzayBEZXNjcmlwdGlvblwiLFxuICAgICAgICBub3Rlcz1cIlRhc2sgTm90ZXNcIixcbiAgICAgICAgcGlubmVkPWZhbHNlLFxuICAgICAgICBjb21wbGV0ZWQ9ZmFsc2VcbiAgICApID0+IHtcbiAgICAgICAgaWYgKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpID09PSBudWxsKSB7XG4gICAgICAgICAgICBsb2FkSW5JbnN0cnVjdGlvbnNQYWdlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1Rhc2tUb1RhYihcbiAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICBkdWVEYXRlLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBub3RlcyxcbiAgICAgICAgICAgIHBpbm5lZCxcbiAgICAgICAgICAgIGNvbXBsZXRlZFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBuZXdUYXNrRWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld1Rhc2tUb0RPTShuZXdUYXNrSW5kZXgpO1xuICAgICAgICBhZGRUYXNrTGlzdGVuZXJzKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgaWYgKCF0b2RvTGlzdFN0b3JhZ2UuaXNMb2FkaW5nKCkpIHtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5hZGRUYXNrKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCBuZXdUYXNrSW5kZXgpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3VGFza0luZGV4O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yRXhpc3RpbmdJbnB1dEVsZW1lbnQoZXZlbnQsIFwiVGFza1wiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrU3ViY29udGFpbmVyVHlwZShldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhc2tTdWJjb250ZW50RWxlbWVudEZyb21ET00odGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYXNrSW5wdXRFbGVtZW50KHRhc2tJbmRleCwgdGFza1N1YmNvbnRhaW5lclR5cGUpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFza0lucHV0RWxlbWVudFZhbHVlKHRhc2tJbmRleCwgdGFza1N1YmNvbnRhaW5lclR5cGUpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza1N1YmNvbnRhaW5lclR5cGUoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgbmV3VGFza1N1YmNvbnRlbnRWYWx1ZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXROZXdWYWx1ZShldmVudCk7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0VGFza09iamVjdEluZm8odGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSwgbmV3VGFza1N1YmNvbnRlbnRWYWx1ZSk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQodGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhc2tJbnB1dEVsZW1lbnQodGFza0luZGV4LCB0YXNrU3ViY29udGFpbmVyVHlwZSk7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2Uuc2V0VGFza1N1YmNvbnRhaW5lclZhbHVlKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCB0YXNrSW5kZXgsIHRhc2tTdWJjb250YWluZXJUeXBlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tQaW4gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUFuaW1hdGlvbnModGFza0luZGV4LCBcIkVuYWJsZVwiKTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudG9nZ2xlVGFza1Bpbih0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5jaGFuZ2VQaW5CdXR0b25JbWFnZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zaGlmdFRhc2tFbGVtZW50UG9zaXRpb24odGFza0luZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnRvZ2dsZVRhc2tQaW5uZWQodG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVUYXNrQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZVRhc2tDb21wbGV0ZSh0YXNrSW5kZXgpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVUYXNrRE9NQ29tcGxldGUodGFza0luZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnRvZ2dsZVRhc2tDb21wbGV0ZWQodG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0LnJlbW92ZVRhc2tGcm9tVGFiQXJyYXkodGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrRWxlbWVudEZyb21ET00odGFza0luZGV4KTtcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnJlbW92ZVRhc2sodG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUYXNrTGlzdGVuZXJzID0gKG5ld1Rhc2tFbGVtZW50KSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFza0xpc3RlbmVyKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lcihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrUGluTGlzdGVuZXIobmV3VGFza0VsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVyKG5ld1Rhc2tFbGVtZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiSW5kZXggPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2sodGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NKHRhc2tJbmRleCwgbmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhuZXdDaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIGlmICghdG9kb0xpc3RTdG9yYWdlLmlzTG9hZGluZygpKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2UuYWRkQ2hlY2tsaXN0VGFzayh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSwgdGFza0luZGV4LCBuZXdDaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0ZvckV4aXN0aW5nSW5wdXRFbGVtZW50KGV2ZW50LCBcIkNoZWNrbGlzdCBUYXNrXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25ET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zZXRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50VmFsdWUodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRDaGVja2xpc3RUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgdXBkYXRlQ2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRDaGVja2xpc3RUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICAgICAgY29uc3QgbmV3RGVzY3JpcHRpb25WYWx1ZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXROZXdWYWx1ZShldmVudCk7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4LCBuZXdEZXNjcmlwdGlvblZhbHVlKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQodGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgICAgIHRvZG9MaXN0U3RvcmFnZS5zZXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24odG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCksIHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gaGVscGVyRnVuY3Rpb25zLmdldENoZWNrbGlzdFRhc2tJbmRleChldmVudCk7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LnRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUNoZWNrbGlzdFRhc2tET01Db21wbGV0ZSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIHRvZG9MaXN0U3RvcmFnZS50b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVkKHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpLCB0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBoZWxwZXJGdW5jdGlvbnMuZ2V0Q2hlY2tsaXN0VGFza0luZGV4KGV2ZW50KTtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheSh0YXNrSW5kZXgsIGNoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00odGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICB0b2RvTGlzdFN0b3JhZ2UucmVtb3ZlQ2hlY2tsaXN0VGFzayh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgIH07XG4gICAgY29uc3QgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyA9IChuZXdDaGVja2xpc3RUYXNrRWxlbWVudCkgPT4ge1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZEVkaXRDaGVja2xpc3RUYXNrTGlzdGVuZXIobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZUxpc3RlbmVyKG5ld0NoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIobmV3Q2hlY2tsaXN0VGFza0VsZW1lbnQpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXNrSW5kZXgoZXZlbnQpO1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy50cnlpbmdUb0RvdWJsZUNsaWNrKHRhc2tJbmRleCkpIHtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZUFuaW1hdGlvbnModGFza0luZGV4LCBcIkRpc2FibGVcIik7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVEaXNwbGF5VGFza0RldGFpbHModGFza0luZGV4KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnJvdGF0ZUNoZXZyb25CdXR0b24odGFza0luZGV4KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJbkluc3RydWN0aW9uc1BhZ2UgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkluZGV4ID0gYWRkVGFiKGV2ZW50LCBcIkluc3RydWN0aW9uc1wiKTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gYWRkVGFzayhcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgdGFiSW5kZXgsXG4gICAgICAgICAgICBcIlF1aWNrIFRpcHMhIENsaWNrIHRoZSBwaW4gYnV0dG9uIHRvIHBpbiBhIHRhc2sgdG8gdGhlIHRvcCBvZiB0aGUgbGlzdC5cIixcbiAgICAgICAgICAgIFwiVG9tb3Jyb3csIG5leHQgd2Vlaywgb3Igd2hlbmV2ZXIgeW91ciB0YXNrIGlzIGR1ZSwgeW91IGNhbiBhZGQgaXQgaGVyZSEgQ2xpY2sgdGhlIGFycm93IGJ1dHRvbiB0byB0b2dnbGUgYmV0d2VlbiBzaG93aW5nIGFuZCBoaWRpbmcgdGFzayBkZXRhaWxzLlwiLFxuICAgICAgICAgICAgXCJBZGQgYSBkZXNjcmlwdGlvbiBvZiB5b3VyIHRhc2sgaGVyZSEgQ2xpY2sgdGhlIHBlbmNpbCBidXR0b25zIHRvIGVkaXQgdGhlIHZhcmlvdXMgcGFydHMgb2YgeW91ciB0YXNrLlwiLFxuICAgICAgICAgICAgXCJKb3QgZG93biBzb21lIG5vdGVzIGhlcmUhIE1hcmsgeW91ciB0YXNrIGFzIGNvbXBsZXRlIHdoZW4geW91J3JlIGRvbmUsIG9yIHJlbW92ZSBpdCBmcm9tIHRoZSBsaXN0IGJ5IGNsaWNraW5nIHRoZSBYIGJ1dHRvbi5cIixcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlVGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LmNoYW5nZVBpbkJ1dHRvbkltYWdlKHRhc2tJbmRleCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNoaWZ0VGFza0VsZW1lbnRQb3NpdGlvbih0YXNrSW5kZXgpO1xuICAgICAgICBhZGRMb2FkZWRJbkNoZWNrbGlzdFRhc2soXG4gICAgICAgICAgICB0YWJJbmRleCxcbiAgICAgICAgICAgIHRhc2tJbmRleCxcbiAgICAgICAgICAgIFwiSWYgeW91ciB0YXNrIGhhcyBtdWx0aXBsZSBzdGVwcywgdHJ5IGJyZWFraW5nIHRoZW0gZG93biBpbnRvIGEgY2hlY2tsaXN0ISBDbGljayB0aGUgcGx1cyBzaWduIGJ1dHRvbiB0byBhZGQgc3RlcHMgYXMgbmVlZGVkLlwiLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgICAgYWRkTG9hZGVkSW5DaGVja2xpc3RUYXNrKFxuICAgICAgICAgICAgdGFiSW5kZXgsXG4gICAgICAgICAgICB0YXNrSW5kZXgsXG4gICAgICAgICAgICBcIkhhdmUgYSBuZXcgdGFzayB5b3Ugd2FudCB0byBrZWVwIHRyYWNrIG9mPyBBZGQgaXQgdG8gdGhlIGxpc3QgYnkgY2xpY2tpbmcgb24gdGhlICdOZXcgVGFzaycgYnV0dG9uIGJlbG93IVwiLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgICAgYWRkTG9hZGVkSW5DaGVja2xpc3RUYXNrKHRhYkluZGV4LFxuICAgICAgICAgICAgdGFza0luZGV4LFxuICAgICAgICAgICAgXCJPcmdhbml6ZSB0aGUgZGlmZmVyZW50IHR5cGVzIG9mIHRhc2tzIGluIHlvdXIgbGlmZSBieSBjcmVhdGluZyB0aGVtZWQgdGFicy4gQ3JlYXRlIGEgbmV3IHRhYiBieSBjbGlja2luZyBvbiB0aGUgcGx1cyBzaWduIGJ1dHRvbiBhdCB0aGUgdG9wIG9mIHRoZSBsaXN0LiBDaGFuZ2UgdGFicyBieSBjbGlja2luZyBvbiBkaWZmZXJlbnQgdGFiIG5hbWVzLlwiLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZExvYWRlZEluQ2hlY2tsaXN0VGFzayA9ICh0YWJJbmRleCwgdGFza0luZGV4LCBkZXNjcmlwdGlvbiwgY29tcGxldGVkKSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld0NoZWNrbGlzdFRhc2tUb1Rhc2sodGFiSW5kZXgsIHRhc2tJbmRleCwgZGVzY3JpcHRpb24sIGNvbXBsZXRlZCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlKHRhc2tJbmRleCwgY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhjaGVja2xpc3RUYXNrRWxlbWVudCk7XG4gICAgICAgIGlmICghdG9kb0xpc3RTdG9yYWdlLmlzTG9hZGluZygpKSB7XG4gICAgICAgICAgICB0b2RvTGlzdFN0b3JhZ2UuYWRkQ2hlY2tsaXN0VGFzayh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrSW5kZXgpXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5Mb2NhbFN0b3JhZ2UgPSAoKSA9PiB7XG4gICAgICAgIHRvZG9MaXN0U3RvcmFnZS50b2dnbGVMb2FkaW5nKCk7XG4gICAgICAgIGxvYWRJbkN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBsb2FkSW5UYWJPYmplY3RzKClcbiAgICAgICAgdG9kb0xpc3RTdG9yYWdlLnRvZ2dsZUxvYWRpbmcoKTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJbkN1cnJlbnRUYWJJbmRleCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9kb0xpc3RTdG9yYWdlLmdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgoY3VycmVudFRhYkluZGV4KTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRJblRhYk9iamVjdHMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdHMgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0VGFiT2JqZWN0cygpO1xuICAgICAgICBmb3IgKGNvbnN0IHRhYktleSBpbiB0YWJPYmplY3RzKSB7XG4gICAgICAgICAgICBpZiAodGFiT2JqZWN0c1t0YWJLZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdG9Eb0xpc3QuYWRkVGFzayh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJUaXRsZSA9IHRvZG9MaXN0U3RvcmFnZS5nZXRUYWJUaXRsZSh0YWJLZXkpXG4gICAgICAgICAgICAgICAgY29uc3QgdGFiSW5kZXggPSBhZGRUYWIoZXZlbnQsIHRhYlRpdGxlKVxuICAgICAgICAgICAgICAgIGxvYWRJblRhc2tPYmplY3RzKHRhYkluZGV4LCB0YWJLZXkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkQ3VycmVudFRhYkluZGljYXRvcigpXG4gICAgfTtcbiAgICBjb25zdCBsb2FkSW5UYXNrT2JqZWN0cyA9ICh0YWJJbmRleCwgdGFiS2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYWJPYmplY3QodGFiSW5kZXgpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0cyA9IHRvZG9MaXN0U3RvcmFnZS5nZXRUYXNrT2JqZWN0cyh0YWJJbmRleCk7XG4gICAgICAgIGZvciAoY29uc3QgdGFza0tleSBpbiB0YXNrT2JqZWN0cykge1xuICAgICAgICAgICAgaWYgKHRhc2tPYmplY3RzW3Rhc2tLZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGFiT2JqZWN0LmFkZFRhc2sodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1ZhbHVlcyA9IHRvZG9MaXN0U3RvcmFnZS5nZXRUYXNrVmFsdWVzKHRhYktleSwgdGFza0tleSlcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrVGl0bGUgPSB0YXNrVmFsdWVzWzBdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gdGFza1ZhbHVlc1sxXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSB0YXNrVmFsdWVzWzJdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tOb3RlcyA9IHRhc2tWYWx1ZXNbM107XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza1Bpbm5lZCA9IHRhc2tWYWx1ZXNbNF07XG4gICAgICAgICAgICAgICAgY29uc3QgdGFza0NvbXBsZXRlZCA9IHRhc2tWYWx1ZXNbNV07XG4gICAgICAgICAgICAgICAgbGV0IHRhc2tJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAodGFiSW5kZXggPT09IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tJbmRleCA9IGFkZFRhc2soXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza1RpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0R1ZURhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrTm90ZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrUGlubmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFza0NvbXBsZXRlZFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVUYXNrRE9NQ29tcGxldGUodGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuY2hhbmdlUGluQnV0dG9uSW1hZ2UodGFza0luZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uKHRhc2tJbmRleCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFza0luZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuYWRkTmV3VGFza1RvVGFiKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrRHVlRGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tOb3RlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tQaW5uZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQ29tcGxldGVkXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvYWRJbkNoZWNrbGlzdFRhc2tPYmplY3RzKHRhYkluZGV4LCB0YWJLZXksIHRhc2tJbmRleCwgdGFza0tleSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgbG9hZEluQ2hlY2tsaXN0VGFza09iamVjdHMgPSAodGFiSW5kZXgsIHRhYktleSwgdGFza0luZGV4LCB0YXNrS2V5KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFza09iamVjdCh0YWJJbmRleCwgdGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdHMgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0Q2hlY2tsaXN0VGFza09iamVjdHModGFiSW5kZXgsIHRhc2tJbmRleCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tsaXN0VGFza0tleSBpbiBjaGVja2xpc3RUYXNrT2JqZWN0cykge1xuICAgICAgICAgICAgaWYgKGNoZWNrbGlzdFRhc2tPYmplY3RzW2NoZWNrbGlzdFRhc2tLZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGFza09iamVjdC5hZGRUYXNrKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tWYWx1ZXMgPSB0b2RvTGlzdFN0b3JhZ2UuZ2V0Q2hlY2tsaXN0VGFza1ZhbHVlcyh0YWJLZXksIHRhc2tLZXksIGNoZWNrbGlzdFRhc2tLZXkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdFRhc2tWYWx1ZXNbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0NvbXBsZXRlZCA9IGNoZWNrbGlzdFRhc2tWYWx1ZXNbMV07XG4gICAgICAgICAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tJbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAodGFiSW5kZXggPT09IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tJbmRleCA9IGFkZExvYWRlZEluQ2hlY2tsaXN0VGFzayh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24sIGNoZWNrbGlzdFRhc2tDb21wbGV0ZWQpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tsaXN0VGFza0luZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzayh0YWJJbmRleCwgdGFza0luZGV4LCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb24sIGNoZWNrbGlzdFRhc2tDb21wbGV0ZWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgbG9hZEluSW5pdGlhbExpc3RlbmVycyA9ICgpID0+IHtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGROZXdUYWJMaXN0ZW5lcigpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZE5ld1Rhc2tMaXN0ZW5lcigpO1xuICAgIH07XG4gICAgY29uc3QgbG9hZEluUGFnZSA9ICgpID0+IHtcbiAgICAgICAgbG9hZEluSW5pdGlhbExpc3RlbmVycygpO1xuICAgICAgICBpZiAodG9kb0xpc3RTdG9yYWdlLmNoZWNrRm9yRXhpc3RpbmdTdG9yYWdlKCkpIHtcbiAgICAgICAgICAgIGxvYWRJbkxvY2FsU3RvcmFnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9kb0xpc3RTdG9yYWdlLmluaXRpYWxpemVUb2RvTGlzdCgpOztcbiAgICAgICAgICAgIGxvYWRJbkluc3RydWN0aW9uc1BhZ2UoKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFRhYixcbiAgICAgICAgaW5zZXJ0VGFiSW5wdXRFbGVtZW50LFxuICAgICAgICB1cGRhdGVUYWIsXG4gICAgICAgIHN3aXRjaFRhYixcbiAgICAgICAgcmVtb3ZlVGFiLFxuICAgICAgICBhZGRUYWJMaXN0ZW5lcnMsXG4gICAgICAgIGFkZFRhc2ssXG4gICAgICAgIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsXG4gICAgICAgIHVwZGF0ZVRhc2ssXG4gICAgICAgIHRvZ2dsZVRhc2tQaW4sXG4gICAgICAgIHRvZ2dsZVRhc2tDb21wbGV0ZSxcbiAgICAgICAgcmVtb3ZlVGFzayxcbiAgICAgICAgYWRkVGFza0xpc3RlbmVycyxcbiAgICAgICAgYWRkTmV3Q2hlY2tsaXN0VGFzayxcbiAgICAgICAgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgdXBkYXRlQ2hlY2tsaXN0VGFzayxcbiAgICAgICAgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlLFxuICAgICAgICByZW1vdmVDaGVja2xpc3RUYXNrLFxuICAgICAgICBhZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzLFxuICAgICAgICB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMsXG4gICAgICAgIGxvYWRJbkluc3RydWN0aW9uc1BhZ2UsXG4gICAgICAgIGxvYWRJbkxvY2FsU3RvcmFnZSxcbiAgICAgICAgbG9hZEluVGFiT2JqZWN0cyxcbiAgICAgICAgbG9hZEluSW5pdGlhbExpc3RlbmVycyxcbiAgICAgICAgbG9hZEluUGFnZSxcbiAgICB9O1xufSkoKTtcblxuZXhwb3J0IHsgZXZlbnRCdW5kbGVyIH07IiwiaW1wb3J0IHsgZXZlbnRCdW5kbGVyIH0gZnJvbSBcIi4vb2JqZWN0cy9ldmVudF9idW5kbGVyX29iamVjdFwiO1xuXG5ldmVudEJ1bmRsZXIubG9hZEluUGFnZSgpOyJdLCJuYW1lcyI6WyJldmVudEFzc2lnbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50QnVuZGxlciIsImFkZFRhYiIsInNjb3BlIiwidGFiRWRpdEJ1dHRvbnMiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uIiwiaW5zZXJ0VGFiSW5wdXRFbGVtZW50IiwiaW5wdXRFbGVtZW50IiwidXBkYXRlVGFiIiwidGFiUmVtb3ZlQnV0dG9ucyIsInJlbW92ZVRhYiIsInRhYlN3aXRjaEJ1dHRvbnMiLCJzd2l0Y2hUYWIiLCJhZGRUYXNrIiwidGFza0VkaXRCdXR0b25zIiwiaW5zZXJ0VGFza0lucHV0RWxlbWVudCIsInVwZGF0ZVRhc2siLCJ0YXNrUGluQnV0dG9ucyIsInRvZ2dsZVRhc2tQaW4iLCJ0YXNrQ29tcGxldGVDaGVja2JveGVzIiwiY2hlY2tib3giLCJ0b2dnbGVUYXNrQ29tcGxldGUiLCJ0YXNrUmVtb3ZlQnV0dG9ucyIsInJlbW92ZVRhc2siLCJuZXdDaGVja2xpc3RUYXNrQnV0dG9ucyIsImFkZE5ld0NoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RFZGl0QnV0dG9ucyIsImluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQiLCJ1cGRhdGVDaGVja2xpc3RUYXNrIiwiY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzIiwidG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlIiwiY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMiLCJyZW1vdmVDaGVja2xpc3RUYXNrIiwidGFza1RvZ2dsZURpc3BsYXlCdXR0b25zIiwidG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzIiwiY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQiLCJvYmplY3QiLCJjaGVja2xpc3QiLCJPYmplY3QiLCJhc3NpZ24iLCJ0YXNrIiwicHVzaCIsImxlbmd0aCIsImluZGV4IiwidW5kZWZpbmVkIiwiZ2V0Q2hlY2tsaXN0VGFza3MiLCJnZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2siLCJ0b0RvTGlzdCIsImN1cnJlbnRUYWIiLCJnZXRDdXJyZW50VGFiSW5kZXgiLCJzZXRDdXJyZW50VGFiSW5kZXgiLCJuZXdDdXJyZW50VGFiIiwiTnVtYmVyIiwiZ2V0Q3VycmVudFRhYk9iamVjdCIsImN1cnJlbnRUYWJJbmRleCIsInRpdGxlQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsVGl0bGUiLCJ0aXRsZSIsImdldFRhc2tUaXRsZSIsInNldFRhc2tUaXRsZSIsIm5ld1RpdGxlIiwiaGVscGVyRnVuY3Rpb25zIiwiZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQiLCJldmVudCIsInRhYkVsZW1lbnQiLCJ0YXJnZXQiLCJwYXJlbnRFbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwiZW5zdXJlQ29ycmVjdFRhc2tTdWJjb250YWluZXJFbGVtZW50IiwidGFza1N1YmNvbnRhaW5lckVsZW1lbnQiLCJjbGFzc0xpc3QiLCJpbmNsdWRlcyIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCIsImNoZWNrbGlzdFRhc2tFbGVtZW50IiwiZ2V0VGFza0VsZW1lbnQiLCJ0YXNrSW5kZXgiLCJnZXRUYWJPYmplY3QiLCJ0YWJJbmRleCIsImdldFRhc2tPYmplY3QiLCJjaGVja0lmV2FzQ3VycmVudFRhYiIsImNoZWNrSWZPbmx5T25lVGFiIiwidG9Eb1RhYlNlY3Rpb24iLCJnZXRUYXNrSW5kZXgiLCJ0YXNrRWxlbWVudCIsImVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCIsImRhdGFzZXQiLCJnZXRDaGVja2xpc3RUYXNrSW5kZXgiLCJjaGVja2xpc3RUYXNrSW5kZXgiLCJnZXRUYWJJbmRleCIsImdldE5ld1ZhbHVlIiwidmFsdWUiLCJnZXRUYXNrU3ViY29udGFpbmVyVHlwZSIsInRhc2tTdWJjb250YWluZXJFbGVtZW50Q2xhc3NlcyIsInRhc2tTdWJjb250YWluZXJUeXBlIiwiZ2V0VGFza1N1YmNvbnRhaW5lckVsZW1lbnQiLCJidXR0b25UeXBlIiwiZ2V0Q2hlY2tsaXN0VGFza0VsZW1lbnQiLCJnZXRUYWJFbGVtZW50IiwiY2hlY2tGb3JFeGlzdGluZ0lucHV0RWxlbWVudCIsImVsZW1lbnRUeXBlIiwidHJ5aW5nVG9Eb3VibGVDbGljayIsImdldENoZWNrbGlzdFRhc2tPYmplY3QiLCJjaGVja0lmTm9Nb3JlVGFicyIsImRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsImdldFRhc2tEZXNjcmlwdGlvbiIsInNldFRhc2tEZXNjcmlwdGlvbiIsIm5ld0Rlc2NyaXB0aW9uIiwiY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsQ29tcGxldGVkU3RhdGUiLCJjb21wbGV0ZWQiLCJ0b2dnbGVDb21wbGV0ZWRTdGF0ZSIsImdldENvbXBsZXRlZFN0YXRlIiwib2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QiLCJ0YWJOYW1lIiwibmV3VGFiIiwidG9Eb1RhYiIsIm5ld1RhYk5hbWUiLCJ0YWJBcnJheSIsImZpcnN0VGFiIiwidGFiIiwiZHVlRGF0ZSIsIm5vdGVzIiwicGlubmVkIiwidGFiT2JqZWN0IiwibmV3VGFzayIsImluaXRpYWxEdWVEYXRlIiwiZ2V0VGFza0R1ZURhdGUiLCJzZXRUYXNrRHVlRGF0ZSIsIm5ld0R1ZURhdGUiLCJkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsTm90ZXMiLCJnZXRUYXNrTm90ZXMiLCJzZXRUYXNrTm90ZXMiLCJuZXdOb3RlcyIsIm5vdGVzQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsUGlubmVkU3RhdGUiLCJ0b2dnbGVQaW5uZWRTdGF0ZSIsImdldFBpbm5lZFN0YXRlIiwicGlubmVkQmVoYXZpb3JDb21wb25lbnQiLCJ0b0RvVGFzayIsIm5ld1Rhc2tTdWJjb250ZW50VmFsdWUiLCJ0YXNrT2JqZWN0IiwibmV3Q2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdFRhc2tPYmplY3QiLCJuZXdEZXNjcmlwdGlvblZhbHVlIiwiRE9NQ29udHJvbGxlckFkZEVkaXQiLCJhZGROZXdUYXNrVG9ET00iLCJuZXdUYXNrT2JqZWN0IiwidG9Eb0NvbnRlbnQiLCJuZXdUYXNrRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJuZXdUYXNrVGl0bGUiLCJuZXdUYXNrRGVzY3JpcHRpb24iLCJuZXdUYXNrRHVlRGF0ZSIsIm5ld1Rhc2tOb3RlcyIsIm5ld1Rhc2tDb21wbGV0ZUlEIiwiaW5uZXJIVE1MIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInNldEF0dHJpYnV0ZSIsInRvZ2dsZVRhc2tET01Db21wbGV0ZSIsImNvbXBsZXRlQ2hlY2tib3giLCJjaGVja2VkIiwicmVtb3ZlIiwiYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NIiwibmV3Q2hlY2tsaXN0VGFza0luZGV4IiwiY2hlY2tsaXN0RWxlbWVudCIsIm5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiIsIm5ld0NoZWNrbGlzdFRhc2tFbGVtZW50IiwidG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlIiwiY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveCIsImNoYW5nZVBpbkJ1dHRvbkltYWdlIiwicGluQnV0dG9uSW1hZ2UiLCJzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24iLCJ0YXNrRWxlbWVudEluZGV4IiwidGFza0NvbnRlbnRTZWN0aW9uIiwibGlzdE9mUGlubmVkVGFza0VsZW1lbnRzIiwiaW5zZXJ0QmVmb3JlIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJsYXN0UGlubmVkVGFza0VsZW1lbnQiLCJwaW5uZWRUYXNrRWxlbWVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsImxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzIiwibGFzdFVucGlubmVkVGFza0VsZW1lbnQiLCJ1bnBpbm5lZFRhc2tFbGVtZW50IiwiYWRkTmV3VGFiVG9ET00iLCJhZGRUYWJCdXR0b24iLCJuZXdUYWJFbGVtZW50IiwibmV3VGFiT2JqZWN0VGl0bGUiLCJmaXJzdENoaWxkIiwiZm9jdXMiLCJzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSIsImluc2VydFRhYk5hbWVFbGVtZW50IiwidGFiQnV0dG9uIiwidGFiQnV0dG9uTmFtZSIsImFkZEN1cnJlbnRUYWJJbmRpY2F0b3IiLCJsb2FkVGFza3NGcm9tTmV3Q3VycmVudFRhYiIsImxpc3RPZlRhc2tzIiwiYWRkVGFza0xpc3RlbmVycyIsImxpc3RPZkNoZWNrbGlzdFRhc2tzIiwiYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyIsInRhc2tTdWJjb250YWluZXIiLCJzZXRUYXNrSW5wdXRFbGVtZW50VmFsdWUiLCJ0YXNrT2JqZWN0VmFsdWUiLCJpbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQiLCJ0YXNrU3ViY29udGVudEVsZW1lbnQiLCJ0YXNrVGl0bGUiLCJ0YXNrRHVlRGF0ZSIsInRhc2tEZXNjcmlwdGlvbiIsInRhc2tOb3RlcyIsImNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiIsInNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSIsImNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiIsImluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQiLCJjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50IiwiZm9yRWFjaCIsImVsZW1lbnQiLCJzdHlsZSIsImRpc3BsYXkiLCJzZXRUaW1lb3V0IiwicHJldmVudERvdWJsZUNsaWNrIiwicm90YXRlQ2hldnJvbkJ1dHRvbiIsImJ1dHRvbkltYWdlIiwiYnV0dG9uSW1hZ2VDbGFzc2VzIiwidG9nZ2xlQW5pbWF0aW9ucyIsImFjdGlvbiIsImVsZW1lbnRzVG9Ub2dnbGUiLCJET01Db250cm9sbGVyUmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXBsYWNlQ2hpbGRyZW4iLCJvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IiwidG9kb0xpc3RTdG9yYWdlIiwibG9hZGluZ0luQ29udGVudCIsImdldExvY2FsU3RvcmFnZVZhbHVlIiwidG9kb0xpc3RKU09OU3RyaW5nIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIkpTT04iLCJwYXJzZSIsInVwZGF0ZUxvY2FsU3RvcmFnZVZhbHVlIiwibmV3VmFsdWUiLCJ1cGRhdGVkSlNPTlN0cmluZ1ZhbHVlIiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsInRvZG9MaXN0UGFyc2VkT2JqZWN0IiwidGFiSlNPTlN0cmluZyIsInRhYlBhcnNlZE9iamVjdCIsInNldEN1cnJlbnRUYWIiLCJzZXRUYWJOYW1lIiwiZ2V0VGFiVGl0bGUiLCJ0YWJLZXkiLCJnZXRUYWJPYmplY3RzIiwidGFza0pTT05TdHJpbmciLCJ0YXNrUGFyc2VkT2JqZWN0Iiwic2V0VGFza1N1YmNvbnRhaW5lclZhbHVlIiwic3ViY29udGFpbmVyVHlwZSIsInRvZ2dsZVRhc2tQaW5uZWQiLCJ0b2dnbGVUYXNrQ29tcGxldGVkIiwiZ2V0VGFza1ZhbHVlcyIsInRhc2tLZXkiLCJ0YXNrVmFsdWVzIiwidGFza1Bpbm5lZCIsInRhc2tDb21wbGV0ZWQiLCJnZXRUYXNrT2JqZWN0cyIsImFkZENoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RUYXNrSlNPTlN0cmluZyIsImNoZWNrbGlzdFRhc2tQYXJzZWRPYmplY3QiLCJzZXRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24iLCJ0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVkIiwiZ2V0Q2hlY2tsaXN0VGFza1ZhbHVlcyIsImNoZWNrbGlzdFRhc2tLZXkiLCJjaGVja2xpc3RUYXNrVmFsdWVzIiwiY2hlY2tsaXN0VGFza0NvbXBsZXRlZCIsImdldENoZWNrbGlzdFRhc2tPYmplY3RzIiwiY2hlY2tGb3JFeGlzdGluZ1N0b3JhZ2UiLCJpbml0aWFsaXplVG9kb0xpc3QiLCJ0b2dnbGVMb2FkaW5nIiwiaXNMb2FkaW5nIiwibmV3VGFiSW5kZXgiLCJhZGRUYWJMaXN0ZW5lcnMiLCJmaXJzdFRhYkluZGV4IiwibG9hZEluSW5zdHJ1Y3Rpb25zUGFnZSIsIm5ld1Rhc2tJbmRleCIsImFkZExvYWRlZEluQ2hlY2tsaXN0VGFzayIsImxvYWRJbkxvY2FsU3RvcmFnZSIsImxvYWRJbkN1cnJlbnRUYWJJbmRleCIsImxvYWRJblRhYk9iamVjdHMiLCJ0YWJPYmplY3RzIiwidGFiVGl0bGUiLCJsb2FkSW5UYXNrT2JqZWN0cyIsInRhc2tPYmplY3RzIiwibG9hZEluQ2hlY2tsaXN0VGFza09iamVjdHMiLCJjaGVja2xpc3RUYXNrT2JqZWN0cyIsImxvYWRJbkluaXRpYWxMaXN0ZW5lcnMiLCJjb2RlIiwibG9hZEluUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=
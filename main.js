(()=>{"use strict";const e=(e,t)=>{let o=t;return Object.assign(e,{getTaskTitle:()=>o,setTaskTitle(e){o=e}})},t=(e,t)=>{let o=t;return Object.assign(e,{getTaskDescription:()=>o,setTaskDescription(e){o=e}})},o=e=>{let t=!1;return Object.assign(e,{toggleCompletedState(){t=!t},getCompletedState:()=>t})},s=e=>{let t=[];return Object.assign(e,{addTask:e=>(t.push(e),t.length-1),removeTask(e){t[e]=void 0},getChecklistTasks:()=>t,getSpecificChecklistTask:e=>t[e]})},l=(l,n,c,a)=>{let g={};return Object.assign(g,e(g,l),t(g,n),((e,t)=>{let o=t;return Object.assign(e,{getTaskDueDate:()=>o,setTaskDueDate(e){o=e}})})(g,c),((e,t)=>{let o=t;return Object.assign(e,{getTaskNotes:()=>o,setTaskNotes(e){o=e}})})(g,a),(e=>{let t=!1;return Object.assign(e,{togglePinnedState(){t=!t},getPinnedState:()=>t})})(g),o(g),s(g)),g},n=t=>{let o={};return Object.assign(o,e(o,t),s(o)),o},c=(()=>{let e={};return Object.assign(e,s(e)),e})(),a=e=>c.addTask(e),g=(e,t)=>e.addTask(t),i=(e,t)=>e.addTask(t),r=e=>{c.removeTask(e)},k=()=>{const e=n("New Tab");return c.addTask(e)},d=()=>{const e=document.querySelector(".add-tab"),t=document.querySelector(".to-do-tab-section"),o=document.createElement("div");o.classList.add("tab-title"),o.innerHTML='\n            <button class="switch-tab">\n                <h2>Homework</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n            ',t.insertBefore(o,e)},T=()=>{k(),d()},p=()=>{document.querySelector(".add-tab").addEventListener("click",T)};let u=(e=>{let s={};return Object.assign(s,t(s,"ddtest"),o(s)),s})();console.log(u),console.log(u.getCompletedState()),u.getCompletedState()?console.log(u.getCompletedState(),"this is now true"):console.log(u.getCompletedState(),"this is still false"),console.log(u.getCompletedState()),console.log(u.toggleCompletedState()),console.log(u.getCompletedState()),u.getCompletedState()?console.log(u.getCompletedState(),"this is now true"):console.log(u.getCompletedState(),"this is still false"),console.log(u.getCompletedState()),console.log(u),console.log(u.getTaskDescription()),u.setTaskDescription("wowwie"),console.log(u.getTaskDescription());let m=l("Make Cereal","part of breakfast plan","this morning","make sure to put milk back in fridge");console.log(m),console.log(m.getTaskTitle()),console.log(m.getTaskDescription()),console.log(m.getTaskDueDate()),console.log(m.getTaskNotes()),console.log(m.getPinnedState()),console.log(m.getCompletedState()),m.setTaskTitle("Make Chicken Broth"),m.setTaskDescription("requires 1 chicken and 1 broth"),m.setTaskDueDate("before I caught this cold"),m.setTaskNotes("don't sneeze into pot"),m.togglePinnedState(),m.toggleCompletedState(),console.log(m.getTaskTitle()),console.log(m.getTaskDescription()),console.log(m.getTaskDueDate()),console.log(m.getTaskNotes()),console.log(m.getPinnedState()),console.log(m.getCompletedState()),console.log(i(m,u)),console.log(m.getChecklistTasks()),console.log(m.getSpecificChecklistTask(0)),console.log(m.getSpecificChecklistTask(0).getTaskDescription());let b=n("kitchen stuff");console.log(b),console.log(g(b,m)),console.log(b),console.log(b.getChecklistTasks()),console.log(b.getSpecificChecklistTask(0)),console.log(b.getSpecificChecklistTask(0).getTaskTitle());let h=l("Clean pot","part of chores plan","this afternoon","make sure to use soap");console.log(b),console.log(g(b,h)),console.log(b.getSpecificChecklistTask(1)),console.log(b.getSpecificChecklistTask(1).getTaskTitle()),console.log(a(b)),console.log(c.getChecklistTasks()),console.log(c.getSpecificChecklistTask(0)),console.log(c.getSpecificChecklistTask(0).getTaskTitle()),r(0),console.log(c.getChecklistTasks()),console.log(a(b)),console.log(c.getChecklistTasks()),document.querySelector(".tab-name-input").addEventListener("keydown",(e=>{"Enter"===e.code&&(console.log("This works"),console.log(e),console.log(e.srcElement),console.log(e.srcElement.previousElementSibling),console.log(e.srcElement.previousElementSibling.childNodes),console.log(e.srcElement.previousElementSibling.childNodes[1]),e.srcElement.previousElementSibling.childNodes[1].textContent=e.srcElement.value)})),p()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixFQUFTcEIscUJBRXJCNEMsUUFBUUMsSUFBSXhCLEVBQXdCRSxJQUNwQ3FCLFFBQVFDLElBQUl6QixFQUFTcEIscUJBdUVKK0IsU0FBU0MsY0FBYyxtQkFDL0JTLGlCQUFpQixXQWJETyxJQUNGLFVBQWZBLEVBQU1DLE9BQ05MLFFBQVFDLElBQUksY0FDWkQsUUFBUUMsSUFBSUcsR0FDWkosUUFBUUMsSUFBSUcsRUFBTUUsWUFDbEJOLFFBQVFDLElBQUlHLEVBQU1FLFdBQVdDLHdCQUM3QlAsUUFBUUMsSUFBSUcsRUFBTUUsV0FBV0MsdUJBQXVCQyxZQUNwRFIsUUFBUUMsSUFBSUcsRUFBTUUsV0FBV0MsdUJBQXVCQyxXQUFXLElBQy9ESixFQUFNRSxXQUFXQyx1QkFBdUJDLFdBQVcsR0FBR0MsWUFBY0wsRUFBTUUsV0FBV0ksTUFDekYsSUFNSmQsRyIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL3RvZG9fdGFza19vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9kdWVfZGF0ZV9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvdG9kb190YWJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvdG9kb19saXN0X29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9ET01fY29udHJvbGxlcl9yZW1vdmVfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvb2JqZWN0X2NvbnRyb2xsZXJfYWRkX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV91cGRhdGVfY29udHJvbGxlci5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvZXZlbnRfYXNzaWduZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvY2hlY2tsaXN0X3Rhc2tfb2JqZWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsVGl0bGUpID0+IHtcbiAgICBsZXQgdGl0bGUgPSBpbml0aWFsVGl0bGU7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGdldFRhc2tUaXRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza1RpdGxlKG5ld1RpdGxlKSB7XG4gICAgICAgICAgICB0aXRsZSA9IG5ld1RpdGxlO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0iLCJjb25zdCBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbERlc2NyaXB0aW9uKSA9PiB7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gaW5pdGlhbERlc2NyaXB0aW9uO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRGVzY3JpcHRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tEZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IiwiLy8gb3JpZ2luYWwgd2hlcmUgYWxsIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZ2V0IHJldHVybmVkLCBzbyBubyBwcml2YXRlIGZpZWxkcyAoY29tcGxldGVkIHNob3VsZCBiZSBwcml2YXRlKVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2FuQ29tcGxldGUgPSAob2JqZWN0KSA9PiAoe1xuLy8gICAgIGNvbXBsZXRlZDogZmFsc2UsXG4vLyAgICAgdG9nZ2xlOiAoKSA9PiB7XG4vLyAgICAgICAgIGlmIChvYmplY3QuY29tcGxldGVkKSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gZmFsc2U7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gdHJ1ZTtcbi8vICAgICAgICAgfTtcbi8vICAgICB9LFxuLy8gICAgIGdldENvbXBsZXRlZFN0YXRlOiAoKSA9PiB7XG4vLyAgICAgICAgIHJldHVybiBvYmplY3QuY29tcGxldGVkXG4vLyAgICAgfVxuLy8gfSk7XG5cbmNvbnN0IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCkgPT4ge1xuICAgIGxldCBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlQ29tcGxldGVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRDb21wbGV0ZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiY29uc3QgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0KSA9PiB7XG4gICAgbGV0IGNoZWNrbGlzdCA9IFtdO1xuICAgIGNvbnN0IGdldFRhc2tJbmRleCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGFkZFRhc2sodGFzaykge1xuICAgICAgICAgICAgY2hlY2tsaXN0LnB1c2godGFzayk7XG4gICAgICAgICAgICAvLyByZXR1cm4gY2hlY2tsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGFza0luZGV4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVRhc2soaW5kZXgpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFtpbmRleF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENoZWNrbGlzdFRhc2tzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrbGlzdDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tsaXN0W2luZGV4XTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kdWVfZGF0ZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3Bpbm5lZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb1Rhc2sgPSAodGl0bGUsIGRlc2NyaXB0aW9uLCBkdWVEYXRlLCBub3RlcykgPT4ge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgdGl0bGVCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIHRpdGxlKSwgXG4gICAgICAgIGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkZXNjcmlwdGlvbiksXG4gICAgICAgIGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGR1ZURhdGUpLFxuICAgICAgICBub3Rlc0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgbm90ZXMpLFxuICAgICAgICAvLyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgICAgIHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFzayB9OyIsImNvbnN0IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxEdWVEYXRlKSA9PiB7XG4gICAgbGV0IGR1ZURhdGUgPSBpbml0aWFsRHVlRGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza0R1ZURhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZHVlRGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0R1ZURhdGUobmV3RHVlRGF0ZSkge1xuICAgICAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3Qgbm90ZXNCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxOb3RlcykgPT4ge1xuICAgIGxldCBub3RlcyA9IGluaXRpYWxOb3RlcztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza05vdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdGVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrTm90ZXMobmV3Tm90ZXMpIHtcbiAgICAgICAgICAgIG5vdGVzID0gbmV3Tm90ZXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSIsImNvbnN0IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCkgPT4ge1xuICAgIGxldCBwaW5uZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlUGlubmVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAocGlubmVkKSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpbm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwaW5uZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYWIgPSAodGl0bGUpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFiIH07IiwiLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9MaXN0ID0gKCgpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59KSgpO1xuXG5leHBvcnQgeyB0b0RvTGlzdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiXG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG5jb25zdCBET01Db250cm9sbGVyQWRkID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGRUYWIgPSAobmV3VGFiKSA9PiB7XG4gICAgICAgIHJldHVybiB0b0RvTGlzdC5hZGRUYXNrKG5ld1RhYik7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb0RvVGFzayA9ICh0YWIsIG5ld1RvRG9UYXNrKSA9PiB7XG4gICAgICAgIHJldHVybiB0YWIuYWRkVGFzayhuZXdUb0RvVGFzayk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRDaGVja2xpc3RUYXNrID0gKHRvRG9UYXNrLCBuZXdDaGVja2xpc3RUYXNrKSA9PiB7XG4gICAgICAgIHJldHVybiB0b0RvVGFzay5hZGRUYXNrKG5ld0NoZWNrbGlzdFRhc2spO1xuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkVGFiLCBhZGRUb0RvVGFzaywgYWRkQ2hlY2tsaXN0VGFzayB9O1xufSkoKTtcblxuZXhwb3J0IHsgRE9NQ29udHJvbGxlckFkZCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiXG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG5jb25zdCBET01Db250cm9sbGVyUmVtb3ZlID0gKCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVUYWIgPSAodGFiSW5kZXgpID0+IHtcbiAgICAgICAgdG9Eb0xpc3QucmVtb3ZlVGFzayh0YWJJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUb0RvVGFzayA9ICh0YWIsIHRvRG9UYXNrSW5kZXgpID0+IHtcbiAgICAgICAgdGFiLnJlbW92ZVRhc2sodG9Eb1Rhc2tJbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrID0gKHRvRG9UYXNrLCBjaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgdG9Eb1Rhc2sucmVtb3ZlVGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiLCByZW1vdmVUb0RvVGFzaywgcmVtb3ZlQ2hlY2tsaXN0VGFzayB9O1xufSkoKTtcblxuZXhwb3J0IHsgRE9NQ29udHJvbGxlclJlbW92ZSB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3Qgb2JqZWN0Q29udHJvbGxlckFkZE9iamVjdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiVG9Ub2RvQXJyYXkgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1RhYiA9IHRvRG9UYWIoXCJOZXcgVGFiXCIpO1xuICAgICAgICByZXR1cm4gdG9Eb0xpc3QuYWRkVGFzayhuZXdUYWIpO1xuICAgIH1cbiAgICByZXR1cm4geyBhZGROZXdUYWJUb1RvZG9BcnJheSwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IG9iamVjdENvbnRyb2xsZXJBZGRPYmplY3QgfTsiLCJjb25zdCBET01VcGRhdGVDb250cm9sbGVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJUb0RPTSA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IG5ld1RhYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld1RhYi5jbGFzc0xpc3QuYWRkKFwidGFiLXRpdGxlXCIpO1xuICAgICAgICBuZXdUYWIuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInN3aXRjaC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aDI+SG9tZXdvcms8L2gyPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YWIgbmFtZSBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlbW92ZS10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFiIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICBgO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFiLCBhZGRUYWJCdXR0b24pO1xuICAgIH1cbiAgICByZXR1cm4geyBhZGROZXdUYWJUb0RPTSwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IERPTVVwZGF0ZUNvbnRyb2xsZXIgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBvYmplY3RDb250cm9sbGVyQWRkT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0X2NvbnRyb2xsZXJfYWRkX29iamVjdFwiO1xuaW1wb3J0IHsgRE9NVXBkYXRlQ29udHJvbGxlciB9IGZyb20gXCIuL0RPTV91cGRhdGVfY29udHJvbGxlclwiO1xuXG5jb25zdCBldmVudEJ1bmRsZXIgPSAoKCkgPT4ge1xuICAgIC8vIGlnbm9yZSBmb3Igbm93IHN0YXJ0XG4gICAgY29uc3QgZGV0ZXJtaW5lRXZlbnQgPSAobm9kZSwgaW5kaWNhdG9yKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoaW5kaWNhdG9yKSB7XG4gICAgICAgICAgICBjYXNlIFwiYWRkLXRhYlwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGFkZFRhYiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcblxuICAgICAgICAgICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkT2JqZWN0LmFkZE5ld1RhYlRvVG9kb0FycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgIERPTVVwZGF0ZUNvbnRyb2xsZXIuYWRkTmV3VGFiVG9ET00oKVxuXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhZGRUYWJcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlZGl0LXRhYlwiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlLXRhYlwiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibmV3LXRhYi1uYW1lXCI6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJhZGQtdGFza1wiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlLXRhc2tcIjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBpbi10YXNrXCI6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0b2dnbGUtdGFzay1jb21wbGV0ZVwiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWRpdC10YXNrLXRpdGxlXCI6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJuZXctdGFzay10aXRsZVwiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWRpdC10YXNrLWR1ZS1kYXRlXCI6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJuZXctdGFzay1kdWUtZGF0ZVwiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWRpdC10YXNrLWRlc2NyaXB0aW9uXCI6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJuZXctdGFzay1kZXNjcmlwdGlvblwiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWRpdC10YXNrLW5vdGVzXCI6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJuZXctdGFzay1ub3Rlc1wiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYWRkLWNoZWNrbGlzdC10YXNrXCI6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0b2dnbGUtY2hlY2tsaXN0LXRhc2stY29tcGxldGVcIjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVkaXQtY2hlY2tsaXN0LXRhc2stZGVzY3JpcHRpb25cIjpcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIm5ldy1jaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiOlxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmVtb3ZlLWNoZWNrbGlzdC10YXNrXCI6XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRLZXlEb3duTGlzdGVuZXIgPSAobm9kZSwgaW5kaWNhdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGRldGVybWluZUV2ZW50KG5vZGUsIGluZGljYXRvcik7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgYWN0aW9uKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZENsaWNrTGlzdGVuZXIgPSAobm9kZSwgaW5kaWNhdG9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGFjdGlvbiA9IGRldGVybWluZUV2ZW50KG5vZGUsIGluZGljYXRvcik7XG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFjdGlvbik7XG4gICAgfTtcbiAgICAvLyBpZ25vcmUgZm9yIG5vdyBlbmRcbiAgICBcbiAgICBjb25zdCBhZGRUYWIgPSAoKSA9PiB7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRPYmplY3QuYWRkTmV3VGFiVG9Ub2RvQXJyYXkoKTtcbiAgICAgICAgRE9NVXBkYXRlQ29udHJvbGxlci5hZGROZXdUYWJUb0RPTSgpXG4gICAgfVxuICAgIHJldHVybiB7IGFkZFRhYiwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IGV2ZW50QnVuZGxlciB9OyIsImltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5cbmNvbnN0IGV2ZW50QXNzaWduZXIgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYkxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YWJcIik7XG4gICAgICAgIGFkZFRhYkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmFkZFRhYik7XG4gICAgfTtcbiAgICByZXR1cm4geyBhZGROZXdUYWJMaXN0ZW5lciwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IGV2ZW50QXNzaWduZXIgfTsiLCJpbXBvcnQgeyB0b0RvVGFzayB9IGZyb20gXCIuL29iamVjdHMvdG9kb190YXNrX29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0cy9jaGVja2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyBjaGVja2xpc3RUYXNrT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0cy9jaGVja2xpc3RfdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcblxuLy8gdGVzdGluZyB0b2RvIHRhc2sgb2JqZWN0XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBub3Rlc0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50XCI7XG5cbi8vIHRlc3RpbmcgY2hlY2tsaXN0IG9iamVjdFxuLy8gaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG4vLyB0ZXN0aW5nIHRhYnMgKGFycmF5cyB0aGF0IGNvbnRhaW4gbWFueSB0byBkbyB0YXNrcylcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi9vYmplY3RzL3RvZG9fdGFiX29iamVjdFwiO1xuXG4vLyB0ZXN0aW5nIGxpc3QgdGhhdCBjb250YWluIGV2ZXJ5dGhpbmdcbmltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0XCI7XG5cbi8vIHRlc3RpbmcgZm9yIERPTSBjb250cm9sbGVyIG9iamVjdHNcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGQgfSBmcm9tIFwiLi9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJSZW1vdmUgfSBmcm9tIFwiLi9vYmplY3RzL0RPTV9jb250cm9sbGVyX3JlbW92ZV9vYmplY3RcIjtcbmltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL29iamVjdHMvZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcbmltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9vYmplY3RzL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuXG5sZXQgdGVzdCA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJkZHRlc3RcIik7XG5jb25zb2xlLmxvZyh0ZXN0KVxuXG5jb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbmlmICh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbiAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIG5vdyB0cnVlXCIpXG59IGVsc2Uge1xuICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgc3RpbGwgZmFsc2VcIilcbn1cblxuY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG5jb25zb2xlLmxvZyh0ZXN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCkpXG5cbmNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuXG5pZiAodGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKSB7XG4gICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBub3cgdHJ1ZVwiKVxufSBlbHNlIHtcbiAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIHN0aWxsIGZhbHNlXCIpXG59XG5cbmNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuY29uc29sZS5sb2codGVzdClcblxuY29uc29sZS5sb2codGVzdC5nZXRUYXNrRGVzY3JpcHRpb24oKSlcbnRlc3Quc2V0VGFza0Rlc2NyaXB0aW9uKFwid293d2llXCIpXG5jb25zb2xlLmxvZyh0ZXN0LmdldFRhc2tEZXNjcmlwdGlvbigpKVxuXG5sZXQgaW1wb3J0YW50VGFzayA9IHRvRG9UYXNrKFwiTWFrZSBDZXJlYWxcIiwgXCJwYXJ0IG9mIGJyZWFrZmFzdCBwbGFuXCIsIFwidGhpcyBtb3JuaW5nXCIsIFwibWFrZSBzdXJlIHRvIHB1dCBtaWxrIGJhY2sgaW4gZnJpZGdlXCIpO1xuY29uc29sZS5sb2coaW1wb3J0YW50VGFzaylcbmNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza1RpdGxlKCkpXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEZXNjcmlwdGlvbigpKVxuY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRHVlRGF0ZSgpKVxuY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrTm90ZXMoKSlcbmNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0UGlubmVkU3RhdGUoKSlcbmNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuaW1wb3J0YW50VGFzay5zZXRUYXNrVGl0bGUoXCJNYWtlIENoaWNrZW4gQnJvdGhcIilcbmltcG9ydGFudFRhc2suc2V0VGFza0Rlc2NyaXB0aW9uKFwicmVxdWlyZXMgMSBjaGlja2VuIGFuZCAxIGJyb3RoXCIpXG5pbXBvcnRhbnRUYXNrLnNldFRhc2tEdWVEYXRlKFwiYmVmb3JlIEkgY2F1Z2h0IHRoaXMgY29sZFwiKVxuaW1wb3J0YW50VGFzay5zZXRUYXNrTm90ZXMoXCJkb24ndCBzbmVlemUgaW50byBwb3RcIilcbmltcG9ydGFudFRhc2sudG9nZ2xlUGlubmVkU3RhdGUoKTtcbmltcG9ydGFudFRhc2sudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcblxuY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrVGl0bGUoKSlcbmNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEdWVEYXRlKCkpXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tOb3RlcygpKVxuY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRQaW5uZWRTdGF0ZSgpKVxuY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG5jb25zb2xlLmxvZyhET01Db250cm9sbGVyQWRkLmFkZENoZWNrbGlzdFRhc2soaW1wb3J0YW50VGFzaywgdGVzdCkpXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENoZWNrbGlzdFRhc2tzKCkpXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbmNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tEZXNjcmlwdGlvbigpKVxuXG5sZXQgdGFiID0gdG9Eb1RhYihcImtpdGNoZW4gc3R1ZmZcIilcbmNvbnNvbGUubG9nKHRhYilcbmNvbnNvbGUubG9nKERPTUNvbnRyb2xsZXJBZGQuYWRkVG9Eb1Rhc2sodGFiLCBpbXBvcnRhbnRUYXNrKSlcbmNvbnNvbGUubG9nKHRhYilcbmNvbnNvbGUubG9nKHRhYi5nZXRDaGVja2xpc3RUYXNrcygpKVxuY29uc29sZS5sb2codGFiLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbmNvbnNvbGUubG9nKHRhYi5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbmxldCBhbm90aGVySW1wb3J0YW50VGFzayA9IHRvRG9UYXNrKFwiQ2xlYW4gcG90XCIsIFwicGFydCBvZiBjaG9yZXMgcGxhblwiLCBcInRoaXMgYWZ0ZXJub29uXCIsIFwibWFrZSBzdXJlIHRvIHVzZSBzb2FwXCIpO1xuY29uc29sZS5sb2codGFiKVxuY29uc29sZS5sb2coRE9NQ29udHJvbGxlckFkZC5hZGRUb0RvVGFzayh0YWIsIGFub3RoZXJJbXBvcnRhbnRUYXNrKSlcbmNvbnNvbGUubG9nKHRhYi5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMSkpXG5jb25zb2xlLmxvZyh0YWIuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDEpLmdldFRhc2tUaXRsZSgpKVxuXG5jb25zb2xlLmxvZyhET01Db250cm9sbGVyQWRkLmFkZFRhYih0YWIpKVxuY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbmNvbnNvbGUubG9nKHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbmNvbnNvbGUubG9nKHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrVGl0bGUoKSlcblxuRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWIoMCk7XG5jb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuXG5jb25zb2xlLmxvZyhET01Db250cm9sbGVyQWRkLmFkZFRhYih0YWIpKVxuY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcblxuLyogXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENoZWNrbGlzdFRhc2tzKCkpO1xubGV0IGluZGV4MSA9IGltcG9ydGFudFRhc2suYWRkVGFzayhbXCJjaGlja2VuXCIsIFwiYnJvdGhcIl0pXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENoZWNrbGlzdFRhc2tzKCkpO1xuaW1wb3J0YW50VGFzay5yZW1vdmVUYXNrKGluZGV4MSk7XG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENoZWNrbGlzdFRhc2tzKCkpO1xuXG5sZXQgY2hlY2tsaXN0ID0gY2hlY2tsaXN0T2JqZWN0KCk7XG5jb25zb2xlLmxvZyhjaGVja2xpc3QpXG5jb25zb2xlLmxvZyhjaGVja2xpc3QuYWRkVGFzayhcImJlbmQgdG9pbGV0XCIpKVxuY29uc29sZS5sb2coY2hlY2tsaXN0LmFkZFRhc2soXCJwaW5jaCB0b2lsZXRcIikpXG5jb25zb2xlLmxvZyhjaGVja2xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbmNvbnNvbGUubG9nKGNoZWNrbGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMSkpXG5jaGVja2xpc3QucmVtb3ZlVGFzaygwKVxuY29uc29sZS5sb2coY2hlY2tsaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG5cbmxldCBpbmRleDIgPSBpbXBvcnRhbnRUYXNrLmFkZFRhc2soY2hlY2tsaXN0KVxuY29uc29sZS5sb2coaW1wb3J0YW50VGFzaylcbmNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q2hlY2tsaXN0KCkuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbmxldCBpbmRleDMgPSBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmFkZFRhc2sodGVzdCkpXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleDIpKVxuY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMikuZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygyKS5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMikudG9nZ2xlQ29tcGxldGVkU3RhdGUoKSlcbmNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDIpLmdldENvbXBsZXRlZFN0YXRlKCkpXG5jb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygyKS5zZXRUYXNrRGVzY3JpcHRpb24oXCJJVCBXT1JLU1wiKSlcbmNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDIpLmdldFRhc2tEZXNjcmlwdGlvbigpKVxuXG5sZXQgdGFiID0gdG9Eb1RhYihcImtpdGNoZW4gc3R1ZmZcIilcbmxldCBsaXN0T2ZTdHVmZiA9IGNoZWNrbGlzdE9iamVjdCgpXG4vLyB0YWIuYWRkQ2hlY2tsaXN0KGxpc3RPZlN0dWZmKVxuY29uc29sZS5sb2codGFiLmFkZFRhc2soaW1wb3J0YW50VGFzaykpXG5jb25zb2xlLmxvZyh0YWIpXG4vLyBjb25zb2xlLmxvZyh0YWIuZ2V0Q2hlY2tsaXN0KCkpXG5jb25zb2xlLmxvZyh0YWIuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuY29uc29sZS5sb2codGFiLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrVGl0bGUoKSlcblxubGV0IGFub3RoZXJJbXBvcnRhbnRUYXNrID0gdG9Eb1Rhc2soXCJDbGVhbiBwb3RcIiwgXCJwYXJ0IG9mIGNob3JlcyBwbGFuXCIsIFwidGhpcyBhZnRlcm5vb25cIiwgXCJtYWtlIHN1cmUgdG8gdXNlIHNvYXBcIik7XG5jb25zb2xlLmxvZyh0YWIpXG4vLyBjb25zb2xlLmxvZyh0YWIuZ2V0Q2hlY2tsaXN0KCkpXG5jb25zb2xlLmxvZyh0YWIuYWRkVGFzayhhbm90aGVySW1wb3J0YW50VGFzaykpXG5jb25zb2xlLmxvZyh0YWIuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDEpKVxuY29uc29sZS5sb2codGFiLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygxKS5nZXRUYXNrVGl0bGUoKSlcblxuY29uc29sZS5sb2codG9Eb0xpc3QpXG5sZXQgdGhlTGlzdCA9IHRvRG9MaXN0O1xuY29uc29sZS5sb2codGhlTGlzdClcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdCgpKVxubGV0IGluZGV4NCA9IGNvbnNvbGUubG9nKHRvRG9MaXN0LmFkZFRhc2sodGFiKSlcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdCgpKVxuY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdCgpLmdldENoZWNrbGlzdCgpLmdldENoZWNrbGlzdFRhc2tzKCkpXG5jb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG5jb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG4gKi9cblxuY29uc3QgbmV3VGFiTmFtZUlucHV0ID0gKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmNvZGUgPT09IFwiRW50ZXJcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIlRoaXMgd29ya3NcIilcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQpXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnNyY0VsZW1lbnQpXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnNyY0VsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZylcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQuc3JjRWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nLmNoaWxkTm9kZXMpXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnNyY0VsZW1lbnQucHJldmlvdXNFbGVtZW50U2libGluZy5jaGlsZE5vZGVzWzFdKVxuICAgICAgICBldmVudC5zcmNFbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcuY2hpbGROb2Rlc1sxXS50ZXh0Q29udGVudCA9IGV2ZW50LnNyY0VsZW1lbnQudmFsdWVcbiAgICB9XG59XG5cbmNvbnN0IHRhYklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50YWItbmFtZS1pbnB1dFwiKVxudGFiSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgbmV3VGFiTmFtZUlucHV0KVxuXG5ldmVudEFzc2lnbmVyLmFkZE5ld1RhYkxpc3RlbmVyKCk7IiwiaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIG9yaWdpbmFsIHdoZXJlIG9iamVjdCB3b3VsZCBuZWVkIHRvIGhhdmUgT2JqZWN0LmFzc2lnbigpIGZvciBldmVyeSBpbnN0YW5jZVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbikgPT4ge1xuICAgIC8vIGNvbnN0IGdldFRhc2tEZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIC8vIH07XG4gICAgLy8gY29uc3Qgc2V0VGFza0Rlc2NyaXB0aW9uID0gKG5ld0Rlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gICAgIGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgLy8gfTtcbi8vICAgICByZXR1cm4geyBnZXRUYXNrRGVzY3JpcHRpb24sIHNldFRhc2tEZXNjcmlwdGlvbiB9O1xuLy8gfTtcblxuY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbikgPT4ge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGRlc2NyaXB0aW9uKSxcbiAgICAgICAgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn1cblxuZXhwb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9OyJdLCJuYW1lcyI6WyJ0aXRsZUJlaGF2aW9yQ29tcG9uZW50Iiwib2JqZWN0IiwiaW5pdGlhbFRpdGxlIiwidGl0bGUiLCJPYmplY3QiLCJhc3NpZ24iLCJnZXRUYXNrVGl0bGUiLCJzZXRUYXNrVGl0bGUiLCJuZXdUaXRsZSIsImRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQiLCJpbml0aWFsRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsImdldFRhc2tEZXNjcmlwdGlvbiIsInNldFRhc2tEZXNjcmlwdGlvbiIsIm5ld0Rlc2NyaXB0aW9uIiwiY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQiLCJjb21wbGV0ZWQiLCJ0b2dnbGVDb21wbGV0ZWRTdGF0ZSIsImdldENvbXBsZXRlZFN0YXRlIiwiY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQiLCJjaGVja2xpc3QiLCJhZGRUYXNrIiwidGFzayIsInB1c2giLCJsZW5ndGgiLCJyZW1vdmVUYXNrIiwiaW5kZXgiLCJ1bmRlZmluZWQiLCJnZXRDaGVja2xpc3RUYXNrcyIsImdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayIsInRvRG9UYXNrIiwiZHVlRGF0ZSIsIm5vdGVzIiwiaW5pdGlhbER1ZURhdGUiLCJnZXRUYXNrRHVlRGF0ZSIsInNldFRhc2tEdWVEYXRlIiwibmV3RHVlRGF0ZSIsImR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxOb3RlcyIsImdldFRhc2tOb3RlcyIsInNldFRhc2tOb3RlcyIsIm5ld05vdGVzIiwibm90ZXNCZWhhdmlvckNvbXBvbmVudCIsInBpbm5lZCIsInRvZ2dsZVBpbm5lZFN0YXRlIiwiZ2V0UGlubmVkU3RhdGUiLCJwaW5uZWRCZWhhdmlvckNvbXBvbmVudCIsInRvRG9UYWIiLCJ0b0RvTGlzdCIsIkRPTUNvbnRyb2xsZXJBZGQiLCJuZXdUYWIiLCJ0YWIiLCJuZXdUb0RvVGFzayIsIm5ld0NoZWNrbGlzdFRhc2siLCJET01Db250cm9sbGVyUmVtb3ZlIiwidGFiSW5kZXgiLCJvYmplY3RDb250cm9sbGVyQWRkT2JqZWN0IiwiRE9NVXBkYXRlQ29udHJvbGxlciIsImFkZFRhYkJ1dHRvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRvRG9UYWJTZWN0aW9uIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImluc2VydEJlZm9yZSIsImV2ZW50QnVuZGxlciIsImV2ZW50QXNzaWduZXIiLCJhZGRFdmVudExpc3RlbmVyIiwidGVzdCIsImNoZWNrbGlzdFRhc2tPYmplY3QiLCJjb25zb2xlIiwibG9nIiwiaW1wb3J0YW50VGFzayIsImFub3RoZXJJbXBvcnRhbnRUYXNrIiwiZXZlbnQiLCJjb2RlIiwic3JjRWxlbWVudCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJjaGlsZE5vZGVzIiwidGV4dENvbnRlbnQiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=
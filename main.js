(()=>{"use strict";const e=e=>{let t=[];return Object.assign(e,{addTask:e=>(t.push(e),t.length-1),removeTask(e){t[e]=void 0},getChecklistTasks:()=>t,getSpecificChecklistTask:e=>t[e]})},t=(()=>{let s=0;const n=()=>s;let c={getCurrentTabIndex:n,setCurrentTabIndex:e=>{s=e},getCurrentTabObject:()=>{const e=n();return t.getSpecificChecklistTask(e)}};return Object.assign(c,e(c)),c})(),s=(e,t)=>{let s=t;return Object.assign(e,{getTaskTitle:()=>s,setTaskTitle(e){s=e}})},n=(()=>{const e=e=>{let t=e.target.parentElement;for(;"tab-title"!==t.getAttribute("class");)t=t.parentElement;return t},s=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task");)t=t.parentElement,s=Array.from(t.classList);return t},n=e=>{let t=e.target.parentElement,s=Array.from(t.classList);for(;!s.includes("to-do-task-subcontainer");)t=t.parentElement,s=Array.from(t.classList);return t},c=e=>{const n=s(e).dataset.taskIndex,c=t.getCurrentTabIndex();return t.getSpecificChecklistTask(c).getSpecificChecklistTask(n)},a=e=>{let t=e.target;for(;"BUTTON"!==t.tagName;)t=t.parentElement;return t},o=e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist-task");)t=t.parentElement,s=Array.from(t.classList);return t};return{ensureCorrectTabElement:e,checkForTabInputElement:t=>"INPUT"===e(t).firstElementChild.tagName,checkIfWasCurrentTab:t=>"current-tab"===e(t).getAttribute("id"),checkIfOnlyOneTab:()=>{const e=document.querySelector(".to-do-tab-section");return 1===Array.from(e.querySelectorAll(".tab-title")).length},ensureCorrectTaskElement:s,ensureCorrectSubcontainer:n,checkForTaskSubcontainerInputElement:e=>"INPUT"===n(e).firstElementChild.tagName,getTargetTaskObject:c,ensureCorrectButtonElement:a,getButtonType:e=>{const t=a(e);return Array.from(t.classList)},getSubcontainerType:e=>{const t=n(e);return Array.from(t.classList)},ensureCorrectChecklistElement:e=>{let t=e.target,s=Array.from(t.classList);for(;!s.includes("checklist");)t=t.parentElement,s=Array.from(t.classList);return t},ensureCorrectChecklistTaskElement:o,checkForChecklistTaskInputElement:e=>null!==o(e).querySelector(".checklist-complete-section").querySelector(".checklist-input"),getTargetChecklistTaskObject:e=>{const t=c(e),s=o(e).dataset.checklistTaskIndex;return t.getSpecificChecklistTask(s)}}})(),c=(e,t)=>{let s=t;return Object.assign(e,{getTaskDescription:()=>s,setTaskDescription(e){s=e}})},a=e=>{let t=!1;return Object.assign(e,{toggleCompletedState(){t=!t},getCompletedState:()=>t})},o=()=>{const n=(t=>{let n={};return Object.assign(n,s(n,"New Tab"),e(n)),n})();return t.addTask(n)},r=e=>{const s=e.target.parentElement.dataset.tabIndex;t.getSpecificChecklistTask(s).setTaskTitle(e.target.value)},l=e=>{const s=n.ensureCorrectTabElement(e).dataset.tabIndex;t.setCurrentTabIndex(s)},i=()=>{const e=t.getChecklistTasks();let s;for(const n in e)if(void 0!==e[n])return t.setCurrentTabIndex(n),s=n,s},d=()=>{const n=t.getCurrentTabIndex(),o=t.getSpecificChecklistTask(n),r=((t,n,o,r)=>{let l={};return Object.assign(l,s(l,t),c(l,o),((e,t)=>{let s=t;return Object.assign(e,{getTaskDueDate:()=>s,setTaskDueDate(e){s=e}})})(l,n),((e,t)=>{let s=t;return Object.assign(e,{getTaskNotes:()=>s,setTaskNotes(e){s=e}})})(l,r),(e=>{let t=!1;return Object.assign(e,{togglePinnedState(){t=!t},getPinnedState:()=>t})})(l),a(l),e(l)),l})("New Task","Task Due Date","Task Description","Task Notes");return o.addTask(r)},u=e=>{const t=n.getTargetTaskObject(e),s=e.target.value,c=n.getSubcontainerType(e);return c.includes("to-do-title-section")?t.setTaskTitle(s):c.includes("to-do-due-date-section")?t.setTaskDueDate(s):c.includes("to-do-description-section")?t.setTaskDescription(s):c.includes("to-do-notes-section")?t.setTaskNotes(s):void 0},k=e=>{n.getTargetTaskObject(e).toggleCompletedState()},T=e=>{const t=n.getTargetTaskObject(e),s=(e=>{let t={};return Object.assign(t,c(t,"Checklist Task Description"),a(t)),t})();return t.addTask(s)},m=e=>{const t=n.getTargetChecklistTaskObject(e),s=e.target.value;t.setTaskDescription(s)},b=e=>{n.getTargetChecklistTaskObject(e).toggleCompletedState()},p=e=>{n.getTargetTaskObject(e).togglePinnedState()},g=()=>{document.querySelector(".add-tab").addEventListener("click",Q.addTab)},h=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-tab"));for(const e of t)e.addEventListener("click",Q.insertTabInputElement)},C=e=>{e.addEventListener("keydown",Q.updateTab)},E=(e=document)=>{const t=Array.from(e.querySelectorAll(".remove-tab"));for(const e of t)e.addEventListener("click",Q.removeTab)},f=(e=document)=>{const t=Array.from(e.querySelectorAll(".switch-tab"));for(const e of t)e.addEventListener("click",Q.switchTab)},y=()=>{document.querySelector(".new-to-do-task").addEventListener("click",Q.newTask)},S=(e=document)=>{const t=Array.from(e.querySelectorAll(".to-do-remove-task"));for(const e of t)e.addEventListener("click",Q.removeTask)},v=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-task"));for(const e of t)e.addEventListener("click",Q.insertTaskInputElement)},L=e=>{e.addEventListener("keydown",Q.updateTask)},I=(e=document)=>{const t=e.querySelectorAll(".to-do-complete-checkbox");for(const e of t)e.addEventListener("click",Q.toggleTaskComplete)},O=(e=document)=>{const t=e.querySelectorAll(".add-checklist-task");for(const e of t)e.addEventListener("click",Q.addNewChecklistTask)},A=(e=document)=>{const t=Array.from(e.querySelectorAll(".edit-checklist-task"));for(const e of t)e.addEventListener("click",Q.insertChecklistTaskInputElement)},D=e=>{e.addEventListener("keydown",Q.updateChecklistTask)},q=(e=document)=>{const t=e.querySelectorAll(".checklist-complete-checkbox");for(const e of t)e.addEventListener("click",Q.toggleChecklistTaskComplete)},x=(e=document)=>{const t=e.querySelectorAll(".remove-checklist-task");for(const e of t)e.addEventListener("click",Q.removeChecklistTask)},j=(e=document)=>{const t=e.querySelectorAll(".to-do-pin");for(const e of t)e.addEventListener("click",Q.toggleTaskPin)},N=(e=document)=>{const t=e.querySelectorAll(".to-do-task-change-display");for(const e of t)e.addEventListener("click",Q.toggleDisplayTaskDetails)},w=(()=>{const e=e=>{const s=t.getCurrentTabObject().getSpecificChecklistTask(e),n=document.querySelector(".to-do-content"),c=document.createElement("div");c.classList.add("to-do-task"),c.dataset.taskIndex=e;const a=s.getTaskTitle(),o=s.getTaskDescription(),r=s.getTaskDueDate(),l=s.getTaskNotes();return c.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-unpinned.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="to-do-complete-checkbox" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="to-do-complete-checkbox">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <div action="" class="checklist">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </div>\n        ',c.querySelector(".to-do-title").textContent=a,c.querySelector(".to-do-due-date").textContent=r,c.querySelector(".to-do-description").textContent=o,c.querySelector(".to-do-notes").textContent=l,n.appendChild(c),c},s=e=>{const s=e.querySelector(".checklist"),n=e.dataset.taskIndex,c=t.getCurrentTabObject().getSpecificChecklistTask(n).getChecklistTasks();for(const e in c)if(void 0!==c[e]){const t=c[e],a=t.getTaskDescription(),o=t.getCompletedState(),r=document.createElement("div");r.classList.add("checklist-task"),r.dataset.checklistTaskIndex=e,r.innerHTML=`\n                    <div class="checklist-complete-section">\n                        <input type="checkbox" id="checklist-${n}-${e}" class="checklist-complete-checkbox">\n                        <label for="checklist-${n}-${e}" class="checklist-task-description">\n                            DESCRIPTION PLACEHOLDER\n                        </label>\n                    </div>\n                    <button class="edit-checklist-task" type="button">\n                        <img src="assets/pencil.png" alt="Edit checklist task button">\n                    </button>\n                    <button class="remove-checklist-task" type="button">\n                        <img src="assets/close.png" alt="Edit checklist task button">\n                    </button>\n                `,r.querySelector(".checklist-task-description").textContent=a;r.querySelector(`#checklist-${n}-${e}`).checked=!!o,s.appendChild(r),Q.addChecklistTaskListeners(s)}},c=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,c=s.getSpecificChecklistTask(n),a=e.querySelector(".to-do-pin").querySelector("img");c.getPinnedState()?a.setAttribute("src","./assets/pin-pinned.png"):a.setAttribute("src","./assets/pin-unpinned.png")},a=e=>{const s=t.getCurrentTabObject(),n=e.dataset.taskIndex,c=s.getSpecificChecklistTask(n),a=document.querySelector(".to-do-content");if(c.getPinnedState()){const t=Array.from(document.querySelectorAll(".pinned-task"));if(0===t.length)a.insertBefore(e,a.firstElementChild);else{const s=t[t.length-1];for(const c of t){if(n<c.dataset.taskIndex){a.insertBefore(e,c);break}c===s&&s.insertAdjacentElement("afterend",e)}}e.classList.add("pinned-task")}};return{addNewTabToDOM:e=>{const s=document.querySelector(".add-tab"),n=document.querySelector(".to-do-tab-section"),c=document.createElement("div"),a=t.getSpecificChecklistTask(e).getTaskTitle();return c.classList.add("tab-title"),c.dataset.tabIndex=e,c.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',c.querySelector(".tab-name").textContent=a,n.insertBefore(c,s),c},setTabInputElementValue:(e,s)=>{const c=n.ensureCorrectTabElement(e).dataset.tabIndex,a=t.getSpecificChecklistTask(c).getTaskTitle();s.value=a},insertTabInputElement:e=>{const t=n.ensureCorrectTabElement(e),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),t.insertBefore(s,t.firstChild),s.focus(),s},insertTabNameElement:e=>{const s=n.ensureCorrectTabElement(e),c=s.dataset.tabIndex,a=t.getSpecificChecklistTask(c).getTaskTitle(),o=document.createElement("button");o.classList.add("switch-tab");const r=document.createElement("h2");return r.classList.add("tab-name"),r.textContent=a,o.appendChild(r),s.insertBefore(o,s.firstChild),s},setDefaultCurrentTabDOM:e=>{const t=document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${e}']`);null!==t&&t.setAttribute("id","current-tab")},setCurrentTabDOM:e=>{n.ensureCorrectTabElement(e).setAttribute("id","current-tab")},setFirstTabToCurrentTab:e=>{void 0!==e&&document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${e}']`).setAttribute("id","current-tab")},addNewTaskToDOM:e,insertTaskInputElement:e=>{const t=n.ensureCorrectSubcontainer(e),s=document.createElement("input");return s.classList.add("task-input"),s.setAttribute("type","text"),t.insertBefore(s,t.firstChild),s.focus(),s},setTaskInputElementValue:(e,t)=>{const s=n.getTargetTaskObject(e),c=n.getButtonType(e);let a;c.includes("edit-task-title")?a=s.getTaskTitle():c.includes("edit-task-due-date")?a=s.getTaskDueDate():c.includes("edit-task-description")?a=s.getTaskDescription():c.includes("edit-task-notes")&&(a=s.getTaskNotes()),t.value=a},insertTaskSubcontentElement:e=>{const t=n.ensureCorrectSubcontainer(e),s=n.getTargetTaskObject(e),c=n.getSubcontainerType(e);let a;if(c.includes("to-do-title-section")){const e=s.getTaskTitle();a=document.createElement("h3"),a.classList.add("to-do-title"),a.textContent=e}else if(c.includes("to-do-due-date-section")){const e=s.getTaskDueDate();a=document.createElement("p"),a.classList.add("to-do-due-date"),a.textContent=e}else if(c.includes("to-do-description-section")){const e=s.getTaskDescription();a=document.createElement("p"),a.classList.add("to-do-description"),a.textContent=e}else if(c.includes("to-do-notes-section")){const e=s.getTaskNotes();a=document.createElement("p"),a.classList.add("to-do-notes"),a.textContent=e}t.insertBefore(a,t.firstChild)},toggleTaskDOMComplete:e=>{const t=n.ensureCorrectTaskElement(e),s=t.querySelector(".to-do-complete-checkbox");n.getTargetTaskObject(e).getCompletedState()?(s.checked=!0,t.classList.add("task-completed")):(s.checked=!1,t.classList.remove("task-completed"))},addNewChecklistTaskToDOM:(e,t)=>{const s=n.ensureCorrectChecklistElement(e),c=n.ensureCorrectTaskElement(e).dataset.taskIndex,a=n.getTargetTaskObject(e).getSpecificChecklistTask(t),o=a.getTaskDescription(),r=a.getCompletedState(),l=document.createElement("div");l.classList.add("checklist-task"),l.dataset.checklistTaskIndex=t,l.innerHTML=`\n            <div class="checklist-complete-section">\n                <input type="checkbox" id="checklist-${c}-${t}" class="checklist-complete-checkbox">\n                <label for="checklist-${c}-${t}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,l.querySelector(".checklist-task-description").textContent=o;return l.querySelector(`#checklist-${c}-${t}`).checked=!!r,s.appendChild(l),l},insertChecklistTaskInputElement:e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section"),s=document.createElement("input");return s.classList.add("checklist-input"),s.setAttribute("type","text"),t.appendChild(s),s.focus(),s},setChecklistTaskInputElementValue:(e,t)=>{const s=n.ensureCorrectChecklistTaskElement(e).dataset.checklistTaskIndex,c=n.getTargetTaskObject(e).getSpecificChecklistTask(s).getTaskDescription();t.value=c},insertChecklistTaskDescriptionElement:e=>{const t=n.ensureCorrectChecklistTaskElement(e),s=t.dataset.checklistTaskIndex,c=t.querySelector(".checklist-complete-section"),a=n.ensureCorrectTaskElement(e).dataset.taskIndex,o=n.getTargetChecklistTaskObject(e).getTaskDescription(),r=document.createElement("label");r.setAttribute("for",`checklist-${a}-${s}`),r.classList.add("checklist-task-description"),r.textContent=o,c.appendChild(r)},toggleChecklistTaskDOMComplete:e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section").querySelector(".checklist-complete-checkbox"),s=n.getTargetChecklistTaskObject(e);t.checked=s.getCompletedState(),s.getCompletedState()?t.classList.add("checklist-task-completed"):t.classList.remove("checklist-task-completed")},changePinButtonImage:e=>{const t=n.getTargetTaskObject(e),s=n.ensureCorrectButtonElement(e).querySelector("img");t.getPinnedState()?s.setAttribute("src","./assets/pin-pinned.png"):s.setAttribute("src","./assets/pin-unpinned.png")},shiftTaskElementPosition:e=>{const t=n.getTargetTaskObject(e),s=n.ensureCorrectTaskElement(e),c=s.dataset.taskIndex,a=document.querySelector(".to-do-content");if(t.getPinnedState()){const e=Array.from(document.querySelectorAll(".pinned-task"));if(0===e.length)a.insertBefore(s,a.firstElementChild);else{const t=e[e.length-1];for(const n of e){if(c<n.dataset.taskIndex){a.insertBefore(s,n);break}n===t&&t.insertAdjacentElement("afterend",s)}}s.classList.add("pinned-task")}else{const e=Array.from(a.querySelectorAll(".to-do-task:not(.pinned-task)"));if(0===e.length)a.appendChild(s);else{const t=e[e.length-1];for(const n of e){if(c<n.dataset.taskIndex){a.insertBefore(s,n);break}n===t&&a.appendChild(s,t)}}s.classList.remove("pinned-task")}},loadTasksFromNewCurrentTab:()=>{const n=t.getCurrentTabObject().getChecklistTasks();for(const t in n)if(void 0!==n[t]){const n=e(t);Q.addTaskListeners(n),c(n),a(n),s(n)}},toggleDisplayTaskDetails:e=>{const t=n.ensureCorrectTaskElement(e);[t.querySelector(".to-do-description-section"),t.querySelector(".to-do-notes-section"),t.querySelector(".checklist")].forEach((e=>{Array.from(e.classList).includes("hide-to-do-details")?(e.classList.remove("hide-to-do-details"),e.classList.add("display-to-do-details")):(e.classList.add("hide-to-do-details"),e.classList.remove("display-to-do-details"))}))},rotateChevronButton:e=>{const t=n.ensureCorrectButtonElement(e).querySelector("img"),s=t.getAttribute("class");null===s||"rotate-hide-task-details"===s?(t.classList.toggle("rotate-hide-task-details",!1),t.classList.add("rotate-display-task-details")):"rotate-display-task-details"===s&&(t.classList.remove("rotate-display-task-details"),t.classList.add("rotate-hide-task-details"))}}})(),P=e=>{const s=n.ensureCorrectTabElement(e).dataset.tabIndex;t.removeTask(s)},B=e=>{const s=n.ensureCorrectTaskElement(e).dataset.taskIndex;t.getCurrentTabObject().removeTask(s)},M=e=>{const t=n.ensureCorrectChecklistTaskElement(e).dataset.checklistTaskIndex;n.getTargetTaskObject(e).removeTask(t)},$=e=>{const t=n.ensureCorrectTabElement(e);let s=t.querySelector(".switch-tab");t.removeChild(s),s=null},R=e=>{const t=n.ensureCorrectTabElement(e);let s=t.querySelector("input");t.removeChild(s),s=null},F=e=>{let t=n.ensureCorrectTabElement(e);document.querySelector(".to-do-tab-section").removeChild(t),t=null},H=()=>{const e=document.querySelector("#current-tab");null!==e&&e.removeAttribute("id")},V=e=>{let t=n.ensureCorrectTaskElement(e);document.querySelector(".to-do-content").removeChild(t),t=null},U=e=>{const t=n.ensureCorrectSubcontainer(e);let s=t.firstElementChild;t.removeChild(s),s=null},W=e=>{const t=n.ensureCorrectSubcontainer(e);let s=t.querySelector("input");t.removeChild(s),s=null},z=e=>{const t=n.ensureCorrectButtonElement(e).previousElementSibling;let s=t.querySelector("label");t.removeChild(s),s=null},G=e=>{const t=n.ensureCorrectChecklistTaskElement(e).querySelector(".checklist-complete-section");let s=t.querySelector(".checklist-input");t.removeChild(s),s=null},J=e=>{let t=n.ensureCorrectChecklistTaskElement(e);n.ensureCorrectChecklistElement(e).removeChild(t),t=null},K=()=>{document.querySelector(".to-do-content").replaceChildren()},Q=(()=>{const e=e=>{S(e),v(e),I(e),O(e),j(e)},t=e=>{A(e),q(e),x(e)};return{addTab:()=>{const e=o(),t=w.addNewTabToDOM(e);if(h(t),E(t),f(t),n.checkIfOnlyOneTab()){const e=i();w.setFirstTabToCurrentTab(e)}},insertTabInputElement:e=>{if(!n.checkForTabInputElement(e)){const t=w.insertTabInputElement(e);$(e),w.setTabInputElementValue(e,t),C(t)}},updateTab:e=>{if("Enter"===e.code){r(e);const t=w.insertTabNameElement(e);R(e),f(t)}},removeTab:e=>{if(P(e),F(e),n.checkIfWasCurrentTab(e)){const e=i();w.setFirstTabToCurrentTab(e)}},switchTab:e=>{n.checkIfWasCurrentTab(e)||(l(e),H(),w.setCurrentTabDOM(e),K(),w.loadTasksFromNewCurrentTab())},newTask:()=>{const t=d(),s=w.addNewTaskToDOM(t);e(s)},removeTask:e=>{B(e),V(e)},insertTaskInputElement:e=>{if(!n.checkForTaskSubcontainerInputElement(e)){U(e);const t=w.insertTaskInputElement(e);w.setTaskInputElementValue(e,t),L(t)}},updateTask:e=>{"Enter"===e.code&&(u(e),w.insertTaskSubcontentElement(e),W(e))},toggleTaskComplete:e=>{k(e),w.toggleTaskDOMComplete(e)},addNewChecklistTask:e=>{const s=T(e),n=w.addNewChecklistTaskToDOM(e,s);t(n)},insertChecklistTaskInputElement:e=>{if(!n.checkForChecklistTaskInputElement(e)){z(e);const t=w.insertChecklistTaskInputElement(e);w.setChecklistTaskInputElementValue(e,t),D(t)}},updateChecklistTask:e=>{"Enter"===e.code&&(m(e),w.insertChecklistTaskDescriptionElement(e),G(e))},toggleChecklistTaskComplete:e=>{b(e),w.toggleChecklistTaskDOMComplete(e)},removeChecklistTask:e=>{M(e),J(e)},toggleTaskPin:e=>{p(e),w.changePinButtonImage(e),w.shiftTaskElementPosition(e)},addTaskListeners:e,addChecklistTaskListeners:t,toggleDisplayTaskDetails:e=>{w.toggleDisplayTaskDetails(e),w.rotateChevronButton(e)}}})();g(),h(),E(),w.setDefaultCurrentTabDOM(0),f(),y(),S(),v(),I(),O(),A(),q(),x(),j(),N()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQ3pCLE1BQU04RSxFQUF3QjlCLEVBQXdEaEQsR0FDaEZxSSxFQUF1Qm5CLEVBQXFCOEQseUJBQXlCaEwsRUFBTzhFLEdBQ2xGeUQsRUFBMEJGLEVBQXFCLEVBa0RtRDdCLGdDQWhEN0R4RyxJQUNyQyxJQUFLRixFQUFnQm9DLGtDQUFrQ2xDLEdBQVEsQ0FDM0R3TSxFQUFzRHhNLEdBQ3RELE1BQU13RixFQUFlMEIsRUFBcUJWLGdDQUFnQ3hHLEdBQzFFa0gsRUFBcUJpRSxrQ0FBa0NuTCxFQUFPd0YsR0FDOURSLEVBQTRDUSxFQUNoRCxDQUFDLEVBMENrSWlCLG9CQXhDMUd6RyxJQUNOLFVBQWZBLEVBQU04TSxPQUNOOUosRUFBMkRoRCxHQUMzRGtILEVBQXFCa0Usc0NBQXNDcEwsR0FDM0R3TSxFQUFvRHhNLEdBQ3ZELEVBbUN1SjJHLDRCQWpDdkgzRyxJQUNqQ2dELEVBQTBEaEQsR0FDMURrSCxFQUFxQm9FLCtCQUErQnRMLEVBQU0sRUErQjJINkcsb0JBN0I1SjdHLElBQ3pCdU0sRUFBOER2TSxHQUM5RHdNLEVBQWtEeE0sRUFBTSxFQTJCa0orRyxjQXpCdkwvRyxJQUNuQmdELEVBQTRDaEQsR0FDNUNrSCxFQUFxQnNFLHFCQUFxQnhMLEdBQzFDa0gsRUFBcUJ1RSx5QkFBeUJ6TCxFQUFNLEVBc0JxS2dNLG1CQUFrQnpELDRCQUEyQnRCLHlCQUx4T2pILElBQzlCa0gsRUFBcUJELHlCQUF5QmpILEdBQzlDa0gsRUFBcUJpRixvQkFBb0JuTSxFQUFNLEVBSXRELEVBL0hvQixHQzJJckJnRixJQUVBQSxJQUNBQSxJQVdBa0MsRUFBcUI4Qyx3QkFBd0IsR0FFN0NoRixJQUVBQSxJQUVBQSxJQUVBQSxJQVNBQSxJQUNBQSxJQUNBQSxJQUtBQSxJQUNBQSxJQUVBQSxJQUNBQSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvaGVscGVyX2Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy9vYmplY3RfY29udHJvbGxlcl9hZGRfZWRpdF9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3RhYl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3Rhc2tfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2NoZWNrbGlzdF90YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2Fzc2lnbmVyX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvb2JqZWN0X2NvbnRyb2xsZXJfcmVtb3ZlX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX3JlbW92ZS5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCkgPT4ge1xuICAgIGxldCBjaGVja2xpc3QgPSBbXTtcbiAgICBjb25zdCBnZXRUYXNrSW5kZXggPSAoKSA9PiB7XG4gICAgICAgIHJldHVybiBjaGVja2xpc3QubGVuZ3RoIC0gMTtcbiAgICB9O1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBhZGRUYXNrKHRhc2spIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdC5wdXNoKHRhc2spO1xuICAgICAgICAgICAgLy8gcmV0dXJuIGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgcmV0dXJuIGdldFRhc2tJbmRleCgpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVUYXNrKGluZGV4KSB7XG4gICAgICAgICAgICBjaGVja2xpc3RbaW5kZXhdID0gdW5kZWZpbmVkO1xuICAgICAgICB9LFxuICAgICAgICBnZXRDaGVja2xpc3RUYXNrcygpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGVja2xpc3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFtpbmRleF07XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH07IiwiLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9MaXN0ID0gKCgpID0+IHtcbiAgICBsZXQgY3VycmVudFRhYiA9IDA7XG4gICAgY29uc3QgZ2V0Q3VycmVudFRhYkluZGV4ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYjtcbiAgICB9O1xuICAgIGNvbnN0IHNldEN1cnJlbnRUYWJJbmRleCA9IChuZXdDdXJyZW50VGFiKSA9PiB7XG4gICAgICAgIGN1cnJlbnRUYWIgPSBuZXdDdXJyZW50VGFiO1xuICAgIH07XG4gICAgY29uc3QgZ2V0Q3VycmVudFRhYk9iamVjdCA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRUYWJPYmplY3Q7XG4gICAgfVxuICAgIGxldCBvYmplY3QgPSB7XG4gICAgICAgIGdldEN1cnJlbnRUYWJJbmRleCxcbiAgICAgICAgc2V0Q3VycmVudFRhYkluZGV4LFxuICAgICAgICBnZXRDdXJyZW50VGFiT2JqZWN0XG4gICAgfTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59KSgpO1xuXG5leHBvcnQgeyB0b0RvTGlzdCB9OyIsImNvbnN0IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsVGl0bGUpID0+IHtcbiAgICBsZXQgdGl0bGUgPSBpbml0aWFsVGl0bGU7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGdldFRhc2tUaXRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza1RpdGxlKG5ld1RpdGxlKSB7XG4gICAgICAgICAgICB0aXRsZSA9IG5ld1RpdGxlO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0iLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcblxuY29uc3QgaGVscGVyRnVuY3Rpb25zID0gKCgpID0+IHtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFiRWxlbWVudCA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB3aGlsZSAodGFiRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSAhPT0gXCJ0YWItdGl0bGVcIikge1xuICAgICAgICAgICAgdGFiRWxlbWVudCA9IHRhYkVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0ZvclRhYklucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBpZiAodGFiRWxlbWVudC5maXJzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSBcIklOUFVUXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tJZldhc0N1cnJlbnRUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHRhYkVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IFwiY3VycmVudC10YWJcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0lmT25seU9uZVRhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFicyA9IEFycmF5LmZyb20odG9Eb1RhYlNlY3Rpb24ucXVlcnlTZWxlY3RvckFsbChcIi50YWItdGl0bGVcIikpO1xuICAgICAgICBpZiAodG9Eb1RhYnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza0VsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJ0by1kby10YXNrXCIpKSB7XG4gICAgICAgICAgICB0YXNrRWxlbWVudCA9IHRhc2tFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YXNrRWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lciA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRhaW5lciA9IGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICBsZXQgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrU3ViY29udGFpbmVyLmNsYXNzTGlzdClcbiAgICAgICAgd2hpbGUgKCFjbGFzc0xpc3QuaW5jbHVkZXMoXCJ0by1kby10YXNrLXN1YmNvbnRhaW5lclwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRhaW5lciA9IHRhc2tTdWJjb250YWluZXIucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lci5jbGFzc0xpc3QpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhc2tTdWJjb250YWluZXI7XG4gICAgfTtcbiAgICBjb25zdCBjaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBpZiAodGFza1N1YmNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSBcIklOUFVUXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFyZ2V0VGFza09iamVjdCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJJbmRleCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJJbmRleCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGN1cnJlbnRUYWJJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCk7XG4gICAgICAgIHJldHVybiB0YXNrT2JqZWN0O1xuICAgIH07XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IGJ1dHRvbkVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHdoaWxlIChidXR0b25FbGVtZW50LnRhZ05hbWUgIT09IFwiQlVUVE9OXCIpIHtcbiAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQgPSBidXR0b25FbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgZ2V0QnV0dG9uVHlwZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBidXR0b25DbGFzc2VzID0gQXJyYXkuZnJvbShidXR0b25FbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIHJldHVybiBidXR0b25DbGFzc2VzO1xuICAgIH07XG4gICAgY29uc3QgZ2V0U3ViY29udGFpbmVyVHlwZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGNvbnN0IHN1YmNvbnRhaW5lckNsYXNzZXMgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXIuY2xhc3NMaXN0KTtcbiAgICAgICAgcmV0dXJuIHN1YmNvbnRhaW5lckNsYXNzZXM7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgY2hlY2tsaXN0RWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgbGV0IGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0RWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcImNoZWNrbGlzdFwiKSkge1xuICAgICAgICAgICAgY2hlY2tsaXN0RWxlbWVudCA9IGNoZWNrbGlzdEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0RWxlbWVudC5jbGFzc0xpc3QpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0RWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKGNoZWNrbGlzdFRhc2tFbGVtZW50LmNsYXNzTGlzdCk7XG4gICAgICAgIHdoaWxlICghY2xhc3NMaXN0LmluY2x1ZGVzKFwiY2hlY2tsaXN0LXRhc2tcIikpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgIGNsYXNzTGlzdCA9IEFycmF5LmZyb20oY2hlY2tsaXN0VGFza0VsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdFRhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBjaGVja0ZvckNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdENoZWNrbGlzdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0luZGV4ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSB0YXNrT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjaGVja2xpc3RUYXNrSW5kZXgpO1xuICAgICAgICByZXR1cm4gY2hlY2tsaXN0VGFza09iamVjdDtcbiAgICB9O1xuICAgIHJldHVybiB7IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50LCBjaGVja0ZvclRhYklucHV0RWxlbWVudCwgY2hlY2tJZldhc0N1cnJlbnRUYWIsXG4gICAgICAgIGNoZWNrSWZPbmx5T25lVGFiLCBlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQsIGVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIsXG4gICAgICAgIGNoZWNrRm9yVGFza1N1YmNvbnRhaW5lcklucHV0RWxlbWVudCwgZ2V0VGFyZ2V0VGFza09iamVjdCwgZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQsXG4gICAgICAgIGdldEJ1dHRvblR5cGUsIGdldFN1YmNvbnRhaW5lclR5cGUsIGVuc3VyZUNvcnJlY3RDaGVja2xpc3RFbGVtZW50LCBlbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQsIGNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCwgZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdCwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9OyIsImNvbnN0IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsRGVzY3JpcHRpb24pID0+IHtcbiAgICBsZXQgZGVzY3JpcHRpb24gPSBpbml0aWFsRGVzY3JpcHRpb247XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGdldFRhc2tEZXNjcmlwdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0Rlc2NyaXB0aW9uKG5ld0Rlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IG5ld0Rlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0iLCIvLyBvcmlnaW5hbCB3aGVyZSBhbGwgcHJvcGVydGllcyBhbmQgbWV0aG9kcyBnZXQgcmV0dXJuZWQsIHNvIG5vIHByaXZhdGUgZmllbGRzIChjb21wbGV0ZWQgc2hvdWxkIGJlIHByaXZhdGUpXG4vLyBrZWVwaW5nIGZvciBwb3N0ZXJpdHksIHByb2JhYmx5IHdpbGwgZGVsZXRlZCBhdCB0aGUgZW5kXG4vLyBjb25zdCBjYW5Db21wbGV0ZSA9IChvYmplY3QpID0+ICh7XG4vLyAgICAgY29tcGxldGVkOiBmYWxzZSxcbi8vICAgICB0b2dnbGU6ICgpID0+IHtcbi8vICAgICAgICAgaWYgKG9iamVjdC5jb21wbGV0ZWQpIHtcbi8vICAgICAgICAgICAgIG9iamVjdC5jb21wbGV0ZWQgPSBmYWxzZTtcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgICAgIG9iamVjdC5jb21wbGV0ZWQgPSB0cnVlO1xuLy8gICAgICAgICB9O1xuLy8gICAgIH0sXG4vLyAgICAgZ2V0Q29tcGxldGVkU3RhdGU6ICgpID0+IHtcbi8vICAgICAgICAgcmV0dXJuIG9iamVjdC5jb21wbGV0ZWRcbi8vICAgICB9XG4vLyB9KTtcblxuY29uc3QgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0KSA9PiB7XG4gICAgbGV0IGNvbXBsZXRlZCA9IGZhbHNlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICB0b2dnbGVDb21wbGV0ZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldENvbXBsZXRlZFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlZDtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyB0b0RvVGFzayB9IGZyb20gXCIuL3RvZG9fdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGNoZWNrbGlzdFRhc2tPYmplY3QgfSBmcm9tIFwiLi9jaGVja2xpc3RfdGFza19vYmplY3RcIjtcblxuY29uc3Qgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYlRvVG9kb0FycmF5ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYWIgPSB0b0RvVGFiKFwiTmV3IFRhYlwiKTtcbiAgICAgICAgcmV0dXJuIHRvRG9MaXN0LmFkZFRhc2sobmV3VGFiKTtcbiAgICB9XG4gICAgY29uc3QgZWRpdFRhYk5hbWUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICBjb25zdCB0YXJnZXRUYWIgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICB0YXJnZXRUYWIuc2V0VGFza1RpdGxlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q3VycmVudFRhYiA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbmV3Q3VycmVudFRhYi5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgoaW5kZXgpXG4gICAgfVxuICAgIGNvbnN0IHNldEZpcnN0VGFiVG9DdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJBcnJheSA9IHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCk7XG4gICAgICAgIGxldCBmaXJzdFRhYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCB0YWIgaW4gdGFiQXJyYXkpIHtcbiAgICAgICAgICAgIGlmICh0YWJBcnJheVt0YWJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgodGFiKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRhYiA9IHRhYjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3RUYWI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld1Rhc2tUb1RhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgbmV3VGFzayA9IHRvRG9UYXNrKFwiTmV3IFRhc2tcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IGN1cnJlbnRUYWIuYWRkVGFzayhuZXdUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGVkaXRUYXNrT2JqZWN0SW5mbyA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdUYXNrVGl0bGVWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0U3ViY29udGFpbmVyVHlwZShldmVudCk7XG4gICAgICAgIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLXRpdGxlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrT2JqZWN0LnNldFRhc2tUaXRsZShuZXdUYXNrVGl0bGVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iamVjdC5zZXRUYXNrRHVlRGF0ZShuZXdUYXNrVGl0bGVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iamVjdC5zZXRUYXNrRGVzY3JpcHRpb24obmV3VGFza1RpdGxlVmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tbm90ZXMtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tPYmplY3Quc2V0VGFza05vdGVzKG5ld1Rhc2tUaXRsZVZhbHVlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICB0YXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2sgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tJbmRleCA9IHRhc2tPYmplY3QuYWRkVGFzayhuZXdDaGVja2xpc3RUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tJbmRleFxuICAgIH07XG4gICAgY29uc3QgZWRpdENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldENoZWNrbGlzdFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24gPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tPYmplY3Quc2V0VGFza0Rlc2NyaXB0aW9uKG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbik7XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRDaGVja2xpc3RUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY2hlY2tsaXN0VGFza09iamVjdC50b2dnbGVDb21wbGV0ZWRTdGF0ZSgpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza1BpbiA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICB0YXNrT2JqZWN0LnRvZ2dsZVBpbm5lZFN0YXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4geyBhZGROZXdUYWJUb1RvZG9BcnJheSwgZWRpdFRhYk5hbWUsIHVwZGF0ZUN1cnJlbnRUYWIsIHNldEZpcnN0VGFiVG9DdXJyZW50VGFiLFxuICAgICAgICBhZGROZXdUYXNrVG9UYWIsIGVkaXRUYXNrT2JqZWN0SW5mbywgdG9nZ2xlVGFza0NvbXBsZXRlLCBhZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrLFxuICAgICAgICBlZGl0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uLCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUsIHRvZ2dsZVRhc2tQaW4sIH07XG59KSgpO1xuXG5leHBvcnQgeyBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCB9OyIsImltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG5jb25zdCB0b0RvVGFiID0gKHRpdGxlKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICB0aXRsZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgdGl0bGUpLFxuICAgICAgICBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudChvYmplY3QpXG4gICAgKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufTtcblxuZXhwb3J0IHsgdG9Eb1RhYiB9OyIsImltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2R1ZV9kYXRlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL25vdGVzX2NvbXBvbmVudFwiO1xuLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG5jb25zdCB0b0RvVGFzayA9ICh0aXRsZSwgZHVlRGF0ZSwgZGVzY3JpcHRpb24sIG5vdGVzKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICB0aXRsZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgdGl0bGUpLCBcbiAgICAgICAgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGRlc2NyaXB0aW9uKSxcbiAgICAgICAgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZHVlRGF0ZSksXG4gICAgICAgIG5vdGVzQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBub3RlcyksXG4gICAgICAgIC8vIGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICAgICAgcGlubmVkQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICAgICAgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KSxcbiAgICAgICAgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn07XG5cbmV4cG9ydCB7IHRvRG9UYXNrIH07IiwiY29uc3QgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbER1ZURhdGUpID0+IHtcbiAgICBsZXQgZHVlRGF0ZSA9IGluaXRpYWxEdWVEYXRlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRHVlRGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBkdWVEYXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrRHVlRGF0ZShuZXdEdWVEYXRlKSB7XG4gICAgICAgICAgICBkdWVEYXRlID0gbmV3RHVlRGF0ZTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IH0iLCJjb25zdCBub3Rlc0JlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbE5vdGVzKSA9PiB7XG4gICAgbGV0IG5vdGVzID0gaW5pdGlhbE5vdGVzO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrTm90ZXMoKSB7XG4gICAgICAgICAgICByZXR1cm4gbm90ZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tOb3RlcyhuZXdOb3Rlcykge1xuICAgICAgICAgICAgbm90ZXMgPSBuZXdOb3RlcztcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3QgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0KSA9PiB7XG4gICAgbGV0IHBpbm5lZCA9IGZhbHNlO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICB0b2dnbGVQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChwaW5uZWQpIHtcbiAgICAgICAgICAgICAgICBwaW5uZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBpbm5lZFN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBpbm5lZDtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgcGlubmVkQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcblxuLy8gb3JpZ2luYWwgd2hlcmUgb2JqZWN0IHdvdWxkIG5lZWQgdG8gaGF2ZSBPYmplY3QuYXNzaWduKCkgZm9yIGV2ZXJ5IGluc3RhbmNlXG4vLyBrZWVwaW5nIGZvciBwb3N0ZXJpdHksIHByb2JhYmx5IHdpbGwgZGVsZXRlZCBhdCB0aGUgZW5kXG4vLyBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gKGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gY29uc3QgZ2V0VGFza0Rlc2NyaXB0aW9uID0gKCkgPT4ge1xuICAgIC8vICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgLy8gfTtcbiAgICAvLyBjb25zdCBzZXRUYXNrRGVzY3JpcHRpb24gPSAobmV3RGVzY3JpcHRpb24pID0+IHtcbiAgICAvLyAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAvLyB9O1xuLy8gICAgIHJldHVybiB7IGdldFRhc2tEZXNjcmlwdGlvbiwgc2V0VGFza0Rlc2NyaXB0aW9uIH07XG4vLyB9O1xuXG5jb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gKGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgZGVzY3JpcHRpb24pLFxuICAgICAgICBjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudChvYmplY3QpXG4gICAgKTtcbiAgICByZXR1cm4gb2JqZWN0O1xufVxuXG5leHBvcnQgeyBjaGVja2xpc3RUYXNrT2JqZWN0IH07IiwiaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgRE9NVXBkYXRlQ29udHJvbGxlciB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9ldmVudF9idW5kbGVyX29iamVjdFwiO1xuXG5jb25zdCBldmVudEFzc2lnbmVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBhZGRUYWJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGRUYWIpO1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVkaXRCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtdGFiXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFiRWRpdEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmluc2VydFRhYklucHV0RWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWRkVGFiSW5wdXRMaXN0ZW5lciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGV2ZW50QnVuZGxlci51cGRhdGVUYWIpXG4gICAgfVxuICAgIGNvbnN0IGFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYlJlbW92ZUJ1dHRvbnMgPSBBcnJheS5mcm9tKHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVtb3ZlLXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYlJlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZVRhYik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRTd2l0Y2hUYWJMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJTd2l0Y2hCdXR0b25zID0gQXJyYXkuZnJvbShzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnN3aXRjaC10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJTd2l0Y2hCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5zd2l0Y2hUYWIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCBhZGROZXdUYXNrTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ldy10by1kby10YXNrXCIpO1xuICAgICAgICBuZXdUYXNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIubmV3VGFzayk7XG4gICAgfVxuICAgIGNvbnN0IGFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrUmVtb3ZlQnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1yZW1vdmUtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVUYXNrKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEVkaXRUYXNrTGlzdGVuZXJzID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFZGl0QnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LXRhc2tcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YXNrRWRpdEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmluc2VydFRhc2tJbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkVGFza0lucHV0TGlzdGVuZXIgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudEJ1bmRsZXIudXBkYXRlVGFzayk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVDaGVja2JveGVzID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVja2JveCBvZiB0YXNrQ29tcGxldGVDaGVja2JveGVzKSB7XG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZVRhc2tDb21wbGV0ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXIgPSAoc2NvcGU9ZG9jdW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmFkZC1jaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgbmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmFkZE5ld0NoZWNrbGlzdFRhc2spXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RFZGl0QnV0dG9ucyA9IEFycmF5LmZyb20oc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LWNoZWNrbGlzdC10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgY2hlY2tsaXN0RWRpdEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkQ2hlY2tsaXN0VGFza0lucHV0TGlzdGVuZXIgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudEJ1bmRsZXIudXBkYXRlQ2hlY2tsaXN0VGFzayk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ZXMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVja2JveCBvZiBjaGVja2xpc3RDb21wbGV0ZUNoZWNrYm94ZXMpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFJlbW92ZUNoZWNrbGlzdFRhc2tMaXN0ZW5lciA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrUmVtb3ZlQnV0dG9ucyA9IHNjb3BlLnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVtb3ZlLWNoZWNrbGlzdC10YXNrXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiBjaGVja2xpc3RUYXNrUmVtb3ZlQnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIucmVtb3ZlQ2hlY2tsaXN0VGFzayk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzID0gKHNjb3BlPWRvY3VtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tQaW5CdXR0b25zID0gc2NvcGUucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1waW5cIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tQaW5CdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVUYXNrUGluKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVycyA9IChzY29wZT1kb2N1bWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrVG9nZ2xlRGlzcGxheUJ1dHRvbnMgPSBzY29wZS5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLXRhc2stY2hhbmdlLWRpc3BsYXlcIik7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tUb2dnbGVEaXNwbGF5QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIudG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiTGlzdGVuZXIsIGFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lciwgYWRkVGFiSW5wdXRMaXN0ZW5lciwgYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXIsXG4gICAgICAgIGFkZFN3aXRjaFRhYkxpc3RlbmVyLCBhZGROZXdUYXNrTGlzdGVuZXIsIGFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lcixcbiAgICAgICAgYWRkRWRpdFRhc2tMaXN0ZW5lcnMsIGFkZFRhc2tJbnB1dExpc3RlbmVyLCBhZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lcixcbiAgICAgICAgYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyLCBhZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycywgYWRkQ2hlY2tsaXN0VGFza0lucHV0TGlzdGVuZXIsXG4gICAgICAgIGFkZFRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZUxpc3RlbmVyLCBhZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIsIGFkZFRvZ2dsZVRhc2tQaW5MaXN0ZW5lcnMsIGFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVycywgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IGV2ZW50QXNzaWduZXIgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IGhlbHBlckZ1bmN0aW9ucyB9IGZyb20gXCIuL2hlbHBlcl9mdW5jdGlvbnNcIjtcbmltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5cbmNvbnN0IERPTUNvbnRyb2xsZXJBZGRFZGl0ID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJUb0RPTSA9IChpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBhZGRUYWJCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YWJcIik7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgbmV3VGFiTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGNvbnN0IG5ld1RhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld1RhYk9iamVjdFRpdGxlID0gbmV3VGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBuZXdUYWJOb2RlLmNsYXNzTGlzdC5hZGQoXCJ0YWItdGl0bGVcIik7XG4gICAgICAgIG5ld1RhYk5vZGUuZGF0YXNldC50YWJJbmRleCA9IGluZGV4O1xuICAgICAgICBuZXdUYWJOb2RlLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzd2l0Y2gtdGFiXCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwidGFiLW5hbWVcIj5UQUIgTkFNRSBQTEFDRUhPTERFUjwvaDI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhYlwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhYiBuYW1lIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLXRhYlwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIlJlbW92ZSB0YWIgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgdGFiTmFtZURPTSA9IG5ld1RhYk5vZGUucXVlcnlTZWxlY3RvcihcIi50YWItbmFtZVwiKTtcbiAgICAgICAgdGFiTmFtZURPTS50ZXh0Q29udGVudCA9IG5ld1RhYk9iamVjdFRpdGxlO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFiTm9kZSwgYWRkVGFiQnV0dG9uKTtcbiAgICAgICAgcmV0dXJuIG5ld1RhYk5vZGU7XG4gICAgfVxuICAgIGNvbnN0IHNldFRhYklucHV0RWxlbWVudFZhbHVlID0gKGV2ZW50LCBpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSB0YWJOYW1lO1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YWItbmFtZS1pbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuICAgICAgICB0YWJFbGVtZW50Lmluc2VydEJlZm9yZShpbnB1dEVsZW1lbnQsIHRhYkVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgIGlucHV0RWxlbWVudC5mb2N1cygpO1xuICAgICAgICByZXR1cm4gaW5wdXRFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYWJOYW1lRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0YWJFbGVtZW50LmRhdGFzZXQudGFiSW5kZXg7XG4gICAgICAgIGNvbnN0IHRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhpbmRleCk7XG4gICAgICAgIGNvbnN0IHRhYk5hbWUgPSB0YWJPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIHRhYkJ1dHRvbi5jbGFzc0xpc3QuYWRkKFwic3dpdGNoLXRhYlwiKTtcbiAgICAgICAgY29uc3QgdGFiQnV0dG9uTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcbiAgICAgICAgdGFiQnV0dG9uTmFtZS5jbGFzc0xpc3QuYWRkKFwidGFiLW5hbWVcIik7XG4gICAgICAgIHRhYkJ1dHRvbk5hbWUudGV4dENvbnRlbnQgPSB0YWJOYW1lO1xuICAgICAgICB0YWJCdXR0b24uYXBwZW5kQ2hpbGQodGFiQnV0dG9uTmFtZSk7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRhYkJ1dHRvbiwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgcmV0dXJuIHRhYkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXREZWZhdWx0Q3VycmVudFRhYkRPTSA9IChpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0b0RvVGFiU2VjdGlvbi5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWItaW5kZXg9JyR7aW5kZXh9J11gKTtcbiAgICAgICAgaWYgKGN1cnJlbnRUYWIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgY3VycmVudFRhYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH07XG4gICAgY29uc3Qgc2V0Q3VycmVudFRhYkRPTSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDdXJyZW50VGFiID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgbmV3Q3VycmVudFRhYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYiA9IChmaXJzdFRhYkluZGV4KSA9PiB7XG4gICAgICAgIGlmIChmaXJzdFRhYkluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGZpcnN0VGFiID0gdG9Eb1RhYlNlY3Rpb24ucXVlcnlTZWxlY3RvcihgW2RhdGEtdGFiLWluZGV4PScke2ZpcnN0VGFiSW5kZXh9J11gKVxuICAgICAgICBmaXJzdFRhYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBcImN1cnJlbnQtdGFiXCIpO1xuICAgIH1cbiAgICBjb25zdCBhZGROZXdUYXNrVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgdG9Eb0NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3VGFza05vZGUuY2xhc3NMaXN0LmFkZChcInRvLWRvLXRhc2tcIik7XG4gICAgICAgIG5ld1Rhc2tOb2RlLmRhdGFzZXQudGFza0luZGV4ID0gaW5kZXg7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tUaXRsZSA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEZXNjcmlwdGlvbiA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tEdWVEYXRlID0gbmV3VGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrTm90ZXMgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICBuZXdUYXNrTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tdGFzay1vdmVydmlld1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby10aXRsZS1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cInRvLWRvLXRpdGxlXCI+VElUTEUgUExBQ0VIT0xERVI8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tcGluXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIi4vYXNzZXRzL3Bpbi11bnBpbm5lZC5wbmdcIiBhbHQ9XCJQaW4gdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stdGl0bGUgZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIHRpdGxlIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvLWRvLXJlbW92ZS10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwidG8tZG8tY29tcGxldGUtY2hlY2tib3hcIiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLWxhYmVsXCI+Q29tcGxldGVkOjwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmFtZT1cIlwiIGNsYXNzPVwidG8tZG8tY29tcGxldGUtY2hlY2tib3hcIiBpZD1cInRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidG8tZG8tdGFzay1jaGFuZ2UtZGlzcGxheVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2hldnJvbi1kb3duLnBuZ1wiIGFsdD1cIkNoYW5nZSB0YXNrIGRpc3BsYXkgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uIHRvLWRvLXRhc2stc3ViY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tZHVlLWRhdGVcIj5EVUUgREFURSBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1kdWUtZGF0ZSBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IHRhc2sgZHVlIGRhdGUgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tZGVzY3JpcHRpb25cIj5ERVNDUklQVElPTiBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLWRlc2NyaXB0aW9uIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIGRlc2NyaXB0aW9uIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tbm90ZXMtc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidG8tZG8tbm90ZXNcIj5OT1RFUyBQTEFDRUhPTERFUjwvcD5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLW5vdGVzIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIG5vdGVzIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGFjdGlvbj1cIlwiIGNsYXNzPVwiY2hlY2tsaXN0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrbGlzdC1oZWFkZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGxlZ2VuZCBjbGFzcz1cImNoZWNrbGlzdC1sYWJlbFwiPkNoZWNrbGlzdDwvbGVnZW5kPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYWRkLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGx1cy5wbmdcIiBhbHQ9XCJBZGQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IHRpdGxlRE9NID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby10aXRsZVwiKTtcbiAgICAgICAgdGl0bGVET00udGV4dENvbnRlbnQgPSBuZXdUYXNrVGl0bGU7XG4gICAgICAgIGNvbnN0IGR1ZURhdGVET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWR1ZS1kYXRlXCIpO1xuICAgICAgICBkdWVEYXRlRE9NLnRleHRDb250ZW50ID0gbmV3VGFza0R1ZURhdGU7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uRE9NID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgZGVzY3JpcHRpb25ET00udGV4dENvbnRlbnQgPSBuZXdUYXNrRGVzY3JpcHRpb247XG4gICAgICAgIGNvbnN0IG5vdGVzRE9NID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby1ub3Rlc1wiKTtcbiAgICAgICAgbm90ZXNET00udGV4dENvbnRlbnQgPSBuZXdUYXNrTm90ZXM7XG4gICAgICAgIHRvRG9Db250ZW50LmFwcGVuZENoaWxkKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tOb2RlO1xuICAgIH1cbiAgICBjb25zdCBpbnNlcnRUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIHRhc2tTdWJjb250YWluZXIuaW5zZXJ0QmVmb3JlKGlucHV0RWxlbWVudCwgdGFza1N1YmNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBpbnB1dEVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBzZXRUYXNrSW5wdXRFbGVtZW50VmFsdWUgPSAoZXZlbnQsIGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBidXR0b25UeXBlID0gaGVscGVyRnVuY3Rpb25zLmdldEJ1dHRvblR5cGUoZXZlbnQpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChidXR0b25UeXBlLmluY2x1ZGVzKFwiZWRpdC10YXNrLXRpdGxlXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudCA9IHRhc2tPYmplY3QuZ2V0VGFza1RpdGxlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZS5pbmNsdWRlcyhcImVkaXQtdGFzay1kdWUtZGF0ZVwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnQgPSB0YXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZS5pbmNsdWRlcyhcImVkaXQtdGFzay1kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnQgPSB0YXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKGJ1dHRvblR5cGUuaW5jbHVkZXMoXCJlZGl0LXRhc2stbm90ZXNcIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50ID0gdGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gdGFza1N1YmNvbnRlbnQ7XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFRhc2tTdWJjb250ZW50RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyVHlwZSA9IGhlbHBlckZ1bmN0aW9ucy5nZXRTdWJjb250YWluZXJUeXBlKGV2ZW50KTtcbiAgICAgICAgbGV0IHRhc2tTdWJjb250ZW50RWxlbWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tdGl0bGUtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza1RpdGxlID0gdGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tdGl0bGVcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSB0YXNrVGl0bGU7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRHVlRGF0ZSA9IHRhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1kdWUtZGF0ZVwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IHRhc2tEdWVEYXRlO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tZGVzY3JpcHRpb24tc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IHRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLW5vdGVzLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tOb3RlcyA9IHRhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidG8tZG8tbm90ZXNcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQudGV4dENvbnRlbnQgPSB0YXNrTm90ZXM7XG4gICAgICAgIH07XG4gICAgICAgIHRhc2tTdWJjb250YWluZXIuaW5zZXJ0QmVmb3JlKHRhc2tTdWJjb250ZW50RWxlbWVudCwgdGFza1N1YmNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgY29uc3QgdG9nZ2xlVGFza0RPTUNvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRlQ2hlY2tib3ggPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIpO1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVkU3RhdGVkID0gdGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICBpZiAodGFza0NvbXBsZXRlZFN0YXRlZCkge1xuICAgICAgICAgICAgY29tcGxldGVDaGVja2JveC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0YXNrLWNvbXBsZXRlZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbXBsZXRlQ2hlY2tib3guY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NID0gKGV2ZW50LCBuZXdDaGVja2xpc3RUYXNrSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0RWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tJbmRleCA9IHRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2sobmV3Q2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gbmV3Q2hlY2tsaXN0VGFzay5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0NvbXBsZXRlZCA9IG5ld0NoZWNrbGlzdFRhc2suZ2V0Q29tcGxldGVkU3RhdGUoKTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIG5ld0NoZWNrbGlzdFRhc2tOb2RlLmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4ID0gbmV3Q2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7bmV3Q2hlY2tsaXN0VGFza0luZGV4fVwiIGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBERVNDUklQVElPTiBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgYFxuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gbmV3Q2hlY2tsaXN0VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0NvbXBsZXRlZEVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKGAjY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke25ld0NoZWNrbGlzdFRhc2tJbmRleH1gKTtcbiAgICAgICAgaWYgKG5ld0NoZWNrbGlzdFRhc2tDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tDb21wbGV0ZWRFbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tsaXN0VGFza0NvbXBsZXRlZEVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICBjaGVja2xpc3RFbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoZWNrbGlzdFRhc2tOb2RlKTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tOb2RlO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24gPSBjaGVja2xpc3RUYXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC1jb21wbGV0ZS1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LWlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcInRleHRcIik7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5hcHBlbmRDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSA9IChldmVudCwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tJbmRleCA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LmRhdGFzZXQuY2hlY2tsaXN0VGFza0luZGV4O1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrT2JqZWN0ID0gdGFza09iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY2hlY2tsaXN0VGFza0luZGV4KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0Q2hlY2tsaXN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrSW5kZXggPSBjaGVja2xpc3RUYXNrRWxlbWVudC5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gY2hlY2tsaXN0VGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0luZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZm9yXCIsIGBjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7Y2hlY2tsaXN0VGFza0luZGV4fWApO1xuICAgICAgICBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLmFwcGVuZENoaWxkKGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3ggPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0Q2hlY2tsaXN0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlQ2hlY2tib3guY2hlY2tlZCA9IGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKTtcbiAgICAgICAgaWYgKGNoZWNrbGlzdFRhc2tPYmplY3QuZ2V0Q29tcGxldGVkU3RhdGUoKSkge1xuICAgICAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveC5jbGFzc0xpc3QucmVtb3ZlKFwiY2hlY2tsaXN0LXRhc2stY29tcGxldGVkXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hhbmdlUGluQnV0dG9uSW1hZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgcGluQnV0dG9uID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RCdXR0b25FbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgcGluQnV0dG9uSW1hZ2UgPSBwaW5CdXR0b24ucXVlcnlTZWxlY3RvcihcImltZ1wiKTtcbiAgICAgICAgaWYgKHRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgcGluQnV0dG9uSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9hc3NldHMvcGluLXBpbm5lZC5wbmdcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tdW5waW5uZWQucG5nXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3Qgc2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50SW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgdGFza0NvbnRlbnRTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb250ZW50XCIpO1xuICAgICAgICBpZiAodGFza09iamVjdC5nZXRQaW5uZWRTdGF0ZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucGlubmVkLXRhc2tcIikpO1xuICAgICAgICAgICAgaWYgKGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uaW5zZXJ0QmVmb3JlKHRhc2tFbGVtZW50LCB0YXNrQ29udGVudFNlY3Rpb24uZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnJheUVuZEluZGV4ID0gbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdFBpbm5lZFRhc2tFbGVtZW50ID0gbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzW2FycmF5RW5kSW5kZXhdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGlubmVkVGFza0VsZW1lbnQgb2YgbGlzdE9mUGlubmVkVGFza0VsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBpbm5lZFRhc2tFbGVtZW50SW5kZXggPSBwaW5uZWRUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhc2tFbGVtZW50SW5kZXggPCBwaW5uZWRUYXNrRWxlbWVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uaW5zZXJ0QmVmb3JlKHRhc2tFbGVtZW50LCBwaW5uZWRUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwaW5uZWRUYXNrRWxlbWVudCA9PT0gbGFzdFBpbm5lZFRhc2tFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UGlubmVkVGFza0VsZW1lbnQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgdGFza0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGFza0VsZW1lbnQuY2xhc3NMaXN0LmFkZChcInBpbm5lZC10YXNrXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHMgPSBBcnJheS5mcm9tKHRhc2tDb250ZW50U2VjdGlvbi5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLXRhc2s6bm90KC5waW5uZWQtdGFzaylcIikpO1xuICAgICAgICAgICAgaWYgKGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5hcHBlbmRDaGlsZCh0YXNrRWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5RW5kSW5kZXggPSBsaXN0T2ZVbnBpbm5lZFRhc2tFbGVtZW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RVbnBpbm5lZFRhc2tFbGVtZW50ID0gbGlzdE9mVW5waW5uZWRUYXNrRWxlbWVudHNbYXJyYXlFbmRJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB1bnBpbm5lZFRhc2tFbGVtZW50IG9mIGxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVucGlubmVkVGFza0VsZW1lbnRJbmRleCA9IHVucGlubmVkVGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrRWxlbWVudEluZGV4IDwgdW5waW5uZWRUYXNrRWxlbWVudEluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uaW5zZXJ0QmVmb3JlKHRhc2tFbGVtZW50LCB1bnBpbm5lZFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVucGlubmVkVGFza0VsZW1lbnQgPT09IGxhc3RVbnBpbm5lZFRhc2tFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXNrQ29udGVudFNlY3Rpb24uYXBwZW5kQ2hpbGQodGFza0VsZW1lbnQsIGxhc3RVbnBpbm5lZFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwaW5uZWQtdGFza1wiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBsaXN0T2ZUYXNrcyA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0Q2hlY2tsaXN0VGFza3MoKTtcbiAgICAgICAgZm9yIChjb25zdCB0YXNrSW5kZXggaW4gbGlzdE9mVGFza3MpIHtcbiAgICAgICAgICAgIGlmIChsaXN0T2ZUYXNrc1t0YXNrSW5kZXhdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdUYXNrRWxlbWVudCA9IGFkZE5ld1Rhc2tUb0RPTSh0YXNrSW5kZXgpO1xuICAgICAgICAgICAgICAgIGV2ZW50QnVuZGxlci5hZGRUYXNrTGlzdGVuZXJzKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBzZXRQaW5CdXR0b25JbWFnZShuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgcmVhcnJhbmdlUGlubmVkVGFza3NQb3NpdGlvbihuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgbG9hZENoZWNrbGlzdFRhc2tzRnJvbVRhc2tzKG5ld1Rhc2tFbGVtZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBsb2FkQ2hlY2tsaXN0VGFza3NGcm9tVGFza3MgPSAobmV3VGFza0VsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0RWxlbWVudCA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0XCIpO1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSBuZXdUYXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldEN1cnJlbnRUYWJPYmplY3QoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhc2tPYmplY3QgPSBjdXJyZW50VGFiT2JqZWN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayh0YXNrSW5kZXgpO1xuICAgICAgICBjb25zdCBsaXN0T2ZDaGVja2xpc3RUYXNrcyA9IGN1cnJlbnRUYXNrT2JqZWN0LmdldENoZWNrbGlzdFRhc2tzKCk7XG4gICAgICAgIGZvciAoY29uc3QgY2hlY2tsaXN0VGFza0luZGV4IGluIGxpc3RPZkNoZWNrbGlzdFRhc2tzKSB7XG4gICAgICAgICAgICBpZiAobGlzdE9mQ2hlY2tsaXN0VGFza3NbY2hlY2tsaXN0VGFza0luZGV4XSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IGxpc3RPZkNoZWNrbGlzdFRhc2tzW2NoZWNrbGlzdFRhc2tJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrQ29tcGxldGVkID0gY2hlY2tsaXN0VGFza09iamVjdC5nZXRDb21wbGV0ZWRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5jbGFzc0xpc3QuYWRkKFwiY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgICAgICAgICAgbmV3Q2hlY2tsaXN0VGFza05vZGUuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXggPSBjaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgICAgICAgICAgbmV3Q2hlY2tsaXN0VGFza05vZGUuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtjaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtY29tcGxldGUtY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjaGVja2xpc3QtJHt0YXNrSW5kZXh9LSR7Y2hlY2tsaXN0VGFza0luZGV4fVwiIGNsYXNzPVwiY2hlY2tsaXN0LXRhc2stZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBERVNDUklQVElPTiBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiRWRpdCBjaGVja2xpc3QgdGFzayBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdC10YXNrLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQgPSBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0NvbXBsZXRlZEVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKGAjY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke2NoZWNrbGlzdFRhc2tJbmRleH1gKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tsaXN0VGFza0NvbXBsZXRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2xpc3RUYXNrQ29tcGxldGVkRWxlbWVudC5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGVja2xpc3RUYXNrQ29tcGxldGVkRWxlbWVudC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjaGVja2xpc3RFbGVtZW50LmFwcGVuZENoaWxkKG5ld0NoZWNrbGlzdFRhc2tOb2RlKTtcbiAgICAgICAgICAgICAgICBldmVudEJ1bmRsZXIuYWRkQ2hlY2tsaXN0VGFza0xpc3RlbmVycyhjaGVja2xpc3RFbGVtZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBzZXRQaW5CdXR0b25JbWFnZSA9IChuZXdUYXNrRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFza0luZGV4ID0gbmV3VGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHBpbkJ1dHRvbiA9IG5ld1Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tcGluXCIpO1xuICAgICAgICBjb25zdCBwaW5CdXR0b25JbWFnZSA9IHBpbkJ1dHRvbi5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhc2tPYmplY3QuZ2V0UGlubmVkU3RhdGUoKSkge1xuICAgICAgICAgICAgcGluQnV0dG9uSW1hZ2Uuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9hc3NldHMvcGluLXBpbm5lZC5wbmdcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwaW5CdXR0b25JbWFnZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Fzc2V0cy9waW4tdW5waW5uZWQucG5nXCIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgcmVhcnJhbmdlUGlubmVkVGFza3NQb3NpdGlvbiA9IChuZXdUYXNrRWxlbWVudCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYk9iamVjdCgpO1xuICAgICAgICBjb25zdCBjdXJyZW50VGFza0luZGV4ID0gbmV3VGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IHRhc2tDb250ZW50U2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgaWYgKGN1cnJlbnRUYXNrT2JqZWN0LmdldFBpbm5lZFN0YXRlKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpc3RPZlBpbm5lZFRhc2tFbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5waW5uZWQtdGFza1wiKSk7XG4gICAgICAgICAgICBpZiAobGlzdE9mUGlubmVkVGFza0VsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFza0VsZW1lbnQsIHRhc2tDb250ZW50U2VjdGlvbi5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5RW5kSW5kZXggPSBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0UGlubmVkVGFza0VsZW1lbnQgPSBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHNbYXJyYXlFbmRJbmRleF07XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwaW5uZWRUYXNrRWxlbWVudCBvZiBsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGlubmVkVGFza0VsZW1lbnRJbmRleCA9IHBpbm5lZFRhc2tFbGVtZW50LmRhdGFzZXQudGFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhc2tJbmRleCA8IHBpbm5lZFRhc2tFbGVtZW50SW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5pbnNlcnRCZWZvcmUobmV3VGFza0VsZW1lbnQsIHBpbm5lZFRhc2tFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBpbm5lZFRhc2tFbGVtZW50ID09PSBsYXN0UGlubmVkVGFza0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RQaW5uZWRUYXNrRWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBuZXdUYXNrRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBuZXdUYXNrRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicGlubmVkLXRhc2tcIik7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCB0YXNrTm90ZXMgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IHRhc2tDaGVja2xpc3QgPSB0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbGlzdFwiKTtcbiAgICAgICAgY29uc3QgZWxlbWVudHNUb1RvZ2dsZSA9IFt0YXNrRGVzY3JpcHRpb24sIHRhc2tOb3RlcywgdGFza0NoZWNrbGlzdF07XG4gICAgICAgIGVsZW1lbnRzVG9Ub2dnbGUuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudENsYXNzZXMgPSBBcnJheS5mcm9tKGVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgICAgIGlmIChlbGVtZW50Q2xhc3Nlcy5pbmNsdWRlcyhcImhpZGUtdG8tZG8tZGV0YWlsc1wiKSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcImhpZGUtdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJkaXNwbGF5LXRvLWRvLWRldGFpbHNcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGUtdG8tZG8tZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJkaXNwbGF5LXRvLWRvLWRldGFpbHNcIik7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJvdGF0ZUNoZXZyb25CdXR0b24gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkltYWdlID0gYnV0dG9uRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpO1xuICAgICAgICBjb25zdCBidXR0b25JbWFnZUNsYXNzID0gYnV0dG9uSW1hZ2UuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgICAgIGlmIChidXR0b25JbWFnZUNsYXNzID09PSBudWxsIHx8IGJ1dHRvbkltYWdlQ2xhc3MgPT09IFwicm90YXRlLWhpZGUtdGFzay1kZXRhaWxzXCIpIHtcbiAgICAgICAgICAgIGJ1dHRvbkltYWdlLmNsYXNzTGlzdC50b2dnbGUoXCJyb3RhdGUtaGlkZS10YXNrLWRldGFpbHNcIiwgZmFsc2UpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LmFkZChcInJvdGF0ZS1kaXNwbGF5LXRhc2stZGV0YWlsc1wiKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25JbWFnZUNsYXNzID09PSBcInJvdGF0ZS1kaXNwbGF5LXRhc2stZGV0YWlsc1wiKSB7XG4gICAgICAgICAgICBidXR0b25JbWFnZS5jbGFzc0xpc3QucmVtb3ZlKFwicm90YXRlLWRpc3BsYXktdGFzay1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgYnV0dG9uSW1hZ2UuY2xhc3NMaXN0LmFkZChcInJvdGF0ZS1oaWRlLXRhc2stZGV0YWlsc1wiKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYlRvRE9NLCBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0VGFiSW5wdXRFbGVtZW50LCBpbnNlcnRUYWJOYW1lRWxlbWVudCwgc2V0RGVmYXVsdEN1cnJlbnRUYWJET00sXG4gICAgICAgIHNldEN1cnJlbnRUYWJET00sIHNldEZpcnN0VGFiVG9DdXJyZW50VGFiLCBhZGROZXdUYXNrVG9ET00sXG4gICAgICAgIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsIHNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSwgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50LFxuICAgICAgICB0b2dnbGVUYXNrRE9NQ29tcGxldGUsIGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSwgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCxcbiAgICAgICAgc2V0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudFZhbHVlLCBpbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50LFxuICAgICAgICB0b2dnbGVDaGVja2xpc3RUYXNrRE9NQ29tcGxldGUsIGNoYW5nZVBpbkJ1dHRvbkltYWdlLCBzaGlmdFRhc2tFbGVtZW50UG9zaXRpb24sIGxvYWRUYXNrc0Zyb21OZXdDdXJyZW50VGFiLCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMsIHJvdGF0ZUNoZXZyb25CdXR0b24sIH07XG59KSgpO1xuXG5leHBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0ID0gKCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVUYWJGcm9tVG9kb0FycmF5ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRhYkVsZW1lbnQuZGF0YXNldC50YWJJbmRleDtcbiAgICAgICAgdG9Eb0xpc3QucmVtb3ZlVGFzayhpbmRleCk7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYXNrRnJvbVRhYkFycmF5ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFza0VsZW1lbnQuZGF0YXNldC50YXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiT2JqZWN0KCk7XG4gICAgICAgIGN1cnJlbnRUYWJPYmplY3QucmVtb3ZlVGFzayhpbmRleCk7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tGcm9tVGFza0FycmF5ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gY2hlY2tsaXN0VGFza0VsZW1lbnQuZGF0YXNldC5jaGVja2xpc3RUYXNrSW5kZXg7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjdXJyZW50VGFza09iamVjdC5yZW1vdmVUYXNrKGluZGV4KTtcbiAgICB9O1xuICAgIHJldHVybiB7IHJlbW92ZVRhYkZyb21Ub2RvQXJyYXksIHJlbW92ZVRhc2tGcm9tVGFiQXJyYXksIHJlbW92ZUNoZWNrbGlzdFRhc2tGcm9tVGFza0FycmF5LCB9O1xufSkoKTtcblxuZXhwb3J0IHsgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBET01Db250cm9sbGVyUmVtb3ZlID0gKCgpID0+IHtcbiAgICBjb25zdCByZW1vdmVUYWJOYW1lRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgbGV0IHN3aXRjaFRhYiA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5zd2l0Y2gtdGFiXCIpXG4gICAgICAgIHRhYkVsZW1lbnQucmVtb3ZlQ2hpbGQoc3dpdGNoVGFiKTtcbiAgICAgICAgc3dpdGNoVGFiID0gbnVsbFxuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgIHRhYkVsZW1lbnQucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYkVsZW1lbnRGcm9tRE9NID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YWJFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYlNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRhYi1zZWN0aW9uXCIpO1xuICAgICAgICB0b0RvVGFiU2VjdGlvbi5yZW1vdmVDaGlsZCh0YWJFbGVtZW50KTtcbiAgICAgICAgdGFiRWxlbWVudCA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZXNldEN1cnJlbnRUYWJTdGF0dXMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2N1cnJlbnQtdGFiXCIpO1xuICAgICAgICBpZiAoY3VycmVudFRhYiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY3VycmVudFRhYi5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0b0RvVGFza1NlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIHRvRG9UYXNrU2VjdGlvbi5yZW1vdmVDaGlsZCh0YXNrRWxlbWVudCk7XG4gICAgICAgIHRhc2tFbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza1N1YmNvbnRlbnRFbGVtZW50RnJvbURPTSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0YXNrU3ViY29udGVudEVsZW1lbnQpO1xuICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQgPSBudWxsXG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZVRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgbGV0IGlucHV0RWxlbWVudCA9IHRhc2tTdWJjb250YWluZXIucXVlcnlTZWxlY3RvcihcImlucHV0XCIpO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyLnJlbW92ZUNoaWxkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIGlucHV0RWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkRPTSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RCdXR0b25FbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uID0gYnV0dG9uRWxlbWVudC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICBsZXQgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uID0gY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoXCJsYWJlbFwiKTtcbiAgICAgICAgY2hlY2tsaXN0Q29tcGxldGVTZWN0aW9uLnJlbW92ZUNoaWxkKGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbik7XG4gICAgICAgIGNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiA9IGNoZWNrbGlzdFRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hlY2tsaXN0LWNvbXBsZXRlLXNlY3Rpb25cIik7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSBjaGVja2xpc3RDb21wbGV0ZVNlY3Rpb24ucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtaW5wdXRcIik7XG4gICAgICAgIGNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbi5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IGNoZWNrbGlzdFRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGNoZWNrbGlzdEVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdENoZWNrbGlzdEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjaGVja2xpc3RFbGVtZW50LnJlbW92ZUNoaWxkKGNoZWNrbGlzdFRhc2tFbGVtZW50KTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0VsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlQWxsVGFza0VsZW1lbnRzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrQ29udGVudFNlY3Rpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWNvbnRlbnRcIik7XG4gICAgICAgIHRhc2tDb250ZW50U2VjdGlvbi5yZXBsYWNlQ2hpbGRyZW4oKTtcbiAgICB9O1xuICAgIHJldHVybiB7IHJlbW92ZVRhYk5hbWVFbGVtZW50LCByZW1vdmVUYWJJbnB1dEVsZW1lbnQsIHJlbW92ZVRhYkVsZW1lbnRGcm9tRE9NLFxuICAgICAgICByZXNldEN1cnJlbnRUYWJTdGF0dXMsIHJlbW92ZVRhc2tFbGVtZW50RnJvbURPTSwgcmVtb3ZlVGFza1N1YmNvbnRlbnRFbGVtZW50RnJvbURPTSxcbiAgICAgICAgcmVtb3ZlVGFza0lucHV0RWxlbWVudCwgcmVtb3ZlQ2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRE9NLCByZW1vdmVDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50LCByZW1vdmVDaGVja2xpc3RUYXNrRWxlbWVudERPTSwgcmVtb3ZlQWxsVGFza0VsZW1lbnRzLCB9XG59KSgpO1xuXG5leHBvcnQgeyBET01Db250cm9sbGVyUmVtb3ZlIH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RfY29udHJvbGxlcl9hZGRfZWRpdF9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXRcIjtcbmltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RfY29udHJvbGxlcl9yZW1vdmVfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBET01Db250cm9sbGVyUmVtb3ZlIH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfcmVtb3ZlXCI7XG5cbmNvbnN0IGV2ZW50QnVuZGxlciA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkVGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1RhYlRvVG9kb0FycmF5KCk7XG4gICAgICAgIGNvbnN0IG5ld1RhYk5vZGUgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdUYWJUb0RPTShuZXdUYWJJbmRleCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyKG5ld1RhYk5vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyKG5ld1RhYk5vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyKG5ld1RhYk5vZGUpO1xuICAgICAgICBpZiAoaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZPbmx5T25lVGFiKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoZmlyc3RUYWJJbmRleClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yVGFiSW5wdXRFbGVtZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiTmFtZUVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFiSW5wdXRFbGVtZW50VmFsdWUoZXZlbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRhYklucHV0TGlzdGVuZXIoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0VGFiTmFtZShldmVudCk7XG4gICAgICAgICAgICBjb25zdCB0YWJFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiTmFtZUVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWJJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRTd2l0Y2hUYWJMaXN0ZW5lcih0YWJFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0LnJlbW92ZVRhYkZyb21Ub2RvQXJyYXkoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYkVsZW1lbnRGcm9tRE9NKGV2ZW50KTtcbiAgICAgICAgaWYgKGhlbHBlckZ1bmN0aW9ucy5jaGVja0lmV2FzQ3VycmVudFRhYihldmVudCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoZmlyc3RUYWJJbmRleClcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgc3dpdGNoVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZXYXNDdXJyZW50VGFiKGV2ZW50KSkge1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudXBkYXRlQ3VycmVudFRhYihldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlc2V0Q3VycmVudFRhYlN0YXR1cygpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Q3VycmVudFRhYkRPTShldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZUFsbFRhc2tFbGVtZW50cygpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQubG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIoKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgbmV3VGFzayA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFza0luZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuYWRkTmV3VGFza1RvVGFiKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tOb2RlID0gRE9NQ29udHJvbGxlckFkZEVkaXQuYWRkTmV3VGFza1RvRE9NKG5ld1Rhc2tJbmRleCk7XG4gICAgICAgIGFkZFRhc2tMaXN0ZW5lcnMobmV3VGFza05vZGUpO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlVGFza0Zyb21UYWJBcnJheShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NKGV2ZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tGb3JUYXNrU3ViY29udGFpbmVySW5wdXRFbGVtZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhc2tJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFza0lucHV0RWxlbWVudFZhbHVlKGV2ZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmVkaXRUYXNrT2JqZWN0SW5mbyhldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC50b2dnbGVUYXNrQ29tcGxldGUoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVUYXNrRE9NQ29tcGxldGUoZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKGV2ZW50KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza05vZGUgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdDaGVja2xpc3RUYXNrVG9ET00oZXZlbnQsIG5ld0NoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza05vZGUpO1xuICAgIH07XG4gICAgY29uc3QgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBpZiAoIWhlbHBlckZ1bmN0aW9ucy5jaGVja0ZvckNoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQoZXZlbnQpKSB7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZUNoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkRPTShldmVudCk7XG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRDaGVja2xpc3RUYXNrSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZShldmVudCwgaW5wdXRFbGVtZW50KTtcbiAgICAgICAgICAgIGV2ZW50QXNzaWduZXIuYWRkQ2hlY2tsaXN0VGFza0lucHV0TGlzdGVuZXIoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHVwZGF0ZUNoZWNrbGlzdFRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmNvZGUgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QuZWRpdENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbihldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRDaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudChldmVudCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCB0b2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QudG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlKGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQudG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlKGV2ZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZUNoZWNrbGlzdFRhc2sgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVDaGVja2xpc3RUYXNrRnJvbVRhc2tBcnJheShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlQ2hlY2tsaXN0VGFza0VsZW1lbnRET00oZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlVGFza1BpbiA9IChldmVudCkgPT4ge1xuICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC50b2dnbGVUYXNrUGluKGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuY2hhbmdlUGluQnV0dG9uSW1hZ2UoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5zaGlmdFRhc2tFbGVtZW50UG9zaXRpb24oZXZlbnQpO1xuICAgIH07XG4gICAgLy8gY29uc3QgbG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIgPSAoKSA9PiB7XG4gICAgLy8gICAgIGZvciAoY29uc3QgdGFzayApXG4gICAgLy8gfTtcbiAgICBjb25zdCBhZGRUYXNrTGlzdGVuZXJzID0gKG5ld1Rhc2tOb2RlKSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFza0xpc3RlbmVycyhuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXIobmV3VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lcihuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza1Bpbkxpc3RlbmVycyhuZXdUYXNrTm9kZSk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzID0gKG5ld0NoZWNrbGlzdFRhc2tOb2RlKSA9PiB7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMobmV3Q2hlY2tsaXN0VGFza05vZGUpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRvZ2dsZUNoZWNrbGlzdFRhc2tDb21wbGV0ZUxpc3RlbmVyKG5ld0NoZWNrbGlzdFRhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIobmV3Q2hlY2tsaXN0VGFza05vZGUpO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnRvZ2dsZURpc3BsYXlUYXNrRGV0YWlscyhldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnJvdGF0ZUNoZXZyb25CdXR0b24oZXZlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkVGFiLCBpbnNlcnRUYWJJbnB1dEVsZW1lbnQsIHVwZGF0ZVRhYiwgcmVtb3ZlVGFiLCBzd2l0Y2hUYWIsXG4gICAgICAgIG5ld1Rhc2ssIHJlbW92ZVRhc2ssIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsIHVwZGF0ZVRhc2ssIHRvZ2dsZVRhc2tDb21wbGV0ZSwgYWRkTmV3Q2hlY2tsaXN0VGFzaywgaW5zZXJ0Q2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCwgdXBkYXRlQ2hlY2tsaXN0VGFzaywgdG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlLCByZW1vdmVDaGVja2xpc3RUYXNrLCB0b2dnbGVUYXNrUGluLCBhZGRUYXNrTGlzdGVuZXJzLCBhZGRDaGVja2xpc3RUYXNrTGlzdGVuZXJzLCB0b2dnbGVEaXNwbGF5VGFza0RldGFpbHMsIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEJ1bmRsZXIgfTsiLCJpbXBvcnQgeyB0b0RvVGFzayB9IGZyb20gXCIuL29iamVjdHMvdG9kb190YXNrX29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0cy9jaGVja2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyBjaGVja2xpc3RUYXNrT2JqZWN0IH0gZnJvbSBcIi4vb2JqZWN0cy9jaGVja2xpc3RfdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbXBsZXRlZF9jb21wb25lbnRcIjtcblxuLy8gdGVzdGluZyB0b2RvIHRhc2sgb2JqZWN0XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvZHVlX2RhdGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBub3Rlc0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9waW5uZWRfY29tcG9uZW50XCI7XG5cbi8vIHRlc3RpbmcgY2hlY2tsaXN0IG9iamVjdFxuLy8gaW1wb3J0IHsgY2hlY2tsaXN0T2JqZWN0IH0gZnJvbSBcIi4vY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuXG4vLyB0ZXN0aW5nIHRhYnMgKGFycmF5cyB0aGF0IGNvbnRhaW4gbWFueSB0byBkbyB0YXNrcylcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi9vYmplY3RzL3RvZG9fdGFiX29iamVjdFwiO1xuXG4vLyB0ZXN0aW5nIGxpc3QgdGhhdCBjb250YWluIGV2ZXJ5dGhpbmdcbmltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0XCI7XG5cbi8vIHRlc3RpbmcgZm9yIERPTSBjb250cm9sbGVyIG9iamVjdHNcbmltcG9ydCB7IGV2ZW50QnVuZGxlciB9IGZyb20gXCIuL29iamVjdHMvZXZlbnRfYnVuZGxlcl9vYmplY3RcIjtcbmltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9vYmplY3RzL2V2ZW50X2Fzc2lnbmVyX29iamVjdFwiO1xuaW1wb3J0IHsgRE9NQ29udHJvbGxlckFkZEVkaXQgfSBmcm9tIFwiLi9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5cbi8vIGxldCB0ZXN0ID0gY2hlY2tsaXN0VGFza09iamVjdChcImRkdGVzdFwiKTtcbi8vIGNvbnNvbGUubG9nKHRlc3QpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gaWYgKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSkge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgbm93IHRydWVcIilcbi8vIH0gZWxzZSB7XG4vLyAgICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBzdGlsbCBmYWxzZVwiKVxuLy8gfVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QudG9nZ2xlQ29tcGxldGVkU3RhdGUoKSlcblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG5cbi8vIGlmICh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIG5vdyB0cnVlXCIpXG4vLyB9IGVsc2Uge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgc3RpbGwgZmFsc2VcIilcbi8vIH1cblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0KVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldFRhc2tEZXNjcmlwdGlvbigpKVxuLy8gdGVzdC5zZXRUYXNrRGVzY3JpcHRpb24oXCJ3b3d3aWVcIilcbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG5cbi8vIGxldCBpbXBvcnRhbnRUYXNrID0gdG9Eb1Rhc2soXCJNYWtlIENlcmVhbFwiLCBcInBhcnQgb2YgYnJlYWtmYXN0IHBsYW5cIiwgXCJ0aGlzIG1vcm5pbmdcIiwgXCJtYWtlIHN1cmUgdG8gcHV0IG1pbGsgYmFjayBpbiBmcmlkZ2VcIik7XG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrVGl0bGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEdWVEYXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tOb3RlcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRQaW5uZWRTdGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tUaXRsZShcIk1ha2UgQ2hpY2tlbiBCcm90aFwiKVxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrRGVzY3JpcHRpb24oXCJyZXF1aXJlcyAxIGNoaWNrZW4gYW5kIDEgYnJvdGhcIilcbi8vIGltcG9ydGFudFRhc2suc2V0VGFza0R1ZURhdGUoXCJiZWZvcmUgSSBjYXVnaHQgdGhpcyBjb2xkXCIpXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tOb3RlcyhcImRvbid0IHNuZWV6ZSBpbnRvIHBvdFwiKVxuLy8gaW1wb3J0YW50VGFzay50b2dnbGVQaW5uZWRTdGF0ZSgpO1xuLy8gaW1wb3J0YW50VGFzay50b2dnbGVDb21wbGV0ZWRTdGF0ZSgpO1xuXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tUaXRsZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRGVzY3JpcHRpb24oKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0R1ZURhdGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza05vdGVzKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFBpbm5lZFN0YXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGltcG9ydGFudFRhc2suYWRkVGFzayh0ZXN0KVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrRGVzY3JpcHRpb24oKSlcblxuXG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gdGFiMS5hZGRUYXNrKGltcG9ydGFudFRhc2spXG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKS5nZXRUYXNrVGl0bGUoKSlcblxuLy8gbGV0IGFub3RoZXJJbXBvcnRhbnRUYXNrID0gdG9Eb1Rhc2soXCJDbGVhbiBwb3RcIiwgXCJwYXJ0IG9mIGNob3JlcyBwbGFuXCIsIFwidGhpcyBhZnRlcm5vb25cIiwgXCJtYWtlIHN1cmUgdG8gdXNlIHNvYXBcIik7XG4vLyBjb25zb2xlLmxvZyh0YWIxKVxuLy8gdGFiMS5hZGRUYXNrKGFub3RoZXJJbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMSkpXG4vLyBjb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygxKS5nZXRUYXNrVGl0bGUoKSlcblxuXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tUaXRsZSgpKVxuXG4vLyAvLyBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYigwKTtcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG5cbi8vIGxldCB0YWIyID0gdG9Eb1RhYihcImhlZSBoZWVcIilcbi8vIHRvRG9MaXN0LmFkZFRhc2sodGFiMilcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG5cbi8vIGxldCB0YWIxID0gdG9Eb1RhYihcIkRlZmF1bHQgdGVzdFwiKVxuLy8gdG9Eb0xpc3QuYWRkVGFzayh0YWIxKVxuXG4vLyBsZXQgdGFzazEgPSB0b0RvVGFzayhcIk1ha2UgTW9uZXkgVEVTVCAwXCIsIFwiVGFzayBEdWUgRGF0ZVwiLCBcIlRhc2sgRGVzY3JpcHRpb25cIiwgXCJUYXNrIE5vdGVzXCIpO1xuLy8gY29uc29sZS5sb2codGFiMS5hZGRUYXNrKHRhc2sxKSlcblxuLy8gbGV0IHRhc2syID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gMVwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrMilcblxuLy8gbGV0IHRhc2szID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gQUdBSU4gMlwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrMylcblxuLy8gbGV0IHRhc2s0ID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1QgQUdBSU4gQUdBSU4gQUdBSU4gM1wiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjEuYWRkVGFzayh0YXNrNClcblxuLy8gbGV0IHRhYjIgPSB0b0RvVGFiKFwiVGVzdCBmb3IgbG9hZGluZyBpbiB0YXNrIG9iamVjdHNcIilcbi8vIHRvRG9MaXN0LmFkZFRhc2sodGFiMilcbi8vIGxldCB0YXNrQSA9IHRvRG9UYXNrKFwiVEVTVCBPRiBUSEUgT1VURE9PUiBXQVJOSU5HIFNZU1RFTVwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjIuYWRkVGFzayh0YXNrQSlcbi8vIGxldCB0YXNrQiA9IHRvRG9UYXNrKFwiVEhJUyBJUyBPTkxZIEEgVEVTVFwiLCBcIlRhc2sgRHVlIERhdGVcIiwgXCJUYXNrIERlc2NyaXB0aW9uXCIsIFwiVGFzayBOb3Rlc1wiKTtcbi8vIHRhYjIuYWRkVGFzayh0YXNrQilcblxuLy8gbGV0IGNoZWNrbGlzdFRhc2tBID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgQVwiKVxuLy8gdGFza0EuYWRkVGFzayhjaGVja2xpc3RUYXNrQSlcbi8vIGxldCBjaGVja2xpc3RUYXNrQiA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIEJcIilcbi8vIHRhc2tBLmFkZFRhc2soY2hlY2tsaXN0VGFza0IpXG4vLyBsZXQgY2hlY2tsaXN0VGFza0MgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVCBDXCIpXG4vLyB0YXNrQi5hZGRUYXNrKGNoZWNrbGlzdFRhc2tDKVxuLy8gbGV0IGNoZWNrbGlzdFRhc2tEID0gY2hlY2tsaXN0VGFza09iamVjdChcIkNoZWNrbGlzdCBUYXNrIERlc2NyaXB0aW9uIFRFU1QgRFwiKVxuLy8gdGFza0IuYWRkVGFzayhjaGVja2xpc3RUYXNrRClcbi8vIGxldCBjaGVja2xpc3RUYXNrRSA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJDaGVja2xpc3QgVGFzayBEZXNjcmlwdGlvbiBURVNUIERcIilcbi8vIHRhc2tCLmFkZFRhc2soY2hlY2tsaXN0VGFza0UpXG5cbi8vIHRhc2tCLnJlbW92ZVRhc2soMSlcblxuZXZlbnRBc3NpZ25lci5hZGROZXdUYWJMaXN0ZW5lcigpO1xuLy8gZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFiTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhYkJ1dHRvbkxpc3RlbmVyKCk7XG5cblxuXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdClcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbkRPTUNvbnRyb2xsZXJBZGRFZGl0LnNldERlZmF1bHRDdXJyZW50VGFiRE9NKDApXG5cbmV2ZW50QXNzaWduZXIuYWRkU3dpdGNoVGFiTGlzdGVuZXIoKVxuXG5ldmVudEFzc2lnbmVyLmFkZE5ld1Rhc2tMaXN0ZW5lcigpO1xuXG5ldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lcigpO1xuXG5ldmVudEFzc2lnbmVyLmFkZEVkaXRUYXNrTGlzdGVuZXJzKCk7XG5cbi8vIGNvbnN0IGhlaCA9ICgpID0+IHtcbi8vICAgICBjb25zb2xlLmxvZyhcImJsb29wXCIpXG4vLyB9XG5cbi8vIGNvbnN0IGJvaSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIilcbi8vIGJvaS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaGVoKVxuXG5ldmVudEFzc2lnbmVyLmFkZFRvZ2dsZVRhc2tDb21wbGV0ZUxpc3RlbmVyKCk7XG5ldmVudEFzc2lnbmVyLmFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRFZGl0Q2hlY2tsaXN0VGFza0xpc3RlbmVycygpO1xuXG4vLyBsZXQgY2hlY2tsaXN0VGFzazEgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb24gVEVTVFwiKVxuLy8gdGFzazEuYWRkVGFzayhjaGVja2xpc3RUYXNrMSlcblxuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVDaGVja2xpc3RUYXNrQ29tcGxldGVMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVDaGVja2xpc3RUYXNrTGlzdGVuZXIoKTtcblxuZXZlbnRBc3NpZ25lci5hZGRUb2dnbGVUYXNrUGluTGlzdGVuZXJzKCk7XG5ldmVudEFzc2lnbmVyLmFkZFRvZ2dsZURpc3BsYXlUYXNrRGV0YWlsc0xpc3RlbmVycygpOyJdLCJuYW1lcyI6WyJjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCIsIm9iamVjdCIsImNoZWNrbGlzdCIsIk9iamVjdCIsImFzc2lnbiIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsImxlbmd0aCIsInJlbW92ZVRhc2siLCJpbmRleCIsInVuZGVmaW5lZCIsImdldENoZWNrbGlzdFRhc2tzIiwiZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrIiwidG9Eb0xpc3QiLCJjdXJyZW50VGFiIiwiZ2V0Q3VycmVudFRhYkluZGV4Iiwic2V0Q3VycmVudFRhYkluZGV4IiwibmV3Q3VycmVudFRhYiIsImdldEN1cnJlbnRUYWJPYmplY3QiLCJjdXJyZW50VGFiSW5kZXgiLCJ0aXRsZUJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbFRpdGxlIiwidGl0bGUiLCJnZXRUYXNrVGl0bGUiLCJzZXRUYXNrVGl0bGUiLCJuZXdUaXRsZSIsImhlbHBlckZ1bmN0aW9ucyIsImVuc3VyZUNvcnJlY3RUYWJFbGVtZW50IiwiZXZlbnQiLCJ0YWJFbGVtZW50IiwidGFyZ2V0IiwicGFyZW50RWxlbWVudCIsImdldEF0dHJpYnV0ZSIsImVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudCIsInRhc2tFbGVtZW50IiwiY2xhc3NMaXN0IiwiQXJyYXkiLCJmcm9tIiwiaW5jbHVkZXMiLCJlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyIiwidGFza1N1YmNvbnRhaW5lciIsImdldFRhcmdldFRhc2tPYmplY3QiLCJkYXRhc2V0IiwidGFza0luZGV4IiwiZW5zdXJlQ29ycmVjdEJ1dHRvbkVsZW1lbnQiLCJidXR0b25FbGVtZW50IiwidGFnTmFtZSIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RUYXNrRWxlbWVudCIsImNoZWNrbGlzdFRhc2tFbGVtZW50IiwiY2hlY2tGb3JUYWJJbnB1dEVsZW1lbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNoZWNrSWZXYXNDdXJyZW50VGFiIiwiY2hlY2tJZk9ubHlPbmVUYWIiLCJ0b0RvVGFiU2VjdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQiLCJnZXRCdXR0b25UeXBlIiwiZ2V0U3ViY29udGFpbmVyVHlwZSIsImVuc3VyZUNvcnJlY3RDaGVja2xpc3RFbGVtZW50IiwiY2hlY2tsaXN0RWxlbWVudCIsImNoZWNrRm9yQ2hlY2tsaXN0VGFza0lucHV0RWxlbWVudCIsImdldFRhcmdldENoZWNrbGlzdFRhc2tPYmplY3QiLCJ0YXNrT2JqZWN0IiwiY2hlY2tsaXN0VGFza0luZGV4IiwiZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiZ2V0VGFza0Rlc2NyaXB0aW9uIiwic2V0VGFza0Rlc2NyaXB0aW9uIiwibmV3RGVzY3JpcHRpb24iLCJjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCIsImNvbXBsZXRlZCIsInRvZ2dsZUNvbXBsZXRlZFN0YXRlIiwiZ2V0Q29tcGxldGVkU3RhdGUiLCJvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCIsIm5ld1RhYiIsInRvRG9UYWIiLCJ0YWJJbmRleCIsInZhbHVlIiwidGFiQXJyYXkiLCJmaXJzdFRhYiIsInRhYiIsIm5ld1Rhc2siLCJkdWVEYXRlIiwibm90ZXMiLCJpbml0aWFsRHVlRGF0ZSIsImdldFRhc2tEdWVEYXRlIiwic2V0VGFza0R1ZURhdGUiLCJuZXdEdWVEYXRlIiwiZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbE5vdGVzIiwiZ2V0VGFza05vdGVzIiwic2V0VGFza05vdGVzIiwibmV3Tm90ZXMiLCJub3Rlc0JlaGF2aW9yQ29tcG9uZW50IiwicGlubmVkIiwidG9nZ2xlUGlubmVkU3RhdGUiLCJnZXRQaW5uZWRTdGF0ZSIsInBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IiwidG9Eb1Rhc2siLCJuZXdUYXNrVGl0bGVWYWx1ZSIsInRhc2tTdWJjb250YWluZXJUeXBlIiwibmV3Q2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdFRhc2tPYmplY3QiLCJuZXdDaGVja2xpc3RUYXNrSW5kZXgiLCJuZXdDaGVja2xpc3RUYXNrRGVzY3JpcHRpb24iLCJldmVudEFzc2lnbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50QnVuZGxlciIsImFkZFRhYiIsInNjb3BlIiwidGFiRWRpdEJ1dHRvbnMiLCJidXR0b24iLCJpbnNlcnRUYWJJbnB1dEVsZW1lbnQiLCJpbnB1dEVsZW1lbnQiLCJ1cGRhdGVUYWIiLCJ0YWJSZW1vdmVCdXR0b25zIiwicmVtb3ZlVGFiIiwidGFiU3dpdGNoQnV0dG9ucyIsInN3aXRjaFRhYiIsInRhc2tSZW1vdmVCdXR0b25zIiwidGFza0VkaXRCdXR0b25zIiwiaW5zZXJ0VGFza0lucHV0RWxlbWVudCIsInVwZGF0ZVRhc2siLCJ0YXNrQ29tcGxldGVDaGVja2JveGVzIiwiY2hlY2tib3giLCJ0b2dnbGVUYXNrQ29tcGxldGUiLCJuZXdDaGVja2xpc3RUYXNrQnV0dG9ucyIsImFkZE5ld0NoZWNrbGlzdFRhc2siLCJjaGVja2xpc3RFZGl0QnV0dG9ucyIsImluc2VydENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnQiLCJ1cGRhdGVDaGVja2xpc3RUYXNrIiwiY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveGVzIiwidG9nZ2xlQ2hlY2tsaXN0VGFza0NvbXBsZXRlIiwiY2hlY2tsaXN0VGFza1JlbW92ZUJ1dHRvbnMiLCJyZW1vdmVDaGVja2xpc3RUYXNrIiwidGFza1BpbkJ1dHRvbnMiLCJ0b2dnbGVUYXNrUGluIiwidGFza1RvZ2dsZURpc3BsYXlCdXR0b25zIiwidG9nZ2xlRGlzcGxheVRhc2tEZXRhaWxzIiwiRE9NQ29udHJvbGxlckFkZEVkaXQiLCJhZGROZXdUYXNrVG9ET00iLCJuZXdUYXNrT2JqZWN0IiwidG9Eb0NvbnRlbnQiLCJuZXdUYXNrTm9kZSIsImNyZWF0ZUVsZW1lbnQiLCJhZGQiLCJuZXdUYXNrVGl0bGUiLCJuZXdUYXNrRGVzY3JpcHRpb24iLCJuZXdUYXNrRHVlRGF0ZSIsIm5ld1Rhc2tOb3RlcyIsImlubmVySFRNTCIsInRleHRDb250ZW50IiwiYXBwZW5kQ2hpbGQiLCJsb2FkQ2hlY2tsaXN0VGFza3NGcm9tVGFza3MiLCJuZXdUYXNrRWxlbWVudCIsImxpc3RPZkNoZWNrbGlzdFRhc2tzIiwiY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uIiwiY2hlY2tsaXN0VGFza0NvbXBsZXRlZCIsIm5ld0NoZWNrbGlzdFRhc2tOb2RlIiwiY2hlY2tlZCIsImFkZENoZWNrbGlzdFRhc2tMaXN0ZW5lcnMiLCJzZXRQaW5CdXR0b25JbWFnZSIsImN1cnJlbnRUYWJPYmplY3QiLCJjdXJyZW50VGFza0luZGV4IiwiY3VycmVudFRhc2tPYmplY3QiLCJwaW5CdXR0b25JbWFnZSIsInNldEF0dHJpYnV0ZSIsInJlYXJyYW5nZVBpbm5lZFRhc2tzUG9zaXRpb24iLCJ0YXNrQ29udGVudFNlY3Rpb24iLCJsaXN0T2ZQaW5uZWRUYXNrRWxlbWVudHMiLCJpbnNlcnRCZWZvcmUiLCJsYXN0UGlubmVkVGFza0VsZW1lbnQiLCJwaW5uZWRUYXNrRWxlbWVudCIsImluc2VydEFkamFjZW50RWxlbWVudCIsImFkZE5ld1RhYlRvRE9NIiwiYWRkVGFiQnV0dG9uIiwibmV3VGFiTm9kZSIsIm5ld1RhYk9iamVjdFRpdGxlIiwic2V0VGFiSW5wdXRFbGVtZW50VmFsdWUiLCJ0YWJOYW1lIiwiZmlyc3RDaGlsZCIsImZvY3VzIiwiaW5zZXJ0VGFiTmFtZUVsZW1lbnQiLCJ0YWJCdXR0b24iLCJ0YWJCdXR0b25OYW1lIiwic2V0RGVmYXVsdEN1cnJlbnRUYWJET00iLCJzZXRDdXJyZW50VGFiRE9NIiwic2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIiLCJmaXJzdFRhYkluZGV4Iiwic2V0VGFza0lucHV0RWxlbWVudFZhbHVlIiwiYnV0dG9uVHlwZSIsInRhc2tTdWJjb250ZW50IiwiaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1N1YmNvbnRlbnRFbGVtZW50IiwidGFza1RpdGxlIiwidGFza0R1ZURhdGUiLCJ0YXNrRGVzY3JpcHRpb24iLCJ0YXNrTm90ZXMiLCJ0b2dnbGVUYXNrRE9NQ29tcGxldGUiLCJjb21wbGV0ZUNoZWNrYm94IiwicmVtb3ZlIiwiYWRkTmV3Q2hlY2tsaXN0VGFza1RvRE9NIiwibmV3Q2hlY2tsaXN0VGFza0NvbXBsZXRlZCIsImNoZWNrbGlzdENvbXBsZXRlU2VjdGlvbiIsInNldENoZWNrbGlzdFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSIsImluc2VydENoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbkVsZW1lbnQiLCJjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50IiwidG9nZ2xlQ2hlY2tsaXN0VGFza0RPTUNvbXBsZXRlIiwiY2hlY2tsaXN0Q29tcGxldGVDaGVja2JveCIsImNoYW5nZVBpbkJ1dHRvbkltYWdlIiwic2hpZnRUYXNrRWxlbWVudFBvc2l0aW9uIiwidGFza0VsZW1lbnRJbmRleCIsImxpc3RPZlVucGlubmVkVGFza0VsZW1lbnRzIiwibGFzdFVucGlubmVkVGFza0VsZW1lbnQiLCJ1bnBpbm5lZFRhc2tFbGVtZW50IiwibG9hZFRhc2tzRnJvbU5ld0N1cnJlbnRUYWIiLCJsaXN0T2ZUYXNrcyIsImFkZFRhc2tMaXN0ZW5lcnMiLCJmb3JFYWNoIiwiZWxlbWVudCIsInJvdGF0ZUNoZXZyb25CdXR0b24iLCJidXR0b25JbWFnZSIsImJ1dHRvbkltYWdlQ2xhc3MiLCJ0b2dnbGUiLCJvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IiwiRE9NQ29udHJvbGxlclJlbW92ZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlQXR0cmlidXRlIiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInJlcGxhY2VDaGlsZHJlbiIsIm5ld1RhYkluZGV4IiwiY29kZSIsIm5ld1Rhc2tJbmRleCJdLCJzb3VyY2VSb290IjoiIn0=
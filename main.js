(()=>{"use strict";const t=(t,e)=>{let s=e;return Object.assign(t,{getTaskTitle:()=>s,setTaskTitle(t){s=t}})},e=(t,e)=>{let s=e;return Object.assign(t,{getTaskDescription:()=>s,setTaskDescription(t){s=t}})},s=t=>{let e=!1;return Object.assign(t,{toggleCompletedState(){e=!e},getCompletedState:()=>e})},n=t=>{let e=[];return Object.assign(t,{addTask:t=>(e.push(t),e.length-1),removeTask(t){e[t]=void 0},getChecklistTasks:()=>e,getSpecificChecklistTask:t=>e[t]})},o=(o,c,a,r)=>{let i={};return Object.assign(i,t(i,o),e(i,a),((t,e)=>{let s=e;return Object.assign(t,{getTaskDueDate:()=>s,setTaskDueDate(t){s=t}})})(i,c),((t,e)=>{let s=e;return Object.assign(t,{getTaskNotes:()=>s,setTaskNotes(t){s=t}})})(i,r),(t=>{let e=!1;return Object.assign(t,{togglePinnedState(){e=!e},getPinnedState:()=>e})})(i),s(i),n(i)),i},c=e=>{let s={};return Object.assign(s,t(s,e),n(s)),s},a=(()=>{let t=0,e={getCurrentTabIndex:()=>t,setCurrentTabIndex:e=>{t=e}};return Object.assign(e,n(e)),e})(),r=(()=>{const t=t=>{let e=t.target.parentElement;for(;"tab-title"!==e.getAttribute("class");)e=e.parentElement;return e},e=t=>{let e=t.target.parentElement;for(;"to-do-task"!==e.getAttribute("class");)e=e.parentElement;return e},s=t=>{let e=t.target.parentElement,s=Array.from(e.classList);for(;!s.includes("to-do-task-subcontainer");)e=e.parentElement,s=Array.from(e.classList);return e},n=t=>{let e=t.target;for(;"BUTTON"!==e.tagName;)e=e.parentElement;return e};return{ensureCorrectTabElement:t,checkForTabInputElement:e=>"INPUT"===t(e).firstElementChild.tagName,checkIfWasCurrentTab:e=>"current-tab"===t(e).getAttribute("id"),checkIfOnlyOneTab:()=>{const t=document.querySelector(".to-do-tab-section");return 1===Array.from(t.querySelectorAll(".tab-title")).length},ensureCorrectTaskElement:e,ensureCorrectSubcontainer:s,checkForTaskSubcontainerInputElement:t=>"INPUT"===s(t).firstElementChild.tagName,getTargetTaskObject:t=>{const s=e(t).dataset.taskIndex,n=a.getCurrentTabIndex();return a.getSpecificChecklistTask(n).getSpecificChecklistTask(s)},ensureCorrectButtonElement:n,getButtonType:t=>{const e=n(t);return Array.from(e.classList)},getSubcontainerType:t=>{const e=s(t);return Array.from(e.classList)},ensureCorrectTaskChecklistElement:t=>{let e=t.target;for(;"FORM"!==e.tagName;)e=e.parentElement;return e}}})(),i=()=>{const t=c("New Tab");return a.addTask(t)},l=t=>{const e=t.target.parentElement.dataset.tabIndex;a.getSpecificChecklistTask(e).setTaskTitle(t.target.value)},d=t=>{const e=r.ensureCorrectTabElement(t).dataset.tabIndex;a.setCurrentTabIndex(e)},u=()=>{const t=a.getChecklistTasks();let e;for(const s in t)if(void 0!==t[s])return a.setCurrentTabIndex(s),e=s,e},k=()=>{const t=a.getCurrentTabIndex(),e=a.getSpecificChecklistTask(t),s=o("New Task","Task Due Date","Task Description","Task Notes");return e.addTask(s)},T=t=>{const e=r.getTargetTaskObject(t),s=t.target.value,n=r.getSubcontainerType(t);return n.includes("to-do-title-section")?e.setTaskTitle(s):n.includes("to-do-due-date-section")?e.setTaskDueDate(s):n.includes("to-do-description-section")?e.setTaskDescription(s):n.includes("to-do-notes-section")?e.setTaskNotes(s):void 0},b=t=>{r.getTargetTaskObject(t).toggleCompletedState()},m=t=>{const n=r.getTargetTaskObject(t),o=(t=>{let n={};return Object.assign(n,e(n,"Checklist Task Description"),s(n)),n})();return n.addTask(o)},g=t=>{const e=document.querySelector(".add-tab"),s=document.querySelector(".to-do-tab-section"),n=document.createElement("div"),o=a.getSpecificChecklistTask(t).getTaskTitle();return n.classList.add("tab-title"),n.dataset.tabIndex=t,n.innerHTML='\n            <button class="switch-tab">\n                <h2 class="tab-name">TAB NAME PLACEHOLDER</h2>\n            </button>\n            <button class="edit-tab">\n                <img src="assets/pencil.png" alt="Edit tab name button">\n            </button>\n            <button class="remove-tab">\n                <img src="assets/close.png" alt="Remove tab button">\n            </button>\n        ',n.querySelector(".tab-name").textContent=o,s.insertBefore(n,e),n},p=(t,e)=>{const s=r.ensureCorrectTabElement(t).dataset.tabIndex,n=a.getSpecificChecklistTask(s).getTaskTitle();e.value=n},C=t=>{const e=r.ensureCorrectTabElement(t),s=document.createElement("input");return s.classList.add("tab-name-input"),s.setAttribute("type","text"),e.insertBefore(s,e.firstChild),s.focus(),s},h=t=>{const e=r.ensureCorrectTabElement(t),s=e.dataset.tabIndex,n=a.getSpecificChecklistTask(s).getTaskTitle(),o=document.createElement("button");o.classList.add("switch-tab");const c=document.createElement("h2");c.textContent=n,o.appendChild(c),e.insertBefore(o,e.firstChild)},E=t=>{document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${t}']`).setAttribute("id","current-tab")},f=t=>{r.ensureCorrectTabElement(t).setAttribute("id","current-tab")},v=t=>{void 0!==t&&document.querySelector(".to-do-tab-section").querySelector(`[data-tab-index='${t}']`).setAttribute("id","current-tab")},S=t=>{const e=a.getCurrentTabIndex(),s=a.getSpecificChecklistTask(e).getSpecificChecklistTask(t),n=document.querySelector(".to-do-content"),o=document.createElement("div");o.classList.add("to-do-task"),o.dataset.taskIndex=t;const c=s.getTaskTitle(),r=s.getTaskDescription(),i=s.getTaskDueDate(),l=s.getTaskNotes();return o.innerHTML='\n            <div class="to-do-task-overview">\n                <div class="to-do-title-section to-do-task-subcontainer">\n                    <h3 class="to-do-title">TITLE PLACEHOLDER</h3>\n                    <button class="to-do-pin">\n                        <img src="./assets/pin-outline.png" alt="Pin task button">\n                    </button>\n                    <button class="edit-task-title edit-task">\n                        <img src="assets/pencil.png" alt="Edit task title button">\n                    </button>\n                    <button class="to-do-remove-task">\n                        <img src="assets/close.png" alt="Remove task button">\n                    </button>\n                </div>\n                <div class="to-do-complete-section">\n                    <div class="to-do-complete">\n                        <label for="to-do-complete-checkbox" class="to-do-complete-label">Completed:</label>\n                        <input type="checkbox" name="" class="to-do-complete-checkbox" id="to-do-complete-checkbox">\n                    </div>\n                    <button class="to-do-task-change-display">\n                        <img src="assets/chevron-down.png" alt="Change task display button">\n                    </button>\n                </div>\n                <div class="to-do-due-date-section to-do-task-subcontainer">\n                    <p class="to-do-due-date">DUE DATE PLACEHOLDER</p>\n                    <button class="edit-task-due-date edit-task">\n                        <img src="assets/pencil.png" alt="Edit task due date button">\n                    </button>\n                </div>\n            </div>\n            <div class="to-do-description-section to-do-task-subcontainer">\n                <p class="to-do-description">DESCRIPTION PLACEHOLDER</p>\n                <button class="edit-task-description edit-task">\n                    <img src="assets/pencil.png" alt="Edit task description button">\n                </button>\n            </div>\n            <div class="to-do-notes-section to-do-task-subcontainer">\n                <p class="to-do-notes">NOTES PLACEHOLDER</p>\n                <button class="edit-task-notes edit-task">\n                    <img src="assets/pencil.png" alt="Edit task notes button">\n                </button>\n            </div>\n            <form action="" class="task-checklist">\n                <div class="checklist-header">\n                    <legend class="checklist-label">Checklist</legend>\n                    <button class="add-checklist-task" type="button">\n                        <img src="assets/plus.png" alt="Add checklist task button">\n                    </button>\n                </div>\n            </form>\n        ',o.querySelector(".to-do-title").textContent=c,o.querySelector(".to-do-due-date").textContent=i,o.querySelector(".to-do-description").textContent=r,o.querySelector(".to-do-notes").textContent=l,n.appendChild(o),o},y=t=>{const e=r.ensureCorrectSubcontainer(t),s=document.createElement("input");return s.classList.add("task-input"),s.setAttribute("type","text"),e.insertBefore(s,e.firstChild),s.focus(),s},L=(t,e)=>{const s=r.getTargetTaskObject(t),n=r.getButtonType(t);let o;n.includes("edit-task-title")?o=s.getTaskTitle():n.includes("edit-task-due-date")?o=s.getTaskDueDate():n.includes("edit-task-description")?o=s.getTaskDescription():n.includes("edit-task-notes")&&(o=s.getTaskNotes()),e.value=o},x=t=>{const e=r.ensureCorrectSubcontainer(t),s=r.getTargetTaskObject(t),n=r.getSubcontainerType(t);let o;if(n.includes("to-do-title-section")){const t=s.getTaskTitle();o=document.createElement("h3"),o.classList.add("to-do-title"),o.textContent=t}else if(n.includes("to-do-due-date-section")){const t=s.getTaskDueDate();o=document.createElement("p"),o.classList.add("to-do-due-date"),o.textContent=t}else if(n.includes("to-do-description-section")){const t=s.getTaskDescription();o=document.createElement("p"),o.classList.add("to-do-description"),o.textContent=t}else if(n.includes("to-do-notes-section")){const t=s.getTaskNotes();o=document.createElement("p"),o.classList.add("to-do-notes"),o.textContent=t}e.insertBefore(o,e.firstChild)},I=t=>{const e=r.ensureCorrectTaskElement(t).querySelector(".to-do-complete-checkbox"),s=r.getTargetTaskObject(t).getCompletedState();e.checked=!!s},q=(t,e)=>{const s=r.ensureCorrectTaskChecklistElement(t),n=r.ensureCorrectTaskElement(t).dataset.taskIndex,o=r.getTargetTaskObject(t).getSpecificChecklistTask(e),c=o.getTaskDescription(),a=o.getCompletedState(),i=document.createElement("div");i.classList.add("checklist-task"),i.dataset.checklistTaskIndex=e,i.innerHTML=`\n            <div class="checklist-complete">\n                <input type="checkbox" id="checklist-${n}-${e}">\n                <label for="checklist-${n}-${e}" class="checklist-task-description">\n                    DESCRIPTION PLACEHOLDER\n                </label>\n            </div>\n            <button class="edit-checklist-task" type="button">\n                <img src="assets/pencil.png" alt="Edit checklist task button">\n            </button>\n            <button class="remove-checklist-task" type="button">\n                <img src="assets/close.png" alt="Edit checklist task button">\n            </button>\n        `,i.querySelector(".checklist-task-description").textContent=c;return i.querySelector(`#checklist-${n}-${e}`).checked=!!a,s.appendChild(i),i},A=()=>{document.querySelector(".add-tab").addEventListener("click",st.addTab)},D=()=>{const t=Array.from(document.querySelectorAll(".edit-tab"));for(const e of t)e.addEventListener("click",st.insertTabInputElement)},O=t=>{t.addEventListener("keydown",st.updateTab)},N=t=>{t.querySelector(".edit-tab").addEventListener("click",st.insertTabInputElement)},w=()=>{const t=Array.from(document.querySelectorAll(".remove-tab"));for(const e of t)e.addEventListener("click",st.removeTab)},j=t=>{t.querySelector(".remove-tab").addEventListener("click",st.removeTab)},P=()=>{const t=Array.from(document.querySelectorAll(".switch-tab"));for(const e of t)e.addEventListener("click",st.switchTab)},R=t=>{t.querySelector(".switch-tab").addEventListener("click",st.switchTab)},B=()=>{document.querySelector(".new-to-do-task").addEventListener("click",st.newTask)},H=()=>{const t=Array.from(document.querySelectorAll(".to-do-remove-task"));for(const e of t)e.addEventListener("click",st.removeTask)},$=t=>{t.querySelector(".to-do-remove-task").addEventListener("click",st.removeTask)},M=()=>{const t=Array.from(document.querySelectorAll(".edit-task"));for(const e of t)e.addEventListener("click",st.insertTaskInputElement)},F=t=>{t.addEventListener("keydown",st.updateTask)},U=t=>{const e=Array.from(t.querySelectorAll(".edit-task"));for(const t of e)t.addEventListener("click",st.insertTaskInputElement)},W=()=>{const t=document.querySelectorAll(".to-do-complete-checkbox");for(const e of t)e.addEventListener("click",st.toggleTaskComplete)},z=t=>{t.querySelector(".to-do-complete-checkbox").addEventListener("click",st.toggleTaskComplete)},G=()=>{const t=document.querySelectorAll(".add-checklist-task");for(const e of t)e.addEventListener("click",st.addNewChecklistTask)},J=t=>{t.querySelector(".add-checklist-task").addEventListener("click",st.addNewChecklistTask)},K=t=>{const e=r.ensureCorrectTabElement(t).dataset.tabIndex;a.removeTask(e)},Q=t=>{const e=r.ensureCorrectTaskElement(t).dataset.taskIndex,s=a.getCurrentTabIndex();a.getSpecificChecklistTask(s).removeTask(e)},V=t=>{const e=r.ensureCorrectTabElement(t);let s=e.querySelector(".switch-tab");e.removeChild(s),s=null},X=t=>{const e=r.ensureCorrectTabElement(t);let s=e.querySelector("input");e.removeChild(s),s=null},Y=t=>{let e=r.ensureCorrectTabElement(t);document.querySelector(".to-do-tab-section").removeChild(e),e=null},Z=()=>{const t=document.querySelector("#current-tab");null!==t&&t.removeAttribute("id")},_=t=>{let e=r.ensureCorrectTaskElement(t);document.querySelector(".to-do-content").removeChild(e),e=null},tt=t=>{const e=r.ensureCorrectSubcontainer(t);let s=e.firstElementChild;e.removeChild(s),s=null},et=t=>{const e=r.ensureCorrectSubcontainer(t);let s=e.querySelector("input");e.removeChild(s),s=null},st={addTab:()=>{const t=i(),e=g(t);if(N(e),j(e),R(e),r.checkIfOnlyOneTab()){const t=u();v(t)}},insertTabInputElement:t=>{if(!r.checkForTabInputElement(t)){const e=C(t);V(t),p(t,e),O(e)}},updateTab:t=>{"Enter"===t.code&&(l(t),h(t),X(t))},removeTab:t=>{if(K(t),Y(t),r.checkIfWasCurrentTab(t)){const t=u();v(t)}},switchTab:t=>{d(t),Z(),f(t)},newTask:()=>{const t=k(),e=S(t);$(e),U(e),z(e),J(e)},removeTask:t=>{Q(t),_(t)},insertTaskInputElement:t=>{if(!r.checkForTaskSubcontainerInputElement(t)){tt(t);const e=y(t);L(t,e),F(e)}},updateTask:t=>{"Enter"===t.code&&(T(t),x(t),et(t))},toggleTaskComplete:t=>{b(t),I(t)},addNewChecklistTask:t=>{const e=m(t);q(t,e)}};let nt=c("Default test");a.addTask(nt);let ot=o("Make Money TEST","Task Due Date","Task Description","Task Notes");console.log(nt.addTask(ot)),A(),D(),w(),console.log(a),console.log(a.getChecklistTasks()),console.log(a.getCurrentTabIndex()),console.log(nt.getChecklistTasks()),console.log(nt.getSpecificChecklistTask(0)),console.log(nt.getSpecificChecklistTask(0).getTaskTitle()),E(0),P(),B(),H(),M(),W(),G()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L0MsRUFBT3dELEdBQ3JEOEIsRUFBbUM5QixFQUN2QyxDQUFDLEVBa0I0QzZDLFdBaEI3QnJHLElBQ0csVUFBZkEsRUFBTWdILE9BQ04vRSxFQUFpRGpDLEdBQ2pEK0MsRUFBaUQvQyxHQUNqRDRHLEdBQTJDNUcsR0FDOUMsRUFXd0R3RyxtQkFUakN4RyxJQUN4QmlDLEVBQWlEakMsR0FDakQrQyxFQUEyQy9DLEVBQU0sRUFPNEIwRyxvQkFMcEQxRyxJQUN6QixNQUFNOEMsRUFBd0JiLEVBQXdEakMsR0FDekQrQyxFQUE4Qy9DLEVBQU84QyxFQUFzQixHQ0toSCxJQUFJb0UsR0FBTzFILEVBQVEsZ0JBY25CQyxFQUFTM0IsUUFBUW9KLElBWWpCLElBQUlDLEdBQVE1SSxFQUFTLGtCQUFtQixnQkFBaUIsbUJBQW9CLGNBQzdFNkksUUFBUUMsSUFBSUgsR0FBS3BKLFFBQVFxSixLQUV6QjdCLElBRUFBLElBQ0FBLElBSUE4QixRQUFRQyxJQUFJNUgsR0FDWjJILFFBQVFDLElBQUk1SCxFQUFTcEIscUJBQ3JCK0ksUUFBUUMsSUFBSTVILEVBQVNFLHNCQUNyQnlILFFBQVFDLElBQUlILEdBQUs3SSxxQkFDakIrSSxRQUFRQyxJQUFJSCxHQUFLNUkseUJBQXlCLElBQzFDOEksUUFBUUMsSUFBSUgsR0FBSzVJLHlCQUF5QixHQUFHdkIsZ0JBRTdDZ0csRUFBNkMsR0FFN0N1QyxJQUVBQSxJQUVBQSxJQUVBQSxJQVNBQSxJQUNBQSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy90aXRsZV9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9kZXNjcmlwdGlvbl9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvdG9kb190YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL2R1ZV9kYXRlX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL25vdGVzX2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9jb21wb25lbnRzL3Bpbm5lZF9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX3RhYl9vYmplY3QuanMiLCJ3ZWJwYWNrOi8vb2Rpbi10b2RvLWxpc3QvLi9zcmMvb2JqZWN0cy90b2RvX2xpc3Rfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvaGVscGVyX2Z1bmN0aW9ucy5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL29iamVjdF9jb250cm9sbGVyX2FkZF9lZGl0X29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2NoZWNrbGlzdF90YXNrX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvZXZlbnRfYXNzaWduZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL29iamVjdHMvb2JqZWN0X2NvbnRyb2xsZXJfcmVtb3ZlX29iamVjdC5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL0RPTV9jb250cm9sbGVyX3JlbW92ZS5qcyIsIndlYnBhY2s6Ly9vZGluLXRvZG8tbGlzdC8uL3NyYy9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0LmpzIiwid2VicGFjazovL29kaW4tdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0LCBpbml0aWFsVGl0bGUpID0+IHtcbiAgICBsZXQgdGl0bGUgPSBpbml0aWFsVGl0bGU7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGdldFRhc2tUaXRsZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza1RpdGxlKG5ld1RpdGxlKSB7XG4gICAgICAgICAgICB0aXRsZSA9IG5ld1RpdGxlO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG5leHBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0iLCJjb25zdCBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCwgaW5pdGlhbERlc2NyaXB0aW9uKSA9PiB7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gaW5pdGlhbERlc2NyaXB0aW9uO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKG9iamVjdCwge1xuICAgICAgICBnZXRUYXNrRGVzY3JpcHRpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldFRhc2tEZXNjcmlwdGlvbihuZXdEZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBuZXdEZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IiwiLy8gb3JpZ2luYWwgd2hlcmUgYWxsIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZ2V0IHJldHVybmVkLCBzbyBubyBwcml2YXRlIGZpZWxkcyAoY29tcGxldGVkIHNob3VsZCBiZSBwcml2YXRlKVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2FuQ29tcGxldGUgPSAob2JqZWN0KSA9PiAoe1xuLy8gICAgIGNvbXBsZXRlZDogZmFsc2UsXG4vLyAgICAgdG9nZ2xlOiAoKSA9PiB7XG4vLyAgICAgICAgIGlmIChvYmplY3QuY29tcGxldGVkKSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gZmFsc2U7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgICAgICBvYmplY3QuY29tcGxldGVkID0gdHJ1ZTtcbi8vICAgICAgICAgfTtcbi8vICAgICB9LFxuLy8gICAgIGdldENvbXBsZXRlZFN0YXRlOiAoKSA9PiB7XG4vLyAgICAgICAgIHJldHVybiBvYmplY3QuY29tcGxldGVkXG4vLyAgICAgfVxuLy8gfSk7XG5cbmNvbnN0IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCkgPT4ge1xuICAgIGxldCBjb21wbGV0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlQ29tcGxldGVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAoY29tcGxldGVkKSB7XG4gICAgICAgICAgICAgICAgY29tcGxldGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRDb21wbGV0ZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiY29uc3QgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgPSAob2JqZWN0KSA9PiB7XG4gICAgbGV0IGNoZWNrbGlzdCA9IFtdO1xuICAgIGNvbnN0IGdldFRhc2tJbmRleCA9ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGNoZWNrbGlzdC5sZW5ndGggLSAxO1xuICAgIH07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ob2JqZWN0LCB7XG4gICAgICAgIGFkZFRhc2sodGFzaykge1xuICAgICAgICAgICAgY2hlY2tsaXN0LnB1c2godGFzayk7XG4gICAgICAgICAgICAvLyByZXR1cm4gY2hlY2tsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgICAgICByZXR1cm4gZ2V0VGFza0luZGV4KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVRhc2soaW5kZXgpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFtpbmRleF0gPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGdldENoZWNrbGlzdFRhc2tzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrbGlzdDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gY2hlY2tsaXN0W2luZGV4XTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfTsiLCJpbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9kdWVfZGF0ZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9ub3Rlc19jb21wb25lbnRcIjtcbi8vIGltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0QmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3Bpbm5lZF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29tcGxldGVkX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RUYXNrQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuY29uc3QgdG9Eb1Rhc2sgPSAodGl0bGUsIGR1ZURhdGUsIGRlc2NyaXB0aW9uLCBub3RlcykgPT4ge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgdGl0bGVCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIHRpdGxlKSwgXG4gICAgICAgIGRlc2NyaXB0aW9uQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCBkZXNjcmlwdGlvbiksXG4gICAgICAgIGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGR1ZURhdGUpLFxuICAgICAgICBub3Rlc0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdCwgbm90ZXMpLFxuICAgICAgICAvLyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgICAgIHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgICAgIGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50KG9iamVjdCksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFzayB9OyIsImNvbnN0IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxEdWVEYXRlKSA9PiB7XG4gICAgbGV0IGR1ZURhdGUgPSBpbml0aWFsRHVlRGF0ZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza0R1ZURhdGUoKSB7XG4gICAgICAgICAgICByZXR1cm4gZHVlRGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VGFza0R1ZURhdGUobmV3RHVlRGF0ZSkge1xuICAgICAgICAgICAgZHVlRGF0ZSA9IG5ld0R1ZURhdGU7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IGR1ZURhdGVCZWhhdmlvckNvbXBvbmVudCB9IiwiY29uc3Qgbm90ZXNCZWhhdmlvckNvbXBvbmVudCA9IChvYmplY3QsIGluaXRpYWxOb3RlcykgPT4ge1xuICAgIGxldCBub3RlcyA9IGluaXRpYWxOb3RlcztcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgZ2V0VGFza05vdGVzKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vdGVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXRUYXNrTm90ZXMobmV3Tm90ZXMpIHtcbiAgICAgICAgICAgIG5vdGVzID0gbmV3Tm90ZXM7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IG5vdGVzQmVoYXZpb3JDb21wb25lbnQgfSIsImNvbnN0IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50ID0gKG9iamVjdCkgPT4ge1xuICAgIGxldCBwaW5uZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihvYmplY3QsIHtcbiAgICAgICAgdG9nZ2xlUGlubmVkU3RhdGUoKSB7XG4gICAgICAgICAgICBpZiAocGlubmVkKSB7XG4gICAgICAgICAgICAgICAgcGlubmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBpbm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBnZXRQaW5uZWRTdGF0ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBwaW5uZWQ7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbmV4cG9ydCB7IHBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IH07IiwiaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL3RpdGxlX2NvbXBvbmVudFwiO1xuLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9UYWIgPSAodGl0bGUpID0+IHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgT2JqZWN0LmFzc2lnbihvYmplY3QsXG4gICAgICAgIHRpdGxlQmVoYXZpb3JDb21wb25lbnQob2JqZWN0LCB0aXRsZSksXG4gICAgICAgIGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50KG9iamVjdClcbiAgICApO1xuICAgIHJldHVybiBvYmplY3Q7XG59O1xuXG5leHBvcnQgeyB0b0RvVGFiIH07IiwiLy8gaW1wb3J0IHsgY29udGFpbnNDaGVja2xpc3RCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5cbmNvbnN0IHRvRG9MaXN0ID0gKCgpID0+IHtcbiAgICBsZXQgY3VycmVudFRhYiA9IDA7XG4gICAgY29uc3QgZ2V0Q3VycmVudFRhYkluZGV4ID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gY3VycmVudFRhYjtcbiAgICB9O1xuICAgIGNvbnN0IHNldEN1cnJlbnRUYWJJbmRleCA9IChuZXdDdXJyZW50VGFiKSA9PiB7XG4gICAgICAgIGN1cnJlbnRUYWIgPSBuZXdDdXJyZW50VGFiO1xuICAgIH07XG4gICAgbGV0IG9iamVjdCA9IHtcbiAgICAgICAgZ2V0Q3VycmVudFRhYkluZGV4LFxuICAgICAgICBzZXRDdXJyZW50VGFiSW5kZXhcbiAgICB9O1xuICAgIE9iamVjdC5hc3NpZ24ob2JqZWN0LFxuICAgICAgICBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudChvYmplY3QpLFxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn0pKCk7XG5cbmV4cG9ydCB7IHRvRG9MaXN0IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5cbmNvbnN0IGhlbHBlckZ1bmN0aW9ucyA9ICgoKSA9PiB7XG4gICAgY29uc3QgZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhYkVsZW1lbnQgPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgd2hpbGUgKHRhYkVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgIT09IFwidGFiLXRpdGxlXCIpIHtcbiAgICAgICAgICAgIHRhYkVsZW1lbnQgPSB0YWJFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0YWJFbGVtZW50O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tGb3JUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGVuc3VyZUNvcnJlY3RUYWJFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgaWYgKHRhYkVsZW1lbnQuZmlyc3RFbGVtZW50Q2hpbGQudGFnTmFtZSA9PT0gXCJJTlBVVFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrSWZXYXNDdXJyZW50VGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGlmICh0YWJFbGVtZW50LmdldEF0dHJpYnV0ZShcImlkXCIpID09PSBcImN1cnJlbnQtdGFiXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgY2hlY2tJZk9ubHlPbmVUYWIgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgdG9Eb1RhYnMgPSBBcnJheS5mcm9tKHRvRG9UYWJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiLXRpdGxlXCIpKTtcbiAgICAgICAgaWYgKHRvRG9UYWJzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tFbGVtZW50ID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIHdoaWxlICh0YXNrRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSAhPT0gXCJ0by1kby10YXNrXCIpIHtcbiAgICAgICAgICAgIHRhc2tFbGVtZW50ID0gdGFza0VsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRhc2tFbGVtZW50O1xuICAgIH1cbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGFpbmVyID0gZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgIGxldCBjbGFzc0xpc3QgPSBBcnJheS5mcm9tKHRhc2tTdWJjb250YWluZXIuY2xhc3NMaXN0KVxuICAgICAgICB3aGlsZSAoIWNsYXNzTGlzdC5pbmNsdWRlcyhcInRvLWRvLXRhc2stc3ViY29udGFpbmVyXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGFpbmVyID0gdGFza1N1YmNvbnRhaW5lci5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgY2xhc3NMaXN0ID0gQXJyYXkuZnJvbSh0YXNrU3ViY29udGFpbmVyLmNsYXNzTGlzdClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGFza1N1YmNvbnRhaW5lcjtcbiAgICB9O1xuICAgIGNvbnN0IGNoZWNrRm9yVGFza1N1YmNvbnRhaW5lcklucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGlmICh0YXNrU3ViY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkLnRhZ05hbWUgPT09IFwiSU5QVVRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBnZXRUYXJnZXRUYXNrT2JqZWN0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tFbGVtZW50ID0gZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGN1cnJlbnRUYWJPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRhc2tPYmplY3Q7XG4gICAgfTtcbiAgICBjb25zdCBlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgYnV0dG9uRWxlbWVudCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgd2hpbGUgKGJ1dHRvbkVsZW1lbnQudGFnTmFtZSAhPT0gXCJCVVRUT05cIikge1xuICAgICAgICAgICAgYnV0dG9uRWxlbWVudCA9IGJ1dHRvbkVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XG4gICAgfTtcbiAgICBjb25zdCBnZXRCdXR0b25UeXBlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvbkNsYXNzZXMgPSBBcnJheS5mcm9tKGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0KTtcbiAgICAgICAgcmV0dXJuIGJ1dHRvbkNsYXNzZXM7XG4gICAgfTtcbiAgICBjb25zdCBnZXRTdWJjb250YWluZXJUeXBlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgY29uc3Qgc3ViY29udGFpbmVyQ2xhc3NlcyA9IEFycmF5LmZyb20odGFza1N1YmNvbnRhaW5lci5jbGFzc0xpc3QpO1xuICAgICAgICByZXR1cm4gc3ViY29udGFpbmVyQ2xhc3NlcztcbiAgICB9O1xuICAgIGNvbnN0IGVuc3VyZUNvcnJlY3RUYXNrQ2hlY2tsaXN0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBsZXQgdGFza0NoZWNrbGlzdEVsZW1lbnQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHdoaWxlICh0YXNrQ2hlY2tsaXN0RWxlbWVudC50YWdOYW1lICE9PSBcIkZPUk1cIikge1xuICAgICAgICAgICAgdGFza0NoZWNrbGlzdEVsZW1lbnQgPSB0YXNrQ2hlY2tsaXN0RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGFza0NoZWNrbGlzdEVsZW1lbnQ7XG4gICAgfTtcbiAgICByZXR1cm4geyBlbnN1cmVDb3JyZWN0VGFiRWxlbWVudCwgY2hlY2tGb3JUYWJJbnB1dEVsZW1lbnQsIGNoZWNrSWZXYXNDdXJyZW50VGFiLFxuICAgICAgICBjaGVja0lmT25seU9uZVRhYiwgZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50LCBlbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyLFxuICAgICAgICBjaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQsIGdldFRhcmdldFRhc2tPYmplY3QsIGVuc3VyZUNvcnJlY3RCdXR0b25FbGVtZW50LFxuICAgICAgICBnZXRCdXR0b25UeXBlLCBnZXRTdWJjb250YWluZXJUeXBlLCBlbnN1cmVDb3JyZWN0VGFza0NoZWNrbGlzdEVsZW1lbnQsIH07XG59KSgpO1xuXG5leHBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfTsiLCJpbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL3RvZG9fbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IHRvRG9UYWIgfSBmcm9tIFwiLi90b2RvX3RhYl9vYmplY3RcIjtcbmltcG9ydCB7IHRpdGxlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy90aXRsZV9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvY29udGFpbnNfY2hlY2tsaXN0X3Rhc2tfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyB0b0RvVGFzayB9IGZyb20gXCIuL3RvZG9fdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGNoZWNrbGlzdFRhc2tPYmplY3QgfSBmcm9tIFwiLi9jaGVja2xpc3RfdGFza19vYmplY3RcIjtcblxuY29uc3Qgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGFkZE5ld1RhYlRvVG9kb0FycmF5ID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYWIgPSB0b0RvVGFiKFwiTmV3IFRhYlwiKTtcbiAgICAgICAgcmV0dXJuIHRvRG9MaXN0LmFkZFRhc2sobmV3VGFiKTtcbiAgICB9XG4gICAgY29uc3QgZWRpdFRhYk5hbWUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICBjb25zdCB0YXJnZXRUYWIgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICB0YXJnZXRUYWIuc2V0VGFza1RpdGxlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZUN1cnJlbnRUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q3VycmVudFRhYiA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbmV3Q3VycmVudFRhYi5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgoaW5kZXgpXG4gICAgfVxuICAgIGNvbnN0IHNldEZpcnN0VGFiVG9DdXJyZW50VGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJBcnJheSA9IHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCk7XG4gICAgICAgIGxldCBmaXJzdFRhYiA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCB0YWIgaW4gdGFiQXJyYXkpIHtcbiAgICAgICAgICAgIGlmICh0YWJBcnJheVt0YWJdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0b0RvTGlzdC5zZXRDdXJyZW50VGFiSW5kZXgodGFiKTtcbiAgICAgICAgICAgICAgICBmaXJzdFRhYiA9IHRhYjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlyc3RUYWI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IGFkZE5ld1Rhc2tUb1RhYiA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWIgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgY29uc3QgbmV3VGFzayA9IHRvRG9UYXNrKFwiTmV3IFRhc2tcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IGN1cnJlbnRUYWIuYWRkVGFzayhuZXdUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld1Rhc2tJbmRleDtcbiAgICB9O1xuICAgIGNvbnN0IGVkaXRUYXNrT2JqZWN0SW5mbyA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICBjb25zdCBuZXdUYXNrVGl0bGVWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lclR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0U3ViY29udGFpbmVyVHlwZShldmVudCk7XG4gICAgICAgIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLXRpdGxlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIHJldHVybiB0YXNrT2JqZWN0LnNldFRhc2tUaXRsZShuZXdUYXNrVGl0bGVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kdWUtZGF0ZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iamVjdC5zZXRUYXNrRHVlRGF0ZShuZXdUYXNrVGl0bGVWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGFza09iamVjdC5zZXRUYXNrRGVzY3JpcHRpb24obmV3VGFza1RpdGxlVmFsdWUpO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tbm90ZXMtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRhc2tPYmplY3Quc2V0VGFza05vdGVzKG5ld1Rhc2tUaXRsZVZhbHVlKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrT2JqZWN0ID0gaGVscGVyRnVuY3Rpb25zLmdldFRhcmdldFRhc2tPYmplY3QoZXZlbnQpO1xuICAgICAgICB0YXNrT2JqZWN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2sgPSBjaGVja2xpc3RUYXNrT2JqZWN0KFwiQ2hlY2tsaXN0IFRhc2sgRGVzY3JpcHRpb25cIik7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tJbmRleCA9IHRhc2tPYmplY3QuYWRkVGFzayhuZXdDaGVja2xpc3RUYXNrKTtcbiAgICAgICAgcmV0dXJuIG5ld0NoZWNrbGlzdFRhc2tJbmRleFxuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiVG9Ub2RvQXJyYXksIGVkaXRUYWJOYW1lLCB1cGRhdGVDdXJyZW50VGFiLCBzZXRGaXJzdFRhYlRvQ3VycmVudFRhYixcbiAgICAgICAgYWRkTmV3VGFza1RvVGFiLCBlZGl0VGFza09iamVjdEluZm8sIHRvZ2dsZVRhc2tDb21wbGV0ZSwgYWRkTmV3Q2hlY2tsaXN0VGFza1RvVGFzaywgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0IH07IiwiaW1wb3J0IHsgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2Rlc2NyaXB0aW9uX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIG9yaWdpbmFsIHdoZXJlIG9iamVjdCB3b3VsZCBuZWVkIHRvIGhhdmUgT2JqZWN0LmFzc2lnbigpIGZvciBldmVyeSBpbnN0YW5jZVxuLy8ga2VlcGluZyBmb3IgcG9zdGVyaXR5LCBwcm9iYWJseSB3aWxsIGRlbGV0ZWQgYXQgdGhlIGVuZFxuLy8gY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbikgPT4ge1xuICAgIC8vIGNvbnN0IGdldFRhc2tEZXNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIC8vIH07XG4gICAgLy8gY29uc3Qgc2V0VGFza0Rlc2NyaXB0aW9uID0gKG5ld0Rlc2NyaXB0aW9uKSA9PiB7XG4gICAgLy8gICAgIGRlc2NyaXB0aW9uID0gbmV3RGVzY3JpcHRpb247XG4gICAgLy8gfTtcbi8vICAgICByZXR1cm4geyBnZXRUYXNrRGVzY3JpcHRpb24sIHNldFRhc2tEZXNjcmlwdGlvbiB9O1xuLy8gfTtcblxuY29uc3QgY2hlY2tsaXN0VGFza09iamVjdCA9IChkZXNjcmlwdGlvbikgPT4ge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBPYmplY3QuYXNzaWduKG9iamVjdCxcbiAgICAgICAgZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudChvYmplY3QsIGRlc2NyaXB0aW9uKSxcbiAgICAgICAgY29tcGxldGVkQmVoYXZpb3JDb21wb25lbnQob2JqZWN0KVxuICAgICk7XG4gICAgcmV0dXJuIG9iamVjdDtcbn1cblxuZXhwb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9OyIsImltcG9ydCB7IHRvRG9MaXN0IH0gZnJvbSBcIi4vdG9kb19saXN0X29iamVjdFwiO1xuaW1wb3J0IHsgdG9Eb1RhYiB9IGZyb20gXCIuL3RvZG9fdGFiX29iamVjdFwiO1xuaW1wb3J0IHsgaGVscGVyRnVuY3Rpb25zIH0gZnJvbSBcIi4vaGVscGVyX2Z1bmN0aW9uc1wiO1xuXG5jb25zdCBET01Db250cm9sbGVyQWRkRWRpdCA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkTmV3VGFiVG9ET00gPSAoaW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IG5ld1RhYk5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBjb25zdCBuZXdUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdUYWJPYmplY3RUaXRsZSA9IG5ld1RhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgbmV3VGFiTm9kZS5jbGFzc0xpc3QuYWRkKFwidGFiLXRpdGxlXCIpO1xuICAgICAgICBuZXdUYWJOb2RlLmRhdGFzZXQudGFiSW5kZXggPSBpbmRleDtcbiAgICAgICAgbmV3VGFiTm9kZS5pbm5lckhUTUwgPSBgXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic3dpdGNoLXRhYlwiPlxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cInRhYi1uYW1lXCI+VEFCIE5BTUUgUExBQ0VIT0xERVI8L2gyPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YWIgbmFtZSBidXR0b25cIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInJlbW92ZS10YWJcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9jbG9zZS5wbmdcIiBhbHQ9XCJSZW1vdmUgdGFiIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIGA7XG4gICAgICAgIGNvbnN0IHRhYk5hbWVET00gPSBuZXdUYWJOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIudGFiLW5hbWVcIik7XG4gICAgICAgIHRhYk5hbWVET00udGV4dENvbnRlbnQgPSBuZXdUYWJPYmplY3RUaXRsZTtcbiAgICAgICAgdG9Eb1RhYlNlY3Rpb24uaW5zZXJ0QmVmb3JlKG5ld1RhYk5vZGUsIGFkZFRhYkJ1dHRvbik7XG4gICAgICAgIHJldHVybiBuZXdUYWJOb2RlO1xuICAgIH1cbiAgICBjb25zdCBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSA9IChldmVudCwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRhYkVsZW1lbnQuZGF0YXNldC50YWJJbmRleDtcbiAgICAgICAgY29uc3QgdGFiT2JqZWN0ID0gdG9Eb0xpc3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKGluZGV4KTtcbiAgICAgICAgY29uc3QgdGFiTmFtZSA9IHRhYk9iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gdGFiTmFtZTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwidGFiLW5hbWUtaW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgdGFiRWxlbWVudC5pbnNlcnRCZWZvcmUoaW5wdXRFbGVtZW50LCB0YWJFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiTmFtZUVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICBjb25zdCB0YWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCB0YWJOYW1lID0gdGFiT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICBjb25zdCB0YWJCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICB0YWJCdXR0b24uY2xhc3NMaXN0LmFkZChcInN3aXRjaC10YWJcIik7XG4gICAgICAgIGNvbnN0IHRhYkJ1dHRvbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG4gICAgICAgIHRhYkJ1dHRvbk5hbWUudGV4dENvbnRlbnQgPSB0YWJOYW1lO1xuICAgICAgICB0YWJCdXR0b24uYXBwZW5kQ2hpbGQodGFiQnV0dG9uTmFtZSk7XG4gICAgICAgIHRhYkVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRhYkJ1dHRvbiwgdGFiRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9O1xuICAgIGNvbnN0IHNldERlZmF1bHRDdXJyZW50VGFiRE9NID0gKGluZGV4KSA9PiB7XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IHRvRG9UYWJTZWN0aW9uLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXRhYi1pbmRleD0nJHtpbmRleH0nXWApO1xuICAgICAgICBjdXJyZW50VGFiLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY3VycmVudC10YWJcIik7XG4gICAgfTtcbiAgICBjb25zdCBzZXRDdXJyZW50VGFiRE9NID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0N1cnJlbnRUYWIgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBuZXdDdXJyZW50VGFiLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY3VycmVudC10YWJcIik7XG4gICAgfVxuICAgIGNvbnN0IHNldEZpcnN0VGFiVG9DdXJyZW50VGFiID0gKGZpcnN0VGFiSW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGZpcnN0VGFiSW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvRG9UYWJTZWN0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby10YWItc2VjdGlvblwiKTtcbiAgICAgICAgY29uc3QgZmlyc3RUYWIgPSB0b0RvVGFiU2VjdGlvbi5xdWVyeVNlbGVjdG9yKGBbZGF0YS10YWItaW5kZXg9JyR7Zmlyc3RUYWJJbmRleH0nXWApXG4gICAgICAgIGZpcnN0VGFiLnNldEF0dHJpYnV0ZShcImlkXCIsIFwiY3VycmVudC10YWJcIik7XG4gICAgfVxuICAgIGNvbnN0IGFkZE5ld1Rhc2tUb0RPTSA9IChpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50VGFiSW5kZXggPSB0b0RvTGlzdC5nZXRDdXJyZW50VGFiSW5kZXgoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYk9iamVjdCA9IHRvRG9MaXN0LmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzayhjdXJyZW50VGFiSW5kZXgpO1xuICAgICAgICBjb25zdCBuZXdUYXNrT2JqZWN0ID0gY3VycmVudFRhYk9iamVjdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soaW5kZXgpO1xuICAgICAgICBjb25zdCB0b0RvQ29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgY29uc3QgbmV3VGFza05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBuZXdUYXNrTm9kZS5jbGFzc0xpc3QuYWRkKFwidG8tZG8tdGFza1wiKTtcbiAgICAgICAgbmV3VGFza05vZGUuZGF0YXNldC50YXNrSW5kZXggPSBpbmRleDtcbiAgICAgICAgY29uc3QgbmV3VGFza1RpdGxlID0gbmV3VGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0Rlc2NyaXB0aW9uID0gbmV3VGFza09iamVjdC5nZXRUYXNrRGVzY3JpcHRpb24oKTtcbiAgICAgICAgY29uc3QgbmV3VGFza0R1ZURhdGUgPSBuZXdUYXNrT2JqZWN0LmdldFRhc2tEdWVEYXRlKCk7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tOb3RlcyA9IG5ld1Rhc2tPYmplY3QuZ2V0VGFza05vdGVzKCk7XG4gICAgICAgIG5ld1Rhc2tOb2RlLmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby10YXNrLW92ZXJ2aWV3XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLXRpdGxlLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwidG8tZG8tdGl0bGVcIj5USVRMRSBQTEFDRUhPTERFUjwvaDM+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby1waW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiLi9hc3NldHMvcGluLW91dGxpbmUucG5nXCIgYWx0PVwiUGluIHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZWRpdC10YXNrLXRpdGxlIGVkaXQtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayB0aXRsZSBidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0by1kby1yZW1vdmUtdGFza1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvY2xvc2UucG5nXCIgYWx0PVwiUmVtb3ZlIHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1jb21wbGV0ZS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0by1kby1jb21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIgY2xhc3M9XCJ0by1kby1jb21wbGV0ZS1sYWJlbFwiPkNvbXBsZXRlZDo8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJcIiBjbGFzcz1cInRvLWRvLWNvbXBsZXRlLWNoZWNrYm94XCIgaWQ9XCJ0by1kby1jb21wbGV0ZS1jaGVja2JveFwiPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInRvLWRvLXRhc2stY2hhbmdlLWRpc3BsYXlcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2NoZXZyb24tZG93bi5wbmdcIiBhbHQ9XCJDaGFuZ2UgdGFzayBkaXNwbGF5IGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG8tZG8tZHVlLWRhdGUtc2VjdGlvbiB0by1kby10YXNrLXN1YmNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRvLWRvLWR1ZS1kYXRlXCI+RFVFIERBVEUgUExBQ0VIT0xERVI8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LXRhc2stZHVlLWRhdGUgZWRpdC10YXNrXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cImFzc2V0cy9wZW5jaWwucG5nXCIgYWx0PVwiRWRpdCB0YXNrIGR1ZSBkYXRlIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLWRlc2NyaXB0aW9uLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRvLWRvLWRlc2NyaXB0aW9uXCI+REVTQ1JJUFRJT04gUExBQ0VIT0xERVI8L3A+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1kZXNjcmlwdGlvbiBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayBkZXNjcmlwdGlvbiBidXR0b25cIj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRvLWRvLW5vdGVzLXNlY3Rpb24gdG8tZG8tdGFzay1zdWJjb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInRvLWRvLW5vdGVzXCI+Tk9URVMgUExBQ0VIT0xERVI8L3A+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImVkaXQtdGFzay1ub3RlcyBlZGl0LXRhc2tcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCJhc3NldHMvcGVuY2lsLnBuZ1wiIGFsdD1cIkVkaXQgdGFzayBub3RlcyBidXR0b25cIj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGZvcm0gYWN0aW9uPVwiXCIgY2xhc3M9XCJ0YXNrLWNoZWNrbGlzdFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGVja2xpc3QtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxsZWdlbmQgY2xhc3M9XCJjaGVja2xpc3QtbGFiZWxcIj5DaGVja2xpc3Q8L2xlZ2VuZD5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImFkZC1jaGVja2xpc3QtdGFza1wiIHR5cGU9XCJidXR0b25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BsdXMucG5nXCIgYWx0PVwiQWRkIGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZm9ybT5cbiAgICAgICAgYDtcbiAgICAgICAgY29uc3QgdGl0bGVET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLXRpdGxlXCIpO1xuICAgICAgICB0aXRsZURPTS50ZXh0Q29udGVudCA9IG5ld1Rhc2tUaXRsZTtcbiAgICAgICAgY29uc3QgZHVlRGF0ZURPTSA9IG5ld1Rhc2tOb2RlLnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tZHVlLWRhdGVcIik7XG4gICAgICAgIGR1ZURhdGVET00udGV4dENvbnRlbnQgPSBuZXdUYXNrRHVlRGF0ZTtcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb25ET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICBkZXNjcmlwdGlvbkRPTS50ZXh0Q29udGVudCA9IG5ld1Rhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY29uc3Qgbm90ZXNET00gPSBuZXdUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKFwiLnRvLWRvLW5vdGVzXCIpO1xuICAgICAgICBub3Rlc0RPTS50ZXh0Q29udGVudCA9IG5ld1Rhc2tOb3RlcztcbiAgICAgICAgdG9Eb0NvbnRlbnQuYXBwZW5kQ2hpbGQobmV3VGFza05vZGUpO1xuICAgICAgICByZXR1cm4gbmV3VGFza05vZGU7XG4gICAgfVxuICAgIGNvbnN0IGluc2VydFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1N1YmNvbnRhaW5lciA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0U3ViY29udGFpbmVyKGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRhc2staW5wdXRcIik7XG4gICAgICAgIGlucHV0RWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lci5pbnNlcnRCZWZvcmUoaW5wdXRFbGVtZW50LCB0YXNrU3ViY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgcmV0dXJuIGlucHV0RWxlbWVudDtcbiAgICB9O1xuICAgIGNvbnN0IHNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSA9IChldmVudCwgaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IGJ1dHRvblR5cGUgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0QnV0dG9uVHlwZShldmVudCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGJ1dHRvblR5cGUuaW5jbHVkZXMoXCJlZGl0LXRhc2stdGl0bGVcIikpIHtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50ID0gdGFza09iamVjdC5nZXRUYXNrVGl0bGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlLmluY2x1ZGVzKFwiZWRpdC10YXNrLWR1ZS1kYXRlXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudCA9IHRhc2tPYmplY3QuZ2V0VGFza0R1ZURhdGUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChidXR0b25UeXBlLmluY2x1ZGVzKFwiZWRpdC10YXNrLWRlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudCA9IHRhc2tPYmplY3QuZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoYnV0dG9uVHlwZS5pbmNsdWRlcyhcImVkaXQtdGFzay1ub3Rlc1wiKSkge1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnQgPSB0YXNrT2JqZWN0LmdldFRhc2tOb3RlcygpO1xuICAgICAgICB9O1xuICAgICAgICBpbnB1dEVsZW1lbnQudmFsdWUgPSB0YXNrU3ViY29udGVudDtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXJUeXBlID0gaGVscGVyRnVuY3Rpb25zLmdldFN1YmNvbnRhaW5lclR5cGUoZXZlbnQpO1xuICAgICAgICBsZXQgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby10aXRsZS1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrVGl0bGUgPSB0YXNrT2JqZWN0LmdldFRhc2tUaXRsZSgpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby10aXRsZVwiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IHRhc2tUaXRsZTtcbiAgICAgICAgfSBlbHNlIGlmICh0YXNrU3ViY29udGFpbmVyVHlwZS5pbmNsdWRlcyhcInRvLWRvLWR1ZS1kYXRlLXNlY3Rpb25cIikpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tEdWVEYXRlID0gdGFza09iamVjdC5nZXRUYXNrRHVlRGF0ZSgpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLWR1ZS1kYXRlXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gdGFza0R1ZURhdGU7XG4gICAgICAgIH0gZWxzZSBpZiAodGFza1N1YmNvbnRhaW5lclR5cGUuaW5jbHVkZXMoXCJ0by1kby1kZXNjcmlwdGlvbi1zZWN0aW9uXCIpKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSB0YXNrT2JqZWN0LmdldFRhc2tEZXNjcmlwdGlvbigpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICB0YXNrU3ViY29udGVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInRvLWRvLWRlc2NyaXB0aW9uXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LnRleHRDb250ZW50ID0gdGFza0Rlc2NyaXB0aW9uO1xuICAgICAgICB9IGVsc2UgaWYgKHRhc2tTdWJjb250YWluZXJUeXBlLmluY2x1ZGVzKFwidG8tZG8tbm90ZXMtc2VjdGlvblwiKSkge1xuICAgICAgICAgICAgY29uc3QgdGFza05vdGVzID0gdGFza09iamVjdC5nZXRUYXNrTm90ZXMoKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgICAgICAgICAgdGFza1N1YmNvbnRlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJ0by1kby1ub3Rlc1wiKTtcbiAgICAgICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudC50ZXh0Q29udGVudCA9IHRhc2tOb3RlcztcbiAgICAgICAgfTtcbiAgICAgICAgdGFza1N1YmNvbnRhaW5lci5pbnNlcnRCZWZvcmUodGFza1N1YmNvbnRlbnRFbGVtZW50LCB0YXNrU3ViY29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBjb25zdCB0b2dnbGVUYXNrRE9NQ29tcGxldGUgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgY29tcGxldGVDaGVja2JveCA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29tcGxldGUtY2hlY2tib3hcIik7XG4gICAgICAgIGNvbnN0IHRhc2tPYmplY3QgPSBoZWxwZXJGdW5jdGlvbnMuZ2V0VGFyZ2V0VGFza09iamVjdChldmVudCk7XG4gICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZWRTdGF0ZWQgPSB0YXNrT2JqZWN0LmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgIGlmICh0YXNrQ29tcGxldGVkU3RhdGVkKSB7XG4gICAgICAgICAgICBjb21wbGV0ZUNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcGxldGVDaGVja2JveC5jaGVja2VkID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrVG9ET00gPSAoZXZlbnQsIG5ld0NoZWNrbGlzdFRhc2tJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrQ2hlY2tsaXN0RWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFza0NoZWNrbGlzdEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0YXNrSW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgdGFza09iamVjdCA9IGhlbHBlckZ1bmN0aW9ucy5nZXRUYXJnZXRUYXNrT2JqZWN0KGV2ZW50KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFzayA9IHRhc2tPYmplY3QuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKG5ld0NoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbiA9IG5ld0NoZWNrbGlzdFRhc2suZ2V0VGFza0Rlc2NyaXB0aW9uKCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tDb21wbGV0ZWQgPSBuZXdDaGVja2xpc3RUYXNrLmdldENvbXBsZXRlZFN0YXRlKCk7XG4gICAgICAgIGNvbnN0IG5ld0NoZWNrbGlzdFRhc2tOb2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgbmV3Q2hlY2tsaXN0VGFza05vZGUuY2xhc3NMaXN0LmFkZChcImNoZWNrbGlzdC10YXNrXCIpO1xuICAgICAgICBuZXdDaGVja2xpc3RUYXNrTm9kZS5kYXRhc2V0LmNoZWNrbGlzdFRhc2tJbmRleCA9IG5ld0NoZWNrbGlzdFRhc2tJbmRleDtcbiAgICAgICAgbmV3Q2hlY2tsaXN0VGFza05vZGUuaW5uZXJIVE1MID0gYFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrbGlzdC1jb21wbGV0ZVwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImNoZWNrbGlzdC0ke3Rhc2tJbmRleH0tJHtuZXdDaGVja2xpc3RUYXNrSW5kZXh9XCIgY2xhc3M9XCJjaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBERVNDUklQVElPTiBQTEFDRUhPTERFUlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJlZGl0LWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL3BlbmNpbC5wbmdcIiBhbHQ9XCJFZGl0IGNoZWNrbGlzdCB0YXNrIGJ1dHRvblwiPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicmVtb3ZlLWNoZWNrbGlzdC10YXNrXCIgdHlwZT1cImJ1dHRvblwiPlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiYXNzZXRzL2Nsb3NlLnBuZ1wiIGFsdD1cIkVkaXQgY2hlY2tsaXN0IHRhc2sgYnV0dG9uXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgYFxuICAgICAgICBjb25zdCBjaGVja2xpc3RUYXNrRGVzY3JpcHRpb25FbGVtZW50ID0gbmV3Q2hlY2tsaXN0VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi5jaGVja2xpc3QtdGFzay1kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgY2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IG5ld0NoZWNrbGlzdFRhc2tEZXNjcmlwdGlvbjtcbiAgICAgICAgY29uc3QgY2hlY2tsaXN0VGFza0NvbXBsZXRlZEVsZW1lbnQgPSBuZXdDaGVja2xpc3RUYXNrTm9kZS5xdWVyeVNlbGVjdG9yKGAjY2hlY2tsaXN0LSR7dGFza0luZGV4fS0ke25ld0NoZWNrbGlzdFRhc2tJbmRleH1gKTtcbiAgICAgICAgaWYgKG5ld0NoZWNrbGlzdFRhc2tDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIGNoZWNrbGlzdFRhc2tDb21wbGV0ZWRFbGVtZW50LmNoZWNrZWQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tsaXN0VGFza0NvbXBsZXRlZEVsZW1lbnQuY2hlY2tlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgICB0YXNrQ2hlY2tsaXN0RWxlbWVudC5hcHBlbmRDaGlsZChuZXdDaGVja2xpc3RUYXNrTm9kZSk7XG4gICAgICAgIHJldHVybiBuZXdDaGVja2xpc3RUYXNrTm9kZTtcbiAgICB9O1xuICAgIHJldHVybiB7IGFkZE5ld1RhYlRvRE9NLCBzZXRUYWJJbnB1dEVsZW1lbnRWYWx1ZSxcbiAgICAgICAgaW5zZXJ0VGFiSW5wdXRFbGVtZW50LCBpbnNlcnRUYWJOYW1lRWxlbWVudCwgc2V0RGVmYXVsdEN1cnJlbnRUYWJET00sXG4gICAgICAgIHNldEN1cnJlbnRUYWJET00sIHNldEZpcnN0VGFiVG9DdXJyZW50VGFiLCBhZGROZXdUYXNrVG9ET00sXG4gICAgICAgIGluc2VydFRhc2tJbnB1dEVsZW1lbnQsIHNldFRhc2tJbnB1dEVsZW1lbnRWYWx1ZSwgaW5zZXJ0VGFza1N1YmNvbnRlbnRFbGVtZW50LFxuICAgICAgICB0b2dnbGVUYXNrRE9NQ29tcGxldGUsIGFkZE5ld0NoZWNrbGlzdFRhc2tUb0RPTSwgfTtcbn0pKCk7XG5cbmV4cG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH07IiwiaW1wb3J0IHsgRE9NVXBkYXRlQ29udHJvbGxlciB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9ldmVudF9idW5kbGVyX29iamVjdFwiO1xuXG5jb25zdCBldmVudEFzc2lnbmVyID0gKCgpID0+IHtcbiAgICBjb25zdCBhZGROZXdUYWJMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgYWRkVGFiQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFiXCIpO1xuICAgICAgICBhZGRUYWJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGRUYWIpO1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJFZGl0QnV0dG9ucyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5lZGl0LXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYkVkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYWJJbnB1dEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFkZFRhYklucHV0TGlzdGVuZXIgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBldmVudEJ1bmRsZXIudXBkYXRlVGFiKVxuICAgIH1cbiAgICBjb25zdCBhZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXJGb3JOZXdUYWJzID0gKHRhYkVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWRpdEJ1dHRvbiA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5lZGl0LXRhYlwiKTtcbiAgICAgICAgdGFiRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmluc2VydFRhYklucHV0RWxlbWVudCk7XG4gICAgfTtcbiAgICBjb25zdCBhZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lckZvckluaXRpYWxUYWJzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YWJSZW1vdmVCdXR0b25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnJlbW92ZS10YWJcIikpO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB0YWJSZW1vdmVCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVUYWIpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXJGb3JOZXdUYWJzID0gKHRhYkVsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiUmVtb3ZlQnV0dG9uID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlbW92ZS10YWJcIik7XG4gICAgICAgIHRhYlJlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZVRhYik7XG4gICAgfVxuICAgIGNvbnN0IGFkZFN3aXRjaFRhYkxpc3RlbmVyRm9ySW5pdGlhbFRhYnMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYlN3aXRjaEJ1dHRvbnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuc3dpdGNoLXRhYlwiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhYlN3aXRjaEJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnN3aXRjaFRhYik7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGFkZFN3aXRjaFRhYkxpc3RlbmVyRm9yTmV3VGFicyA9ICh0YWJFbGVtZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYlN3aXRjaEJ1dHRvbiA9IHRhYkVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5zd2l0Y2gtdGFiXCIpO1xuICAgICAgICB0YWJTd2l0Y2hCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5zd2l0Y2hUYWIpXG4gICAgfVxuICAgIGNvbnN0IGFkZE5ld1Rhc2tMaXN0ZW5lciA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3VGFza0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmV3LXRvLWRvLXRhc2tcIik7XG4gICAgICAgIG5ld1Rhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5uZXdUYXNrKTtcbiAgICB9XG4gICAgY29uc3QgYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyRm9ySW5pdGlhbFRhYnMgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tSZW1vdmVCdXR0b25zID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRvLWRvLXJlbW92ZS10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza1JlbW92ZUJ1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnJlbW92ZVRhc2spO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgY29uc3QgYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyRm9yTmV3VGFza3MgPSAodGFza0VsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza1JlbW92ZUJ1dHRvbiA9IHRhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tcmVtb3ZlLXRhc2tcIik7XG4gICAgICAgIHRhc2tSZW1vdmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5yZW1vdmVUYXNrKTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZEVkaXRUYXNrTGlzdGVuZXJzRm9ySW5pdGlhbFRhc2tzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrRWRpdEJ1dHRvbnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWRpdC10YXNrXCIpKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgdGFza0VkaXRCdXR0b25zKSB7XG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5pbnNlcnRUYXNrSW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IGFkZFRhc2tJbnB1dExpc3RlbmVyID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZXZlbnRCdW5kbGVyLnVwZGF0ZVRhc2spO1xuICAgIH07XG4gICAgY29uc3QgYWRkRWRpdFRhc2tUaXRsZUxpc3RlbmVyRm9yTmV3VGFza3MgPSAodGFza0VsZW1lbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VkaXRCdXR0b25zID0gQXJyYXkuZnJvbSh0YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmVkaXQtdGFza1wiKSk7XG4gICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHRhc2tFZGl0QnV0dG9ucykge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudEJ1bmRsZXIuaW5zZXJ0VGFza0lucHV0RWxlbWVudCk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGFkZFRvZ2dsZVRhc2tDb21wbGV0ZUxpc3RlbmVyRm9ySW5pdGlhbFRhc2tzID0gKCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrQ29tcGxldGVDaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgZm9yIChjb25zdCBjaGVja2JveCBvZiB0YXNrQ29tcGxldGVDaGVja2JveGVzKSB7XG4gICAgICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLnRvZ2dsZVRhc2tDb21wbGV0ZSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lckZvck5ld1Rhc2tzID0gKG5ld1Rhc2tOb2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tDb21wbGV0ZUNoZWNrYm94ID0gbmV3VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKTtcbiAgICAgICAgdGFza0NvbXBsZXRlQ2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci50b2dnbGVUYXNrQ29tcGxldGUpXG4gICAgfVxuICAgIGNvbnN0IGFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lckZvckluaXRpYWxUYXNrcyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmFkZC1jaGVja2xpc3QtdGFza1wiKTtcbiAgICAgICAgZm9yIChjb25zdCBidXR0b24gb2YgbmV3Q2hlY2tsaXN0VGFza0J1dHRvbnMpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZXZlbnRCdW5kbGVyLmFkZE5ld0NoZWNrbGlzdFRhc2spXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBhZGROZXdDaGVja2xpc3RUYXNrTGlzdGVuZXJGb3JOZXdUYXNrcyA9IChuZXdDaGVja2xpc3RUYXNrTm9kZSkgPT4ge1xuICAgICAgICBjb25zdCBhZGRDaGVja2xpc3RUYXNrQnV0dG9uID0gbmV3Q2hlY2tsaXN0VGFza05vZGUucXVlcnlTZWxlY3RvcihcIi5hZGQtY2hlY2tsaXN0LXRhc2tcIik7XG4gICAgICAgIGFkZENoZWNrbGlzdFRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50QnVuZGxlci5hZGROZXdDaGVja2xpc3RUYXNrKVxuICAgIH07XG4gICAgcmV0dXJuIHsgYWRkTmV3VGFiTGlzdGVuZXIsIGFkZEVkaXRUYWJCdXR0b25MaXN0ZW5lciwgYWRkVGFiSW5wdXRMaXN0ZW5lcixcbiAgICAgICAgYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyRm9yTmV3VGFicywgYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXJGb3JJbml0aWFsVGFicyxcbiAgICAgICAgYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXJGb3JOZXdUYWJzLCBhZGRTd2l0Y2hUYWJMaXN0ZW5lckZvckluaXRpYWxUYWJzLFxuICAgICAgICBhZGRTd2l0Y2hUYWJMaXN0ZW5lckZvck5ld1RhYnMsIGFkZE5ld1Rhc2tMaXN0ZW5lciwgYWRkUmVtb3ZlVGFza0J1dHRvbkxpc3RlbmVyRm9ySW5pdGlhbFRhYnMsXG4gICAgICAgIGFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lckZvck5ld1Rhc2tzLCBhZGRFZGl0VGFza0xpc3RlbmVyc0ZvckluaXRpYWxUYXNrcyxcbiAgICAgICAgYWRkVGFza0lucHV0TGlzdGVuZXIsIGFkZEVkaXRUYXNrVGl0bGVMaXN0ZW5lckZvck5ld1Rhc2tzLFxuICAgICAgICBhZGRUb2dnbGVUYXNrQ29tcGxldGVMaXN0ZW5lckZvckluaXRpYWxUYXNrcywgYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXJGb3JOZXdUYXNrcywgXG4gICAgICAgIGFkZE5ld0NoZWNrbGlzdFRhc2tMaXN0ZW5lckZvckluaXRpYWxUYXNrcywgYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyRm9yTmV3VGFza3MsIH07XG59KSgpO1xuXG5leHBvcnQgeyBldmVudEFzc2lnbmVyIH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBET01Db250cm9sbGVyQWRkRWRpdCB9IGZyb20gXCIuL0RPTV9jb250cm9sbGVyX2FkZF9lZGl0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5cbmNvbnN0IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZVRhYkZyb21Ub2RvQXJyYXkgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGFiRWxlbWVudC5kYXRhc2V0LnRhYkluZGV4O1xuICAgICAgICB0b0RvTGlzdC5yZW1vdmVUYXNrKGluZGV4KTtcbiAgICB9O1xuICAgIGNvbnN0IHJlbW92ZVRhc2tGcm9tVGFiQXJyYXkgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFza0VsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhc2tFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0YXNrRWxlbWVudC5kYXRhc2V0LnRhc2tJbmRleDtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYkluZGV4ID0gdG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCk7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRUYWJPYmplY3QgPSB0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soY3VycmVudFRhYkluZGV4KTtcbiAgICAgICAgY3VycmVudFRhYk9iamVjdC5yZW1vdmVUYXNrKGluZGV4KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiRnJvbVRvZG9BcnJheSwgcmVtb3ZlVGFza0Zyb21UYWJBcnJheX07XG59KSgpO1xuXG5leHBvcnQgeyBvYmplY3RDb250cm9sbGVyUmVtb3ZlT2JqZWN0IH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5cbmNvbnN0IERPTUNvbnRyb2xsZXJSZW1vdmUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IHJlbW92ZVRhYk5hbWVFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBsZXQgc3dpdGNoVGFiID0gdGFiRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnN3aXRjaC10YWJcIilcbiAgICAgICAgdGFiRWxlbWVudC5yZW1vdmVDaGlsZChzd2l0Y2hUYWIpO1xuICAgICAgICBzd2l0Y2hUYWIgPSBudWxsXG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWJJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgdGFiRWxlbWVudCA9IGhlbHBlckZ1bmN0aW9ucy5lbnN1cmVDb3JyZWN0VGFiRWxlbWVudChldmVudCk7XG4gICAgICAgIGxldCBpbnB1dEVsZW1lbnQgPSB0YWJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKTtcbiAgICAgICAgdGFiRWxlbWVudC5yZW1vdmVDaGlsZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICBpbnB1dEVsZW1lbnQgPSBudWxsO1xuICAgIH07XG4gICAgY29uc3QgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhYkVsZW1lbnQgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFRhYkVsZW1lbnQoZXZlbnQpO1xuICAgICAgICBjb25zdCB0b0RvVGFiU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tdGFiLXNlY3Rpb25cIik7XG4gICAgICAgIHRvRG9UYWJTZWN0aW9uLnJlbW92ZUNoaWxkKHRhYkVsZW1lbnQpO1xuICAgICAgICB0YWJFbGVtZW50ID0gbnVsbDtcbiAgICB9O1xuICAgIGNvbnN0IHJlc2V0Q3VycmVudFRhYlN0YXR1cyA9ICgpID0+IHtcbiAgICAgICAgY29uc3QgY3VycmVudFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3VycmVudC10YWJcIik7XG4gICAgICAgIGlmIChjdXJyZW50VGFiICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjdXJyZW50VGFiLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrRWxlbWVudEZyb21ET00gPSAoZXZlbnQpID0+IHtcbiAgICAgICAgbGV0IHRhc2tFbGVtZW50ID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RUYXNrRWxlbWVudChldmVudCk7XG4gICAgICAgIGNvbnN0IHRvRG9UYXNrU2VjdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudG8tZG8tY29udGVudFwiKTtcbiAgICAgICAgdG9Eb1Rhc2tTZWN0aW9uLnJlbW92ZUNoaWxkKHRhc2tFbGVtZW50KTtcbiAgICAgICAgdGFza0VsZW1lbnQgPSBudWxsO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRhc2tTdWJjb250YWluZXIgPSBoZWxwZXJGdW5jdGlvbnMuZW5zdXJlQ29ycmVjdFN1YmNvbnRhaW5lcihldmVudCk7XG4gICAgICAgIGxldCB0YXNrU3ViY29udGVudEVsZW1lbnQgPSB0YXNrU3ViY29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICB0YXNrU3ViY29udGFpbmVyLnJlbW92ZUNoaWxkKHRhc2tTdWJjb250ZW50RWxlbWVudCk7XG4gICAgICAgIHRhc2tTdWJjb250ZW50RWxlbWVudCA9IG51bGxcbiAgICB9XG4gICAgY29uc3QgcmVtb3ZlVGFza0lucHV0RWxlbWVudCA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCB0YXNrU3ViY29udGFpbmVyID0gaGVscGVyRnVuY3Rpb25zLmVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIoZXZlbnQpO1xuICAgICAgICBsZXQgaW5wdXRFbGVtZW50ID0gdGFza1N1YmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIik7XG4gICAgICAgIHRhc2tTdWJjb250YWluZXIucmVtb3ZlQ2hpbGQoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgaW5wdXRFbGVtZW50ID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHsgcmVtb3ZlVGFiTmFtZUVsZW1lbnQsIHJlbW92ZVRhYklucHV0RWxlbWVudCwgcmVtb3ZlVGFiRWxlbWVudEZyb21ET00sXG4gICAgICAgIHJlc2V0Q3VycmVudFRhYlN0YXR1cywgcmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NLCByZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NLFxuICAgICAgICByZW1vdmVUYXNrSW5wdXRFbGVtZW50LCB9XG59KSgpO1xuXG5leHBvcnQgeyBET01Db250cm9sbGVyUmVtb3ZlIH07IiwiaW1wb3J0IHsgdG9Eb0xpc3QgfSBmcm9tIFwiLi90b2RvX2xpc3Rfb2JqZWN0XCI7XG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vdG9kb190YWJfb2JqZWN0XCI7XG5pbXBvcnQgeyB0aXRsZUJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuLi9jb21wb25lbnRzL2NvbnRhaW5zX2NoZWNrbGlzdF90YXNrX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RfY29udHJvbGxlcl9hZGRfZWRpdF9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfYWRkX2VkaXRcIjtcbmltcG9ydCB7IGV2ZW50QXNzaWduZXIgfSBmcm9tIFwiLi9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QgfSBmcm9tIFwiLi9vYmplY3RfY29udHJvbGxlcl9yZW1vdmVfb2JqZWN0XCI7XG5pbXBvcnQgeyBoZWxwZXJGdW5jdGlvbnMgfSBmcm9tIFwiLi9oZWxwZXJfZnVuY3Rpb25zXCI7XG5pbXBvcnQgeyBET01Db250cm9sbGVyUmVtb3ZlIH0gZnJvbSBcIi4vRE9NX2NvbnRyb2xsZXJfcmVtb3ZlXCI7XG5cbmNvbnN0IGV2ZW50QnVuZGxlciA9ICgoKSA9PiB7XG4gICAgY29uc3QgYWRkVGFiID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdUYWJJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1RhYlRvVG9kb0FycmF5KCk7XG4gICAgICAgIGNvbnN0IG5ld1RhYk5vZGUgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdUYWJUb0RPTShuZXdUYWJJbmRleCk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkRWRpdFRhYkJ1dHRvbkxpc3RlbmVyRm9yTmV3VGFicyhuZXdUYWJOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRSZW1vdmVUYWJCdXR0b25MaXN0ZW5lckZvck5ld1RhYnMobmV3VGFiTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkU3dpdGNoVGFiTGlzdGVuZXJGb3JOZXdUYWJzKG5ld1RhYk5vZGUpO1xuICAgICAgICBpZiAoaGVscGVyRnVuY3Rpb25zLmNoZWNrSWZPbmx5T25lVGFiKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VGFiSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5zZXRGaXJzdFRhYlRvQ3VycmVudFRhYigpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoZmlyc3RUYWJJbmRleClcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgaW5zZXJ0VGFiSW5wdXRFbGVtZW50ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghaGVscGVyRnVuY3Rpb25zLmNoZWNrRm9yVGFiSW5wdXRFbGVtZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gRE9NQ29udHJvbGxlckFkZEVkaXQuaW5zZXJ0VGFiSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiTmFtZUVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFiSW5wdXRFbGVtZW50VmFsdWUoZXZlbnQsIGlucHV0RWxlbWVudCk7XG4gICAgICAgICAgICBldmVudEFzc2lnbmVyLmFkZFRhYklucHV0TGlzdGVuZXIoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlVGFiID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5lZGl0VGFiTmFtZShldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYWJOYW1lRWxlbWVudChldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyUmVtb3ZlLnJlbW92ZVRhYklucHV0RWxlbWVudChldmVudCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZW1vdmVUYWIgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgb2JqZWN0Q29udHJvbGxlclJlbW92ZU9iamVjdC5yZW1vdmVUYWJGcm9tVG9kb0FycmF5KGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYWJFbGVtZW50RnJvbURPTShldmVudCk7XG4gICAgICAgIGlmIChoZWxwZXJGdW5jdGlvbnMuY2hlY2tJZldhc0N1cnJlbnRUYWIoZXZlbnQpKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdFRhYkluZGV4ID0gb2JqZWN0Q29udHJvbGxlckFkZEVkaXRPYmplY3Quc2V0Rmlyc3RUYWJUb0N1cnJlbnRUYWIoKTtcbiAgICAgICAgICAgIERPTUNvbnRyb2xsZXJBZGRFZGl0LnNldEZpcnN0VGFiVG9DdXJyZW50VGFiKGZpcnN0VGFiSW5kZXgpXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHN3aXRjaFRhYiA9IChldmVudCkgPT4ge1xuICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC51cGRhdGVDdXJyZW50VGFiKGV2ZW50KTtcbiAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZXNldEN1cnJlbnRUYWJTdGF0dXMoKTtcbiAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0Q3VycmVudFRhYkRPTShldmVudCk7XG4gICAgfVxuICAgIGNvbnN0IG5ld1Rhc2sgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld1Rhc2tJbmRleCA9IG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmFkZE5ld1Rhc2tUb1RhYigpO1xuICAgICAgICBjb25zdCBuZXdUYXNrTm9kZSA9IERPTUNvbnRyb2xsZXJBZGRFZGl0LmFkZE5ld1Rhc2tUb0RPTShuZXdUYXNrSW5kZXgpO1xuICAgICAgICBldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lckZvck5ld1Rhc2tzKG5ld1Rhc2tOb2RlKTtcbiAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFza1RpdGxlTGlzdGVuZXJGb3JOZXdUYXNrcyhuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXJGb3JOZXdUYXNrcyhuZXdUYXNrTm9kZSk7XG4gICAgICAgIGV2ZW50QXNzaWduZXIuYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyRm9yTmV3VGFza3MobmV3VGFza05vZGUpO1xuICAgIH1cbiAgICBjb25zdCByZW1vdmVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIG9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QucmVtb3ZlVGFza0Zyb21UYWJBcnJheShldmVudCk7XG4gICAgICAgIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFza0VsZW1lbnRGcm9tRE9NKGV2ZW50KTtcbiAgICB9O1xuICAgIGNvbnN0IGluc2VydFRhc2tJbnB1dEVsZW1lbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKCFoZWxwZXJGdW5jdGlvbnMuY2hlY2tGb3JUYXNrU3ViY29udGFpbmVySW5wdXRFbGVtZW50KGV2ZW50KSkge1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrU3ViY29udGVudEVsZW1lbnRGcm9tRE9NKGV2ZW50KTtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IERPTUNvbnRyb2xsZXJBZGRFZGl0Lmluc2VydFRhc2tJbnB1dEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlckFkZEVkaXQuc2V0VGFza0lucHV0RWxlbWVudFZhbHVlKGV2ZW50LCBpbnB1dEVsZW1lbnQpO1xuICAgICAgICAgICAgZXZlbnRBc3NpZ25lci5hZGRUYXNrSW5wdXRMaXN0ZW5lcihpbnB1dEVsZW1lbnQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBjb25zdCB1cGRhdGVUYXNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5jb2RlID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgIG9iamVjdENvbnRyb2xsZXJBZGRFZGl0T2JqZWN0LmVkaXRUYXNrT2JqZWN0SW5mbyhldmVudCk7XG4gICAgICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC5pbnNlcnRUYXNrU3ViY29udGVudEVsZW1lbnQoZXZlbnQpO1xuICAgICAgICAgICAgRE9NQ29udHJvbGxlclJlbW92ZS5yZW1vdmVUYXNrSW5wdXRFbGVtZW50KGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZVRhc2tDb21wbGV0ZSA9IChldmVudCkgPT4ge1xuICAgICAgICBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC50b2dnbGVUYXNrQ29tcGxldGUoZXZlbnQpO1xuICAgICAgICBET01Db250cm9sbGVyQWRkRWRpdC50b2dnbGVUYXNrRE9NQ29tcGxldGUoZXZlbnQpO1xuICAgIH07XG4gICAgY29uc3QgYWRkTmV3Q2hlY2tsaXN0VGFzayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBuZXdDaGVja2xpc3RUYXNrSW5kZXggPSBvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdC5hZGROZXdDaGVja2xpc3RUYXNrVG9UYXNrKGV2ZW50KTtcbiAgICAgICAgY29uc3QgbmV3Q2hlY2tsaXN0VGFza05vZGUgPSBET01Db250cm9sbGVyQWRkRWRpdC5hZGROZXdDaGVja2xpc3RUYXNrVG9ET00oZXZlbnQsIG5ld0NoZWNrbGlzdFRhc2tJbmRleCk7XG4gICAgfTtcbiAgICByZXR1cm4geyBhZGRUYWIsIGluc2VydFRhYklucHV0RWxlbWVudCwgdXBkYXRlVGFiLCByZW1vdmVUYWIsIHN3aXRjaFRhYixcbiAgICAgICAgbmV3VGFzaywgcmVtb3ZlVGFzaywgaW5zZXJ0VGFza0lucHV0RWxlbWVudCwgdXBkYXRlVGFzaywgdG9nZ2xlVGFza0NvbXBsZXRlLCBhZGROZXdDaGVja2xpc3RUYXNrLCB9O1xufSkoKTtcblxuZXhwb3J0IHsgZXZlbnRCdW5kbGVyIH07IiwiaW1wb3J0IHsgdG9Eb1Rhc2sgfSBmcm9tIFwiLi9vYmplY3RzL3RvZG9fdGFza19vYmplY3RcIjtcbmltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL29iamVjdHMvY2hlY2tsaXN0X29iamVjdFwiO1xuaW1wb3J0IHsgY2hlY2tsaXN0VGFza09iamVjdCB9IGZyb20gXCIuL29iamVjdHMvY2hlY2tsaXN0X3Rhc2tfb2JqZWN0XCI7XG5pbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9kZXNjcmlwdGlvbl9jb21wb25lbnRcIjtcbmltcG9ydCB7IGNvbXBsZXRlZEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb21wbGV0ZWRfY29tcG9uZW50XCI7XG5cbi8vIHRlc3RpbmcgdG9kbyB0YXNrIG9iamVjdFxuaW1wb3J0IHsgdGl0bGVCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvdGl0bGVfY29tcG9uZW50XCI7XG4vLyBpbXBvcnQgeyBkZXNjcmlwdGlvbkJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vZGVzY3JpcHRpb25fY29tcG9uZW50XCI7XG5pbXBvcnQgeyBkdWVEYXRlQmVoYXZpb3JDb21wb25lbnQgfSBmcm9tIFwiLi9jb21wb25lbnRzL2R1ZV9kYXRlX2NvbXBvbmVudFwiO1xuaW1wb3J0IHsgbm90ZXNCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvbm90ZXNfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBjb250YWluc0NoZWNrbGlzdEJlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfY29tcG9uZW50XCI7XG5pbXBvcnQgeyBwaW5uZWRCZWhhdmlvckNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvcGlubmVkX2NvbXBvbmVudFwiO1xuXG4vLyB0ZXN0aW5nIGNoZWNrbGlzdCBvYmplY3Rcbi8vIGltcG9ydCB7IGNoZWNrbGlzdE9iamVjdCB9IGZyb20gXCIuL2NoZWNrbGlzdF9vYmplY3RcIjtcbmltcG9ydCB7IGNvbnRhaW5zQ2hlY2tsaXN0VGFza0JlaGF2aW9yQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9jb250YWluc19jaGVja2xpc3RfdGFza19jb21wb25lbnRcIjtcblxuLy8gdGVzdGluZyB0YWJzIChhcnJheXMgdGhhdCBjb250YWluIG1hbnkgdG8gZG8gdGFza3MpXG5pbXBvcnQgeyB0b0RvVGFiIH0gZnJvbSBcIi4vb2JqZWN0cy90b2RvX3RhYl9vYmplY3RcIjtcblxuLy8gdGVzdGluZyBsaXN0IHRoYXQgY29udGFpbiBldmVyeXRoaW5nXG5pbXBvcnQgeyB0b0RvTGlzdCB9IGZyb20gXCIuL29iamVjdHMvdG9kb19saXN0X29iamVjdFwiO1xuXG4vLyB0ZXN0aW5nIGZvciBET00gY29udHJvbGxlciBvYmplY3RzXG5pbXBvcnQgeyBldmVudEJ1bmRsZXIgfSBmcm9tIFwiLi9vYmplY3RzL2V2ZW50X2J1bmRsZXJfb2JqZWN0XCI7XG5pbXBvcnQgeyBldmVudEFzc2lnbmVyIH0gZnJvbSBcIi4vb2JqZWN0cy9ldmVudF9hc3NpZ25lcl9vYmplY3RcIjtcbmltcG9ydCB7IERPTUNvbnRyb2xsZXJBZGRFZGl0IH0gZnJvbSBcIi4vb2JqZWN0cy9ET01fY29udHJvbGxlcl9hZGRfZWRpdFwiO1xuXG4vLyBsZXQgdGVzdCA9IGNoZWNrbGlzdFRhc2tPYmplY3QoXCJkZHRlc3RcIik7XG4vLyBjb25zb2xlLmxvZyh0ZXN0KVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGlmICh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCkpIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIG5vdyB0cnVlXCIpXG4vLyB9IGVsc2Uge1xuLy8gICAgIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSxcInRoaXMgaXMgc3RpbGwgZmFsc2VcIilcbi8vIH1cblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBjb25zb2xlLmxvZyh0ZXN0LnRvZ2dsZUNvbXBsZXRlZFN0YXRlKCkpXG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuXG4vLyBpZiAodGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpKSB7XG4vLyAgICAgY29uc29sZS5sb2codGVzdC5nZXRDb21wbGV0ZWRTdGF0ZSgpLFwidGhpcyBpcyBub3cgdHJ1ZVwiKVxuLy8gfSBlbHNlIHtcbi8vICAgICBjb25zb2xlLmxvZyh0ZXN0LmdldENvbXBsZXRlZFN0YXRlKCksXCJ0aGlzIGlzIHN0aWxsIGZhbHNlXCIpXG4vLyB9XG5cbi8vIGNvbnNvbGUubG9nKHRlc3QuZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gY29uc29sZS5sb2codGVzdClcblxuLy8gY29uc29sZS5sb2codGVzdC5nZXRUYXNrRGVzY3JpcHRpb24oKSlcbi8vIHRlc3Quc2V0VGFza0Rlc2NyaXB0aW9uKFwid293d2llXCIpXG4vLyBjb25zb2xlLmxvZyh0ZXN0LmdldFRhc2tEZXNjcmlwdGlvbigpKVxuXG4vLyBsZXQgaW1wb3J0YW50VGFzayA9IHRvRG9UYXNrKFwiTWFrZSBDZXJlYWxcIiwgXCJwYXJ0IG9mIGJyZWFrZmFzdCBwbGFuXCIsIFwidGhpcyBtb3JuaW5nXCIsIFwibWFrZSBzdXJlIHRvIHB1dCBtaWxrIGJhY2sgaW4gZnJpZGdlXCIpO1xuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzaylcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza1RpdGxlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEZXNjcmlwdGlvbigpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrRHVlRGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrTm90ZXMoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0UGlubmVkU3RhdGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q29tcGxldGVkU3RhdGUoKSlcblxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrVGl0bGUoXCJNYWtlIENoaWNrZW4gQnJvdGhcIilcbi8vIGltcG9ydGFudFRhc2suc2V0VGFza0Rlc2NyaXB0aW9uKFwicmVxdWlyZXMgMSBjaGlja2VuIGFuZCAxIGJyb3RoXCIpXG4vLyBpbXBvcnRhbnRUYXNrLnNldFRhc2tEdWVEYXRlKFwiYmVmb3JlIEkgY2F1Z2h0IHRoaXMgY29sZFwiKVxuLy8gaW1wb3J0YW50VGFzay5zZXRUYXNrTm90ZXMoXCJkb24ndCBzbmVlemUgaW50byBwb3RcIilcbi8vIGltcG9ydGFudFRhc2sudG9nZ2xlUGlubmVkU3RhdGUoKTtcbi8vIGltcG9ydGFudFRhc2sudG9nZ2xlQ29tcGxldGVkU3RhdGUoKTtcblxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRUYXNrVGl0bGUoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tEdWVEYXRlKCkpXG4vLyBjb25zb2xlLmxvZyhpbXBvcnRhbnRUYXNrLmdldFRhc2tOb3RlcygpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRQaW5uZWRTdGF0ZSgpKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRDb21wbGV0ZWRTdGF0ZSgpKVxuXG4vLyBpbXBvcnRhbnRUYXNrLmFkZFRhc2sodGVzdClcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKGltcG9ydGFudFRhc2suZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2coaW1wb3J0YW50VGFzay5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza0Rlc2NyaXB0aW9uKCkpXG5cbmxldCB0YWIxID0gdG9Eb1RhYihcIkRlZmF1bHQgdGVzdFwiKVxuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIHRhYjEuYWRkVGFzayhpbXBvcnRhbnRUYXNrKVxuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbi8vIGxldCBhbm90aGVySW1wb3J0YW50VGFzayA9IHRvRG9UYXNrKFwiQ2xlYW4gcG90XCIsIFwicGFydCBvZiBjaG9yZXMgcGxhblwiLCBcInRoaXMgYWZ0ZXJub29uXCIsIFwibWFrZSBzdXJlIHRvIHVzZSBzb2FwXCIpO1xuLy8gY29uc29sZS5sb2codGFiMSlcbi8vIHRhYjEuYWRkVGFzayhhbm90aGVySW1wb3J0YW50VGFzaylcbi8vIGNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDEpKVxuLy8gY29uc29sZS5sb2codGFiMS5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMSkuZ2V0VGFza1RpdGxlKCkpXG5cbnRvRG9MaXN0LmFkZFRhc2sodGFiMSlcbi8vIGNvbnNvbGUubG9nKHRvRG9MaXN0LmdldENoZWNrbGlzdFRhc2tzKCkpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkpXG4vLyBjb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRTcGVjaWZpY0NoZWNrbGlzdFRhc2soMCkuZ2V0VGFza1RpdGxlKCkpXG5cbi8vIC8vIERPTUNvbnRyb2xsZXJSZW1vdmUucmVtb3ZlVGFiKDApO1xuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcblxuLy8gbGV0IHRhYjIgPSB0b0RvVGFiKFwiaGVlIGhlZVwiKVxuLy8gdG9Eb0xpc3QuYWRkVGFzayh0YWIyKVxuLy8gY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q2hlY2tsaXN0VGFza3MoKSlcblxubGV0IHRhc2sxID0gdG9Eb1Rhc2soXCJNYWtlIE1vbmV5IFRFU1RcIiwgXCJUYXNrIER1ZSBEYXRlXCIsIFwiVGFzayBEZXNjcmlwdGlvblwiLCBcIlRhc2sgTm90ZXNcIik7XG5jb25zb2xlLmxvZyh0YWIxLmFkZFRhc2sodGFzazEpKVxuXG5ldmVudEFzc2lnbmVyLmFkZE5ld1RhYkxpc3RlbmVyKCk7XG4vLyBldmVudEFzc2lnbmVyLmFkZEVkaXRUYWJMaXN0ZW5lcigpO1xuZXZlbnRBc3NpZ25lci5hZGRFZGl0VGFiQnV0dG9uTGlzdGVuZXIoKTtcbmV2ZW50QXNzaWduZXIuYWRkUmVtb3ZlVGFiQnV0dG9uTGlzdGVuZXJGb3JJbml0aWFsVGFicygpO1xuXG5cblxuY29uc29sZS5sb2codG9Eb0xpc3QpXG5jb25zb2xlLmxvZyh0b0RvTGlzdC5nZXRDaGVja2xpc3RUYXNrcygpKVxuY29uc29sZS5sb2codG9Eb0xpc3QuZ2V0Q3VycmVudFRhYkluZGV4KCkpXG5jb25zb2xlLmxvZyh0YWIxLmdldENoZWNrbGlzdFRhc2tzKCkpXG5jb25zb2xlLmxvZyh0YWIxLmdldFNwZWNpZmljQ2hlY2tsaXN0VGFzaygwKSlcbmNvbnNvbGUubG9nKHRhYjEuZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrKDApLmdldFRhc2tUaXRsZSgpKVxuXG5ET01Db250cm9sbGVyQWRkRWRpdC5zZXREZWZhdWx0Q3VycmVudFRhYkRPTSgwKVxuXG5ldmVudEFzc2lnbmVyLmFkZFN3aXRjaFRhYkxpc3RlbmVyRm9ySW5pdGlhbFRhYnMoKVxuXG5ldmVudEFzc2lnbmVyLmFkZE5ld1Rhc2tMaXN0ZW5lcigpO1xuXG5ldmVudEFzc2lnbmVyLmFkZFJlbW92ZVRhc2tCdXR0b25MaXN0ZW5lckZvckluaXRpYWxUYWJzKCk7XG5cbmV2ZW50QXNzaWduZXIuYWRkRWRpdFRhc2tMaXN0ZW5lcnNGb3JJbml0aWFsVGFza3MoKTtcblxuLy8gY29uc3QgaGVoID0gKCkgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKFwiYmxvb3BcIilcbi8vIH1cblxuLy8gY29uc3QgYm9pID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50by1kby1jb21wbGV0ZS1jaGVja2JveFwiKVxuLy8gYm9pLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoZWgpXG5cbmV2ZW50QXNzaWduZXIuYWRkVG9nZ2xlVGFza0NvbXBsZXRlTGlzdGVuZXJGb3JJbml0aWFsVGFza3MoKTtcbmV2ZW50QXNzaWduZXIuYWRkTmV3Q2hlY2tsaXN0VGFza0xpc3RlbmVyRm9ySW5pdGlhbFRhc2tzKCk7Il0sIm5hbWVzIjpbInRpdGxlQmVoYXZpb3JDb21wb25lbnQiLCJvYmplY3QiLCJpbml0aWFsVGl0bGUiLCJ0aXRsZSIsIk9iamVjdCIsImFzc2lnbiIsImdldFRhc2tUaXRsZSIsInNldFRhc2tUaXRsZSIsIm5ld1RpdGxlIiwiZGVzY3JpcHRpb25CZWhhdmlvckNvbXBvbmVudCIsImluaXRpYWxEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiZ2V0VGFza0Rlc2NyaXB0aW9uIiwic2V0VGFza0Rlc2NyaXB0aW9uIiwibmV3RGVzY3JpcHRpb24iLCJjb21wbGV0ZWRCZWhhdmlvckNvbXBvbmVudCIsImNvbXBsZXRlZCIsInRvZ2dsZUNvbXBsZXRlZFN0YXRlIiwiZ2V0Q29tcGxldGVkU3RhdGUiLCJjb250YWluc0NoZWNrbGlzdFRhc2tCZWhhdmlvckNvbXBvbmVudCIsImNoZWNrbGlzdCIsImFkZFRhc2siLCJ0YXNrIiwicHVzaCIsImxlbmd0aCIsInJlbW92ZVRhc2siLCJpbmRleCIsInVuZGVmaW5lZCIsImdldENoZWNrbGlzdFRhc2tzIiwiZ2V0U3BlY2lmaWNDaGVja2xpc3RUYXNrIiwidG9Eb1Rhc2siLCJkdWVEYXRlIiwibm90ZXMiLCJpbml0aWFsRHVlRGF0ZSIsImdldFRhc2tEdWVEYXRlIiwic2V0VGFza0R1ZURhdGUiLCJuZXdEdWVEYXRlIiwiZHVlRGF0ZUJlaGF2aW9yQ29tcG9uZW50IiwiaW5pdGlhbE5vdGVzIiwiZ2V0VGFza05vdGVzIiwic2V0VGFza05vdGVzIiwibmV3Tm90ZXMiLCJub3Rlc0JlaGF2aW9yQ29tcG9uZW50IiwicGlubmVkIiwidG9nZ2xlUGlubmVkU3RhdGUiLCJnZXRQaW5uZWRTdGF0ZSIsInBpbm5lZEJlaGF2aW9yQ29tcG9uZW50IiwidG9Eb1RhYiIsInRvRG9MaXN0IiwiY3VycmVudFRhYiIsImdldEN1cnJlbnRUYWJJbmRleCIsInNldEN1cnJlbnRUYWJJbmRleCIsIm5ld0N1cnJlbnRUYWIiLCJoZWxwZXJGdW5jdGlvbnMiLCJlbnN1cmVDb3JyZWN0VGFiRWxlbWVudCIsImV2ZW50IiwidGFiRWxlbWVudCIsInRhcmdldCIsInBhcmVudEVsZW1lbnQiLCJnZXRBdHRyaWJ1dGUiLCJlbnN1cmVDb3JyZWN0VGFza0VsZW1lbnQiLCJ0YXNrRWxlbWVudCIsImVuc3VyZUNvcnJlY3RTdWJjb250YWluZXIiLCJ0YXNrU3ViY29udGFpbmVyIiwiY2xhc3NMaXN0IiwiQXJyYXkiLCJmcm9tIiwiaW5jbHVkZXMiLCJlbnN1cmVDb3JyZWN0QnV0dG9uRWxlbWVudCIsImJ1dHRvbkVsZW1lbnQiLCJ0YWdOYW1lIiwiY2hlY2tGb3JUYWJJbnB1dEVsZW1lbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNoZWNrSWZXYXNDdXJyZW50VGFiIiwiY2hlY2tJZk9ubHlPbmVUYWIiLCJ0b0RvVGFiU2VjdGlvbiIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjaGVja0ZvclRhc2tTdWJjb250YWluZXJJbnB1dEVsZW1lbnQiLCJnZXRUYXJnZXRUYXNrT2JqZWN0IiwiZGF0YXNldCIsInRhc2tJbmRleCIsImN1cnJlbnRUYWJJbmRleCIsImdldEJ1dHRvblR5cGUiLCJnZXRTdWJjb250YWluZXJUeXBlIiwiZW5zdXJlQ29ycmVjdFRhc2tDaGVja2xpc3RFbGVtZW50IiwidGFza0NoZWNrbGlzdEVsZW1lbnQiLCJvYmplY3RDb250cm9sbGVyQWRkRWRpdE9iamVjdCIsIm5ld1RhYiIsInRhYkluZGV4IiwidmFsdWUiLCJ0YWJBcnJheSIsImZpcnN0VGFiIiwidGFiIiwibmV3VGFzayIsInRhc2tPYmplY3QiLCJuZXdUYXNrVGl0bGVWYWx1ZSIsInRhc2tTdWJjb250YWluZXJUeXBlIiwibmV3Q2hlY2tsaXN0VGFzayIsImNoZWNrbGlzdFRhc2tPYmplY3QiLCJuZXdDaGVja2xpc3RUYXNrSW5kZXgiLCJET01Db250cm9sbGVyQWRkRWRpdCIsImFkZFRhYkJ1dHRvbiIsIm5ld1RhYk5vZGUiLCJjcmVhdGVFbGVtZW50IiwibmV3VGFiT2JqZWN0VGl0bGUiLCJhZGQiLCJpbm5lckhUTUwiLCJ0ZXh0Q29udGVudCIsImluc2VydEJlZm9yZSIsImlucHV0RWxlbWVudCIsInRhYk5hbWUiLCJzZXRBdHRyaWJ1dGUiLCJmaXJzdENoaWxkIiwiZm9jdXMiLCJ0YWJCdXR0b24iLCJ0YWJCdXR0b25OYW1lIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdFRhYkluZGV4IiwibmV3VGFza09iamVjdCIsInRvRG9Db250ZW50IiwibmV3VGFza05vZGUiLCJuZXdUYXNrVGl0bGUiLCJuZXdUYXNrRGVzY3JpcHRpb24iLCJuZXdUYXNrRHVlRGF0ZSIsIm5ld1Rhc2tOb3RlcyIsImJ1dHRvblR5cGUiLCJ0YXNrU3ViY29udGVudCIsInRhc2tTdWJjb250ZW50RWxlbWVudCIsInRhc2tUaXRsZSIsInRhc2tEdWVEYXRlIiwidGFza0Rlc2NyaXB0aW9uIiwidGFza05vdGVzIiwiY29tcGxldGVDaGVja2JveCIsInRhc2tDb21wbGV0ZWRTdGF0ZWQiLCJjaGVja2VkIiwibmV3Q2hlY2tsaXN0VGFza0Rlc2NyaXB0aW9uIiwibmV3Q2hlY2tsaXN0VGFza0NvbXBsZXRlZCIsIm5ld0NoZWNrbGlzdFRhc2tOb2RlIiwiY2hlY2tsaXN0VGFza0luZGV4IiwiZXZlbnRBc3NpZ25lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudEJ1bmRsZXIiLCJhZGRUYWIiLCJ0YWJFZGl0QnV0dG9ucyIsImJ1dHRvbiIsImluc2VydFRhYklucHV0RWxlbWVudCIsInVwZGF0ZVRhYiIsInRhYlJlbW92ZUJ1dHRvbnMiLCJyZW1vdmVUYWIiLCJ0YWJTd2l0Y2hCdXR0b25zIiwic3dpdGNoVGFiIiwidGFza1JlbW92ZUJ1dHRvbnMiLCJ0YXNrRWRpdEJ1dHRvbnMiLCJpbnNlcnRUYXNrSW5wdXRFbGVtZW50IiwidXBkYXRlVGFzayIsInRhc2tDb21wbGV0ZUNoZWNrYm94ZXMiLCJjaGVja2JveCIsInRvZ2dsZVRhc2tDb21wbGV0ZSIsIm5ld0NoZWNrbGlzdFRhc2tCdXR0b25zIiwiYWRkTmV3Q2hlY2tsaXN0VGFzayIsIm9iamVjdENvbnRyb2xsZXJSZW1vdmVPYmplY3QiLCJET01Db250cm9sbGVyUmVtb3ZlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJuZXdUYWJJbmRleCIsImNvZGUiLCJuZXdUYXNrSW5kZXgiLCJ0YWIxIiwidGFzazEiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==